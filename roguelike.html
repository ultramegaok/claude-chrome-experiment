<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roguelike Prototype</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a14;
            color: #c0c0c0;
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            flex-direction: column;
            gap: 10px;
        }

        #game-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }

        #game-canvas {
            border: 2px solid #4a4a6a;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            cursor: crosshair;
        }

        #ui-bar {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #8888aa;
        }

        #seed-display {
            color: #6a6a8a;
            font-size: 11px;
        }

        #messages {
            width: 800px;
            height: 80px;
            background: #12121c;
            border: 1px solid #3a3a5a;
            padding: 8px;
            overflow-y: auto;
            font-size: 12px;
        }

        .message {
            margin: 2px 0;
            color: #9999bb;
        }

        .message.move {
            color: #6a6a8a;
        }

        .message.info {
            color: #88aaff;
        }

        .message.warn {
            color: #ffaa44;
            background: rgba(255, 170, 68, 0.06);
            padding: 1px 4px;
            border-radius: 2px;
        }

        .message.path {
            color: #88ff88;
            background: rgba(136, 255, 136, 0.04);
            padding: 1px 4px;
            border-radius: 2px;
        }

        .message.info {
            background: rgba(136, 170, 255, 0.04);
            padding: 1px 4px;
            border-radius: 2px;
        }

        #controls-hint {
            font-size: 12px;
            color: #5a5a7a;
            text-align: center;
        }

        #save-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            color: #88ff88;
            font-size: 12px;
            font-family: 'Courier New', monospace;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
            z-index: 200;
        }

        #tooltip {
            position: fixed;
            background: #1a1a2e;
            border: 1px solid #4a4a6a;
            padding: 4px 8px;
            font-size: 12px;
            color: #ccccee;
            pointer-events: none;
            display: none;
            z-index: 100;
            white-space: nowrap;
        }

        #compass-arrow {
            font-size: 16px;
            font-weight: bold;
        }

        #stabilizer-display {
            color: #88ffff;
        }

        h1 {
            color: #aaaacc;
            font-size: 24px;
            font-weight: normal;
            letter-spacing: 2px;
        }

        #replay-panel {
            display: none;
            flex-direction: row;
            justify-content: center;
            gap: 6px;
            padding: 6px 12px;
            background: #12121c;
            border: 1px solid #3a3a5a;
            border-radius: 4px;
        }

        .replay-btn {
            background: #1a1a2e;
            color: #aaaacc;
            border: 1px solid #4a4a6a;
            padding: 4px 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            cursor: pointer;
            border-radius: 3px;
        }

        .replay-btn:hover {
            background: #2a2a3e;
            color: #ccccee;
            border-color: #6a6a8a;
        }

        #replay-library {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #12121c;
            border: 2px solid #4a4a6a;
            border-radius: 6px;
            padding: 16px;
            z-index: 200;
            min-width: 420px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
        }

        #replay-library .lib-title {
            color: #aaaacc;
            font-size: 14px;
            letter-spacing: 2px;
            margin-bottom: 12px;
            text-align: center;
        }

        .replay-entry {
            display: block;
            width: 100%;
            text-align: left;
            background: #1a1a2e;
            color: #9999bb;
            border: 1px solid #3a3a5a;
            padding: 8px 10px;
            margin-bottom: 4px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            cursor: pointer;
            border-radius: 3px;
        }

        .replay-entry:hover {
            background: #2a2a3e;
            color: #ccccee;
            border-color: #6a6a8a;
        }

        .replay-entry .replay-desc {
            color: #88aaff;
            font-size: 12px;
        }

        .replay-entry .replay-meta {
            color: #6a6a8a;
            font-size: 10px;
            margin-top: 2px;
        }

        .replay-entry .replay-won {
            color: #44ff88;
        }

        .replay-entry .replay-lost {
            color: #ff4444;
        }

        #replay-library .lib-actions {
            display: flex;
            gap: 6px;
            margin-top: 12px;
            justify-content: center;
        }

        #replay-library-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 199;
        }

        #leaderboard-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #12121c;
            border: 2px solid #4a4a6a;
            border-radius: 6px;
            padding: 16px;
            z-index: 200;
            min-width: 440px;
            max-width: 620px;
            font-family: 'Courier New', monospace;
        }

        #leaderboard-panel .lb-title {
            color: #ffcc44;
            font-size: 14px;
            letter-spacing: 2px;
            margin-bottom: 12px;
            text-align: center;
        }

        .lb-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #1a1a2e;
            border: 1px solid #3a3a5a;
            padding: 6px 10px;
            margin-bottom: 3px;
            border-radius: 3px;
            font-size: 11px;
            color: #9999bb;
        }

        .lb-entry.lb-highlight {
            border-color: #ffcc44;
            color: #ccccee;
        }

        .lb-entry .lb-rank {
            color: #ffcc44;
            font-weight: bold;
            width: 24px;
        }

        .lb-entry .lb-info {
            flex: 1;
            margin: 0 8px;
        }

        .lb-entry .lb-level {
            color: #44ff88;
            font-size: 13px;
            font-weight: bold;
        }

        .lb-entry .lb-actions button {
            background: #1a1a2e;
            color: #88aaff;
            border: 1px solid #4a4a6a;
            padding: 2px 8px;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            cursor: pointer;
            border-radius: 3px;
            margin-left: 4px;
        }

        .lb-entry .lb-actions button:hover {
            background: #2a2a3e;
            color: #ccccee;
        }

        #leaderboard-panel .lb-actions-bar {
            display: flex;
            gap: 6px;
            margin-top: 12px;
            justify-content: center;
        }

        #leaderboard-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 199;
        }
    </style>
</head>
<body>
    <div id="tooltip"></div>
    <div id="save-indicator">Saved</div>
    <h1>DECAY ROGUELIKE</h1>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>
        <div id="ui-bar">
            <span>Pos: <span id="pos-display">0, 0</span></span>
            <span>Moves: <span id="moves-display">0</span></span>
            <span>Level: <span id="level-display">1</span></span>
            <span>Crystals: <span id="crystals-display">0/0</span></span>
            <span>Stabilizers: <span id="stabilizer-display">0</span></span>
            <span>Grapple: <span id="grapple-display">0</span></span>
            <span id="compass-display">Exit: <span id="compass-arrow">?</span> <span id="compass-dist"></span></span>
            <span id="decay-status">Decay: ON</span>
            <span id="stabilizer-info" style="color: #88ffff;"></span>
            <span id="pillar-indicator" style="color: #88ff88;"></span>
            <span id="seed-display">Seed: ------</span>
        </div>
        <div id="messages"></div>
        <div id="controls-hint">
            <span id="action-hints"></span>
        </div>
        <div id="replay-panel">
            <button class="replay-btn" id="replay-btn-pause" onclick="toggleReplayPause()">‚è∏ Pause</button>
            <button class="replay-btn" onclick="stepReplayForward()">‚è≠ Step</button>
            <button class="replay-btn" onclick="exitReplayToNewGame()">‚èπ New Game</button>
            <button class="replay-btn" onclick="replayState.speed = Math.max(50, replayState.speed - 50); addMessage('Replay speed: '+replayState.speed+'ms/step','info');">‚è© Faster</button>
            <button class="replay-btn" onclick="replayState.speed = Math.min(1000, replayState.speed + 50); addMessage('Replay speed: '+replayState.speed+'ms/step','info');">‚è™ Slower</button>
            <button class="replay-btn" onclick="showReplayLibrary()">üìÇ Library</button>
        </div>
    </div>
    <div id="replay-library-backdrop" onclick="hideReplayLibrary()"></div>
    <div id="replay-library">
        <div class="lib-title">REPLAY LIBRARY</div>
        <div id="replay-list"></div>
        <div class="lib-actions">
            <button class="replay-btn" onclick="loadReplayFromFile()">Load from file...</button>
            <button class="replay-btn" onclick="hideReplayLibrary()">Close</button>
        </div>
    </div>
    <div id="leaderboard-backdrop" onclick="hideLeaderboard()"></div>
    <div id="leaderboard-panel">
        <div class="lb-title">LEADERBOARD ‚Äî TOP 5</div>
        <div id="leaderboard-list"></div>
        <div class="lb-actions-bar">
            <button class="replay-btn" onclick="clearLeaderboard()">Clear All</button>
            <button class="replay-btn" onclick="hideLeaderboard()">Close</button>
        </div>
    </div>

    <script>
        // ============ CONSTANTS ============
        const TILE = {
            VOID: -1,      // Collapsed, impassable
            WALL: 0,
            FLOOR: 1,
            STAIRS_DOWN: 2,
            CRYSTAL: 3,
            PILLAR: 4
        };

        // Decay phase thresholds
        const DECAY_PHASE = {
            SOLID: 6,      // 6+ turns: full stability
            STABLE: 4,     // 4-5 turns: minor cracks
            CRACKED: 2,    // 2-3 turns: danger
            CRUMBLING: 1,  // 1 turn: critical
            COLLAPSED: 0   // void
        };

        const COLORS = {
            background: '#0a0a14',
            wall: '#4a4a6a',
            wallDim: '#2a2a3a',
            floor: '#2d2d44',
            floorDim: '#15151f',
            player: '#ffd700',
            stairs: '#44ff88',
            pathPreview: '#44aaff',
            pathTarget: '#ff4444',
            // Decay phase colors
            decaySolid: '#3a4a5a',      // Blue-grey, stable
            decayStable: '#4a5a4a',     // Slight green tint
            decayCracked: '#6a5a3a',    // Yellow/orange warning
            decayCrumbling: '#7a3a3a',  // Red danger
            void: '#0a0a14',            // Same as background
            crystal: '#88ffff',
            pillar: '#8888aa'
        };

        const CONFIG = {
            mapWidth: 50,
            mapHeight: 30,
            tileSize: 16,
            minRooms: 5,
            maxRooms: 8,
            minRoomSize: 4,
            maxRoomSize: 10,
            maxRoomAttempts: 100,
            fovRadius: 8,
            pathStepDelay: 50,
            // Decay settings (base values - modified by level via getLevelConfig())
            roomDecayBase: 12,         // Base decay for room tiles
            roomDecayRandom: 4,        // Random variance for rooms (0 to this)
            corridorDecayBase: 8,      // Base decay for corridor tiles
            corridorDecayRandom: 3,    // Random variance for corridors
            distanceDecayDivisor: 3,   // +1 stability per this many tiles from start (0 = disabled)
            stairsDecayBonus: 20,      // Extra stability near stairs
            stairsDecayRadius: 3,      // Radius for stairs bonus
            chainCollapseAmount: 2,    // Adjacent tiles lose this when tile collapses
            stateHistorySize: 5,       // Number of states to keep for rewind
            crystalsPerLevel: 3
        };

        const REPLAY_VERSION = 3;  // Increment on breaking changes (v3: stabilizer selection + menu)
        const SAVE_VERSION = 2;    // Save system version (v2: stabilizer selection + menu)

        // Pre-computed 21-level decay color LUT (indices 0-20)
        // Smooth HSL gradient: red(0) ‚Üí orange(5) ‚Üí green(10) ‚Üí blue-grey(20)
        const DECAY_COLOR_LUT = (function() {
            const lut = new Array(21);
            for (let i = 0; i <= 20; i++) {
                const t = i / 20; // 0 to 1
                let h, s, l;
                if (t <= 0.25) {
                    // 0-5: red danger ‚Üí orange warning
                    const u = t / 0.25;
                    h = 0 + u * 40;
                    s = 55 - u * 20;
                    l = 28 + u * 0;
                } else if (t <= 0.5) {
                    // 5-10: orange ‚Üí greenish grey
                    const u = (t - 0.25) / 0.25;
                    h = 40 + u * 80;
                    s = 35 - u * 20;
                    l = 28 - u * 3;
                } else {
                    // 10-20: green-grey ‚Üí cool blue-grey
                    const u = (t - 0.5) / 0.5;
                    h = 120 + u * 90;
                    s = 15 + u * 5;
                    l = 25 - u * 3;
                }
                lut[i] = `hsl(${Math.round(h)}, ${Math.round(s)}%, ${Math.round(l)}%)`;
            }
            lut[0] = COLORS.void; // Collapsed = void
            return lut;
        })();

        // Level-gated difficulty scaling (per ChatGPT recommendations)
        // Level 1: No decay (tutorial)
        // Level 2: Very generous decay, full distance bonus, easy
        // Level 3: Moderate decay, reduced distance bonus, planning starts
        // Level 4: Tight corridors, loose rooms, distance bonus enabled (optimized for skill gap)
        // Level 5+: Expert - very tight decay, chain collapse, mastery required
        function getLevelConfig(level) {
            const base = {
                ...CONFIG,
                // Stabilizer settings (uniform across all levels)
                stabilizerRadius: 2,
                stabilizerDuration: 4,
                stabilizerCooldown: 3,
                stabilizerCanRefresh: false,
                rewindCostsCharge: false
            };

            if (level === 1) {
                // Tutorial level - no decay pressure, small map
                base.minRooms = 3;
                base.maxRooms = 3;
                base.minRoomSize = 4;
                base.maxRoomSize = 6;
                return base;  // decayEnabled will be false anyway
            } else if (level === 2) {
                // Very gentle introduction to decay
                base.roomDecayBase = 14;
                base.roomDecayRandom = 4;
                base.corridorDecayBase = 10;
                base.corridorDecayRandom = 3;
                base.distanceDecayDivisor = 3;
                base.stairsDecayBonus = 20;
                base.stairsDecayRadius = 3;
                base.chainCollapseAmount = 2;
            } else if (level === 3) {
                // Depth introduction - slightly looser than Tier 1
                base.roomDecayBase = 10;         // Looser: 10-13
                base.roomDecayRandom = 3;
                base.corridorDecayBase = 8;      // Looser: 8-10
                base.corridorDecayRandom = 2;
                base.distanceDecayDivisor = 8;   // Tier 1: reduced bonus
                base.stairsDecayBonus = 10;
                base.stairsDecayRadius = 1;
                base.chainCollapseAmount = 2;
            } else if (level === 4) {
                // Re-tuned after Chebyshev fix (diagonals now cost 1, not sqrt(2))
                // Iteration 2: 6/8 was too tight (25%), trying 7/9
                base.roomDecayBase = 9;          // Was 8 (too tight), trying 9
                base.roomDecayRandom = 2;
                base.corridorDecayBase = 7;      // Was 6 (too tight), trying 7
                base.corridorDecayRandom = 2;
                base.distanceDecayDivisor = 10;  // Was 8, trying 10
                base.stairsDecayBonus = 5;
                base.stairsDecayRadius = 0;
                base.chainCollapseAmount = 2;
            } else {
                // Level 5+ expert ‚Äî relaxed decay, compensated by more enemies
                base.roomDecayBase = 9;
                base.roomDecayRandom = 2;
                base.corridorDecayBase = 7;
                base.corridorDecayRandom = 1;
                base.distanceDecayDivisor = 0;
                base.stairsDecayBonus = 5;
                base.stairsDecayRadius = 0;
                base.chainCollapseAmount = 3;
            }

            return base;
        }

        // ============ SEEDED RNG ============
        let rngState = 1;

        function seedRng(seed) {
            // Coerce to unsigned 32-bit integer for type safety
            // Mulberry32 needs non-zero state, so we use a magic constant for seed=0
            // This ensures seed=0 produces a different sequence than seed=1
            const coerced = Number(seed) >>> 0;
            rngState = coerced === 0 ? 0x9E3779B9 : coerced;  // Golden ratio hash for 0
        }

        function seededRandom() {
            // Mulberry32 - fast, good quality
            let t = rngState += 0x6D2B79F5;
            t = Math.imul(t ^ t >>> 15, t | 1);
            t ^= t + Math.imul(t ^ t >>> 7, t | 61);
            return ((t ^ t >>> 14) >>> 0) / 4294967296;
        }

        function random(min, max) {
            return Math.floor(seededRandom() * (max - min + 1)) + min;
        }

        // Room danger levels: SAFE=0, NORMAL=1, BRITTLE=2, CRITICAL=3
        const ROOM_DANGER = { SAFE: 0, NORMAL: 1, BRITTLE: 2, CRITICAL: 3 };

        // Assign room danger level based on level distribution
        // Returns: 0=SAFE, 1=NORMAL, 2=BRITTLE, 3=CRITICAL
        function assignRoomDangerLevel(level) {
            const roll = seededRandom() * 100;
            // L1-2: 50% safe, 40% normal, 10% brittle
            // L3: 30% safe, 45% normal, 20% brittle, 5% critical
            // L4: 20% safe, 40% normal, 30% brittle, 10% critical
            // L5: 10% safe, 35% normal, 40% brittle, 15% critical
            if (level <= 2) {
                if (roll < 50) return ROOM_DANGER.SAFE;
                if (roll < 90) return ROOM_DANGER.NORMAL;
                return ROOM_DANGER.BRITTLE;
            } else if (level === 3) {
                if (roll < 30) return ROOM_DANGER.SAFE;
                if (roll < 75) return ROOM_DANGER.NORMAL;
                if (roll < 95) return ROOM_DANGER.BRITTLE;
                return ROOM_DANGER.CRITICAL;
            } else if (level === 4) {
                if (roll < 20) return ROOM_DANGER.SAFE;
                if (roll < 60) return ROOM_DANGER.NORMAL;
                if (roll < 90) return ROOM_DANGER.BRITTLE;
                return ROOM_DANGER.CRITICAL;
            } else { // L5+
                if (roll < 10) return ROOM_DANGER.SAFE;
                if (roll < 45) return ROOM_DANGER.NORMAL;
                if (roll < 85) return ROOM_DANGER.BRITTLE;
                return ROOM_DANGER.CRITICAL;
            }
        }

        // Get room index containing a tile (-1 if in corridor)
        function getRoomIndexAt(x, y, state = gameState) {
            for (let i = 0; i < state.rooms.length; i++) {
                const room = state.rooms[i];
                if (x >= room.x && x < room.x + room.w &&
                    y >= room.y && y < room.y + room.h) {
                    return i;
                }
            }
            return -1; // Corridor
        }

        // Get danger level at a tile (0=SAFE, 1=NORMAL for corridors, 2=BRITTLE, 3=CRITICAL)
        function getDangerLevelAt(x, y) {
            const roomIdx = getRoomIndexAt(x, y);
            if (roomIdx < 0) return ROOM_DANGER.NORMAL; // Corridors are always NORMAL
            return gameState.rooms[roomIdx].dangerLevel;
        }

        // ============ GAME STATE ============
        const gameState = {
            seed: 0,
            baseSeed: null,  // For multi-level deterministic runs (set by runBotGame)
            map: [],
            rooms: [],
            player: { x: 0, y: 0 },
            moves: 0,
            levelMoves: 0,     // Per-level move counter for decay modulo (resets on descent)
            level: 1,
            messages: [],
            // FOV
            visible: [],
            explored: [],
            // Pathfinding
            pendingPath: null,
            pendingTarget: null,
            autoPath: null,
            pathIndex: 0,
            // Decay system
            decay: [],              // 2D array of integers (turns remaining)
            awakened: [],           // 2D array of booleans (has decay started?)
            distanceFromStart: [],  // 2D array of ints (BFS distance from player start)
            pillars: [],            // Array of {x, y} positions
            crystals: [],           // Array of {x, y, collected}
            crystalsCollected: 0,
            decayEnabled: true,     // Toggle for testing
            showDecayNumbers: false,// Tab to toggle
            awakenRadius: 6,        // Tiles within this distance awaken
            // State history for rewind
            stateHistory: [],       // Array of saved states for rewind
            initialRngState: 0,     // RNG state at level start for deterministic restart
            didRewindThisTurn: false, // Flag for bot harness to detect rewinds accurately
            // Stairs location (for compass)
            stairsX: 0,
            stairsY: 0,
            // Stabilizer system
            stabilizerCharges: 0,
            chargesAtLevelStart: 0, // Track charges when entering level (for accurate restart)
            stabilizerCooldown: 0,  // Turns until stabilizer can be used again
            frozenTiles: [],        // Array of {x, y, turnsRemaining}
            // Room awakening system
            graceTiles: [],         // Array of {x, y, turnsRemaining} - tiles in grace period
            enteredRooms: new Set(), // Room indices that have been entered
            // Rest mechanic
            consecutiveWaits: 0,     // Number of consecutive wait turns
            restedTiles: new Set(),  // Tiles that have received rest bonus (xy key)
            // Map version for plan commitment invalidation
            mapVersion: 0,           // Increments on each collapse
            // Equipment
            grappleCharges: 0,       // Grapple hook uses remaining
            grappleItems: [],        // Array of {x, y, collected} on the map
            grappleMode: false,      // True when player is selecting grapple target
            // Stabilizer type: 'radial' (default BFS), 'line' (8-tile line), 'blast' (large radius, short duration)
            stabilizerType: 'radial',
            // Enemies
            enemies: [],             // Array of {type, x, y, dir, moveTimer}
            seekerTrail: new Set(),   // Set of coordIdx values ‚Äî tiles immune to decay
            // Prediction overlay
            predictionMode: false,
            predictionHorizon: 5,
            // Replay recording (auto-on)
            replayRecording: false,
            replayLog: [],
            replayStartSeed: null,
            replayStartLevel: 1,
            concedeActive: false,
            gameOverReason: null, // 'conceded' or 'won' ‚Äî controls post-game overlay title
            stabilizerSelectMode: false, // True when player is choosing stabilizer type
            lineDirectionMode: false, // True when player is choosing line stabilizer direction
            lineDirection: null, // [dx, dy] chosen direction for line stabilizer
            mainMenuActive: true, // True when title/main menu is shown
            // Route overlay
            routeOverlayMode: 0,  // 0=off, 1=heatmap, 2=heatmap+path
            // Minimap
            minimapVisible: false
        };

        // ============ CANVAS SETUP ============
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = CONFIG.mapWidth * CONFIG.tileSize;
        canvas.height = CONFIG.mapHeight * CONFIG.tileSize;

        // ============ PROCEDURAL PIXEL ART TILES ============
        const TILE_VARIANTS = 4; // variants per tile type
        const tileSprites = { wall: [], floor: [], void: [], pillar: [], stairs: null };

        function generateTileSprites() {
            const ts = CONFIG.tileSize;

            // Simple seeded random for tile generation
            function tileRng(seed) {
                let s = seed | 0;
                return () => { s = (s * 1103515245 + 12345) & 0x7fffffff; return (s >> 16) / 32768; };
            }

            // Helper: create offscreen canvas and get context
            function makeTile() {
                const c = document.createElement('canvas');
                c.width = ts; c.height = ts;
                return { canvas: c, ctx: c.getContext('2d') };
            }

            // Wall variants: brick pattern
            for (let v = 0; v < TILE_VARIANTS; v++) {
                const { canvas: c, ctx: tc } = makeTile();
                const rng = tileRng(v * 137 + 42);
                // Base wall color
                tc.fillStyle = '#3a3a4e';
                tc.fillRect(0, 0, ts, ts);
                // Brick mortar lines (horizontal)
                tc.fillStyle = '#2a2a3e';
                tc.fillRect(0, 4, ts, 1);
                tc.fillRect(0, 9, ts, 1);
                tc.fillRect(0, 14, ts, 1);
                // Vertical mortar (offset per row)
                const offsets = [0, 5, 2, 7];
                for (let row = 0; row < 4; row++) {
                    const yStart = row * 5;
                    const off = (offsets[(row + v) % 4]) % 8;
                    for (let vx = off; vx < ts; vx += 8) {
                        tc.fillRect(vx, yStart, 1, 4);
                    }
                }
                // Shade variation (random lighter pixels)
                for (let i = 0; i < 8; i++) {
                    const px = Math.floor(rng() * ts);
                    const py = Math.floor(rng() * ts);
                    tc.fillStyle = `rgba(255, 255, 255, ${0.03 + rng() * 0.04})`;
                    tc.fillRect(px, py, 1, 1);
                }
                // Top highlight
                tc.fillStyle = 'rgba(255, 255, 255, 0.08)';
                tc.fillRect(0, 0, ts, 1);
                // Bottom shadow
                tc.fillStyle = 'rgba(0, 0, 0, 0.2)';
                tc.fillRect(0, ts - 1, ts, 1);
                tileSprites.wall.push(c);
            }

            // Floor variants: stone texture
            for (let v = 0; v < TILE_VARIANTS; v++) {
                const { canvas: c, ctx: tc } = makeTile();
                const rng = tileRng(v * 211 + 99);
                // Base stone color
                tc.fillStyle = '#2a2a3a';
                tc.fillRect(0, 0, ts, ts);
                // Subtle noise (darker pixels scattered)
                for (let i = 0; i < 12; i++) {
                    const px = Math.floor(rng() * ts);
                    const py = Math.floor(rng() * ts);
                    const shade = rng() > 0.5 ? 'rgba(0, 0, 0, 0.15)' : 'rgba(255, 255, 255, 0.04)';
                    tc.fillStyle = shade;
                    tc.fillRect(px, py, 1, 1);
                }
                // Occasional crack (thin dark line)
                if (v % 2 === 0) {
                    tc.fillStyle = 'rgba(0, 0, 0, 0.2)';
                    const cx = Math.floor(rng() * 10) + 3;
                    tc.fillRect(cx, 3, 1, 4 + Math.floor(rng() * 4));
                }
                tileSprites.floor.push(c);
            }

            // Void variants: black with faint purple noise
            for (let v = 0; v < TILE_VARIANTS; v++) {
                const { canvas: c, ctx: tc } = makeTile();
                const rng = tileRng(v * 307 + 7);
                tc.fillStyle = '#050510';
                tc.fillRect(0, 0, ts, ts);
                for (let i = 0; i < 5; i++) {
                    const px = Math.floor(rng() * ts);
                    const py = Math.floor(rng() * ts);
                    tc.fillStyle = `rgba(60, 20, 80, ${0.15 + rng() * 0.2})`;
                    tc.fillRect(px, py, 1, 1);
                }
                tileSprites.void.push(c);
            }

            // Pillar: stone column cross-section
            for (let v = 0; v < TILE_VARIANTS; v++) {
                const { canvas: c, ctx: tc } = makeTile();
                const rng = tileRng(v * 173 + 55);
                // Background (will be drawn on top of floor)
                tc.clearRect(0, 0, ts, ts);
                // Column body
                tc.fillStyle = '#555577';
                tc.fillRect(3, 2, ts - 6, ts - 4);
                // Highlight edges
                tc.fillStyle = 'rgba(255, 255, 255, 0.12)';
                tc.fillRect(3, 2, 1, ts - 4);
                tc.fillRect(3, 2, ts - 6, 1);
                // Shadow edges
                tc.fillStyle = 'rgba(0, 0, 0, 0.2)';
                tc.fillRect(ts - 4, 2, 1, ts - 4);
                tc.fillRect(3, ts - 3, ts - 6, 1);
                // Inner texture
                for (let i = 0; i < 4; i++) {
                    const px = 4 + Math.floor(rng() * (ts - 8));
                    const py = 3 + Math.floor(rng() * (ts - 6));
                    tc.fillStyle = `rgba(255, 255, 255, ${0.03 + rng() * 0.05})`;
                    tc.fillRect(px, py, 1, 1);
                }
                tileSprites.pillar.push(c);
            }

            // Stairs: green directional indicator
            {
                const { canvas: c, ctx: tc } = makeTile();
                tc.clearRect(0, 0, ts, ts);
                // Green arrow pointing down
                tc.fillStyle = '#44ff88';
                // Arrow body
                tc.fillRect(6, 2, 4, 8);
                // Arrow head
                tc.fillRect(4, 9, 8, 2);
                tc.fillRect(5, 11, 6, 1);
                tc.fillRect(6, 12, 4, 1);
                tc.fillRect(7, 13, 2, 1);
                tileSprites.stairs = c;
            }
        }

        generateTileSprites();

        // Get tile variant index from coord (deterministic per-tile)
        function tileVariant(x, y) {
            return ((x * 7 + y * 13 + 17) & 0x7fffffff) % TILE_VARIANTS;
        }

        // C3: Static tile canvas layer ‚Äî walls and void only redraw on map change
        let staticCanvas = null;
        let staticCtx = null;
        let staticMapVersion = -1;

        function rebuildStaticLayer() {
            if (!staticCanvas) {
                staticCanvas = document.createElement('canvas');
                staticCanvas.width = CONFIG.mapWidth * CONFIG.tileSize;
                staticCanvas.height = CONFIG.mapHeight * CONFIG.tileSize;
                staticCtx = staticCanvas.getContext('2d');
            }
            staticCtx.clearRect(0, 0, staticCanvas.width, staticCanvas.height);
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    const tile = gameState.map[y][x];
                    if (tile !== TILE.WALL && tile !== TILE.VOID) continue;
                    const px = x * CONFIG.tileSize;
                    const py = y * CONFIG.tileSize;
                    const tv = tileVariant(x, y);
                    if (tile === TILE.WALL) {
                        staticCtx.drawImage(tileSprites.wall[tv], px, py);
                    } else {
                        staticCtx.drawImage(tileSprites.void[tv], px, py);
                    }
                }
            }
            staticMapVersion = gameState.mapVersion;
        }

        // ============ UI ELEMENTS ============
        const posDisplay = document.getElementById('pos-display');
        const movesDisplay = document.getElementById('moves-display');
        const levelDisplay = document.getElementById('level-display');
        const crystalsDisplay = document.getElementById('crystals-display');
        const stabilizerDisplay = document.getElementById('stabilizer-display');
        const compassArrow = document.getElementById('compass-arrow');
        const compassDist = document.getElementById('compass-dist');
        const decayStatus = document.getElementById('decay-status');
        const seedDisplay = document.getElementById('seed-display');
        const messagesDiv = document.getElementById('messages');
        const tooltip = document.getElementById('tooltip');

        // ============ UTILITY FUNCTIONS ============
        function inBounds(x, y) {
            return x >= 0 && x < CONFIG.mapWidth && y >= 0 && y < CONFIG.mapHeight;
        }

        // Fast coordinate-to-index conversion for Set/Map keys (replaces string keys)
        function coordIdx(x, y) {
            return y * CONFIG.mapWidth + x;
        }

        function addMessage(text, type = 'info') {
            // Collapse repeated messages
            const last = gameState.messages[gameState.messages.length - 1];
            if (last && last.baseText === text && type === 'move') {
                last.count = (last.count || 1) + 1;
                last.text = `${text} (x${last.count})`;
                last.time = Date.now();
                renderMessages();
                return;
            }
            const turn = gameState.moves;
            gameState.messages.push({ text: `[T${turn}] ${text}`, baseText: text, type, time: Date.now(), count: 1 });
            if (gameState.messages.length > 50) gameState.messages.shift();
            renderMessages();
        }

        function renderMessages() {
            const recent = gameState.messages.slice(-6);
            messagesDiv.innerHTML = recent.map(m =>
                `<div class="message ${m.type}">${m.text}</div>`
            ).join('');
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function updateUI() {
            posDisplay.textContent = `${gameState.player.x}, ${gameState.player.y}`;
            movesDisplay.textContent = gameState.moves;
            levelDisplay.textContent = gameState.level;
            crystalsDisplay.textContent = `${gameState.crystalsCollected}/${gameState.crystals.length}`;
            stabilizerDisplay.textContent = gameState.stabilizerCharges;
            document.getElementById('grapple-display').textContent = gameState.grappleCharges;

            // Update compass
            const dx = gameState.stairsX - gameState.player.x;
            const dy = gameState.stairsY - gameState.player.y;
            const dist = Math.abs(dx) + Math.abs(dy);

            if (dist === 0) {
                compassArrow.textContent = '!';
                compassArrow.style.color = '#44ff88';
                compassDist.textContent = 'HERE';
            } else {
                // Calculate 8-direction arrow pointing toward stairs
                const angle = Math.atan2(dy, dx);
                // Map angle to 8 directions: E=0, SE=1, S=2, SW=3, W=4, NW=5, N=6, NE=7
                // atan2 returns: 0=right, PI/2=down, PI/-PI=left, -PI/2=up
                let index = Math.round(angle / (Math.PI / 4));
                if (index < 0) index += 8;
                const arrowChars = ['\u2192', '\u2198', '\u2193', '\u2199', '\u2190', '\u2196', '\u2191', '\u2197'];
                compassArrow.textContent = arrowChars[index];
                compassArrow.style.color = '#ffcc44';
                compassDist.textContent = `(${dist})`;
            }

            // Show decay status based on level
            if (!gameState.decayEnabled) {
                decayStatus.textContent = 'Decay: OFF';
                decayStatus.style.color = '#88ff88';
            } else if (gameState.level === 1) {
                decayStatus.textContent = 'Decay: NONE';
                decayStatus.style.color = '#88ff88';
            } else if (gameState.level === 2) {
                decayStatus.textContent = 'Decay: HALF';
                decayStatus.style.color = '#ffcc44';
            } else if (gameState.level <= 4) {
                decayStatus.textContent = 'Decay: FULL';
                decayStatus.style.color = '#ff8888';
            } else {
                decayStatus.textContent = 'Decay: FAST';
                decayStatus.style.color = '#ff4444';
            }

            // Show stabilizer params
            const stabInfo = document.getElementById('stabilizer-info');
            if (stabInfo && gameState.level >= 2) {
                const lc = getLevelConfig(gameState.level);
                stabInfo.textContent = `[R:${lc.stabilizerRadius} D:${lc.stabilizerDuration} CD:${lc.stabilizerCooldown}]`;
            } else if (stabInfo) {
                stabInfo.textContent = '';
            }

            // Show pillar protection indicator
            const pillarInd = document.getElementById('pillar-indicator');
            if (pillarInd) {
                if (isAdjacentToPillar(gameState.player.x, gameState.player.y)) {
                    const rate = '¬º';  // All levels with pillar-adjacent get ¬º rate now
                    pillarInd.textContent = `Pillar: ${rate} rate`;
                    pillarInd.style.color = '#88ff88';
                } else {
                    pillarInd.textContent = '';
                }
            }

            seedDisplay.textContent = `Seed: ${gameState.seed}`;

            // Phase 3A: Contextual action hints
            const hints = document.getElementById('action-hints');
            if (hints) {
                const parts = [];
                if (gameState.lineDirectionMode) {
                    parts.push('<span style="color:#ffcc44">Choose direction: WASD / QE ZC</span>');
                    parts.push('<span style="color:#888888">[Esc] Cancel</span>');
                    hints.innerHTML = parts.join(' | ');
                    return;
                }
                if (gameState.stabilizerSelectMode) {
                    parts.push('<span style="color:#88ffff">[1] Radial</span>');
                    parts.push('<span style="color:#ffcc44">[2] Line</span>');
                    parts.push('<span style="color:#ff6644">[3] Blast</span>');
                    parts.push('<span style="color:#888888">[Esc] Cancel</span>');
                    hints.innerHTML = parts.join(' | ');
                    return;
                }
                // Movement
                parts.push('WASD: Move');
                // Stabilizer
                if (gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown <= 0) {
                    parts.push(`<span style="color:#88ffff">[F] Stabilize (${gameState.stabilizerCharges})</span>`);
                } else if (gameState.stabilizerCharges > 0) {
                    parts.push(`<span style="color:#555566">[F] Stabilize (CD:${gameState.stabilizerCooldown})</span>`);
                }
                // Grapple
                if (gameState.grappleCharges > 0) {
                    parts.push(`<span style="color:#ff8844">[G] Grapple (${gameState.grappleCharges})</span>`);
                }
                // Stairs
                const onStairs = gameState.map[gameState.player.y]?.[gameState.player.x] === TILE.STAIRS_DOWN;
                if (onStairs) {
                    parts.push('<span style="color:#44ff88">[>] Descend</span>');
                }
                // Route overlay
                parts.push('[V] Routes');
                // Help
                parts.push('[?] Help');
                hints.innerHTML = parts.join(' | ');
            }
        }

        // ============ VISIBILITY ARRAYS ============
        function initVisibilityArrays() {
            gameState.visible = [];
            gameState.explored = [];
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                gameState.visible[y] = [];
                gameState.explored[y] = [];
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    gameState.visible[y][x] = false;
                    gameState.explored[y][x] = false;
                }
            }
        }

        // ============ FOV - SYMMETRIC SHADOWCASTING ============
        function calculateFOV() {
            // Clear visible
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    gameState.visible[y][x] = false;
                }
            }

            const px = gameState.player.x;
            const py = gameState.player.y;
            const radius = CONFIG.fovRadius;

            // Player's tile is always visible
            gameState.visible[py][px] = true;
            gameState.explored[py][px] = true;

            // Cast light in 8 octants
            for (let octant = 0; octant < 8; octant++) {
                castLight(px, py, radius, 1, 1.0, 0.0, octant);
            }
        }

        function castLight(cx, cy, radius, row, startSlope, endSlope, octant) {
            if (startSlope < endSlope) return;

            let nextStartSlope = startSlope;

            for (let i = row; i <= radius; i++) {
                let blocked = false;

                for (let dx = -i; dx <= 0; dx++) {
                    const dy = -i;

                    // Map octant to actual coordinates
                    const [mx, my] = transformOctant(dx, dy, octant);
                    const x = cx + mx;
                    const y = cy + my;

                    if (!inBounds(x, y)) continue;

                    const leftSlope = (dx - 0.5) / (dy + 0.5);
                    const rightSlope = (dx + 0.5) / (dy - 0.5);

                    if (startSlope < rightSlope) continue;
                    if (endSlope > leftSlope) break;

                    // Check if in radius (circular FOV) - use squared distance to avoid sqrt
                    const dist2 = mx * mx + my * my;
                    if (dist2 <= radius * radius) {
                        gameState.visible[y][x] = true;
                        gameState.explored[y][x] = true;
                    }

                    // Check if blocking
                    const isBlocking = gameState.map[y][x] === TILE.WALL;

                    if (blocked) {
                        if (isBlocking) {
                            nextStartSlope = rightSlope;
                        } else {
                            blocked = false;
                            startSlope = nextStartSlope;
                        }
                    } else if (isBlocking && i < radius) {
                        blocked = true;
                        castLight(cx, cy, radius, i + 1, startSlope, leftSlope, octant);
                        nextStartSlope = rightSlope;
                    }
                }

                if (blocked) break;
            }
        }

        function transformOctant(x, y, octant) {
            switch (octant) {
                case 0: return [x, y];
                case 1: return [y, x];
                case 2: return [y, -x];
                case 3: return [-x, y];
                case 4: return [-x, -y];
                case 5: return [-y, -x];
                case 6: return [-y, x];
                case 7: return [x, -y];
            }
            return [x, y];
        }

        // ============ DECAY SYSTEM ============
        function initDecayArray() {
            gameState.decay = [];
            gameState.awakened = [];
            gameState.distanceFromStart = [];
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                gameState.decay[y] = [];
                gameState.awakened[y] = [];
                gameState.distanceFromStart[y] = [];
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    gameState.decay[y][x] = 0;
                    gameState.awakened[y][x] = false;
                    gameState.distanceFromStart[y][x] = 999; // Max distance for walls
                }
            }
        }

        function calculateDistancesFromStart() {
            // BFS from player start position
            const queue = [{ x: gameState.player.x, y: gameState.player.y, dist: 0 }];
            let head = 0;
            const visited = new Set();
            visited.add(coordIdx(gameState.player.x, gameState.player.y));
            gameState.distanceFromStart[gameState.player.y][gameState.player.x] = 0;

            while (head < queue.length) {
                const { x, y, dist } = queue[head++];

                const neighbors = [
                    { dx: -1, dy: 0 }, { dx: 1, dy: 0 },
                    { dx: 0, dy: -1 }, { dx: 0, dy: 1 },
                    { dx: -1, dy: -1 }, { dx: 1, dy: -1 },
                    { dx: -1, dy: 1 }, { dx: 1, dy: 1 }
                ];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx;
                    const ny = y + dy;

                    if (!inBounds(nx, ny)) continue;
                    if (visited.has(coordIdx(nx, ny))) continue;
                    if (gameState.map[ny][nx] === TILE.WALL) continue;
                    // Note: NOT checking pillars here - distance field is for decay bonus,
                    // not pathfinding. Pillars don't affect which tiles can have decay bonus.

                    visited.add(coordIdx(nx, ny));
                    gameState.distanceFromStart[ny][nx] = dist + 1;
                    queue.push({ x: nx, y: ny, dist: dist + 1 });
                }
            }
        }

        // Awaken an entire room with grace period
        function awakenRoom(roomIndex, graceTurns) {
            if (roomIndex < 0 || roomIndex >= gameState.rooms.length) return;
            const room = gameState.rooms[roomIndex];

            for (let y = room.y; y < room.y + room.h; y++) {
                for (let x = room.x; x < room.x + room.w; x++) {
                    if (!inBounds(x, y)) continue;
                    if (gameState.map[y][x] === TILE.WALL || gameState.map[y][x] === TILE.VOID) continue;

                    // Awaken the tile
                    if (!gameState.awakened[y][x]) {
                        gameState.awakened[y][x] = true;

                        // Add grace period if specified
                        if (graceTurns > 0) {
                            const existing = gameState.graceTiles.find(g => g.x === x && g.y === y);
                            if (!existing) {
                                // +1 so "2-turn grace" survives the pre-decrement in processTurnDecay()
                                gameState.graceTiles.push({ x, y, turnsRemaining: graceTurns + 1 });
                            }
                        }
                    }
                }
            }

            gameState.enteredRooms.add(roomIndex);
        }

        function awakenNearbyTiles() {
            const levelConfig = getLevelConfig(gameState.level);
            const px = gameState.player.x;
            const py = gameState.player.y;
            const radius = gameState.awakenRadius;

            // Check if player entered a new room (Level 3+ room awakening rule)
            if (gameState.level >= 3) {
                const roomIndex = getRoomIndexAt(px, py);
                if (roomIndex >= 0 && !gameState.enteredRooms.has(roomIndex)) {
                    // First time entering this room - awaken entire room with grace
                    const graceTurns = 2;  // 2-turn grace period per ChatGPT recommendation
                    awakenRoom(roomIndex, graceTurns);
                    addMessage("Room awakened! Tiles have 2-turn grace.", 'info');
                }
            }

            // BFS from player position - only awakens tiles reachable within radius
            // This respects walls (no awakening through walls)
            const queue = [{ x: px, y: py, dist: 0 }];
            let head = 0;
            const visited = new Set();
            visited.add(coordIdx(px, py));

            while (head < queue.length) {
                const { x, y, dist } = queue[head++];

                // Awaken this tile ONLY if:
                // 1. It's not wall/void
                // 2. At Level 3+: If tile is in a room, only awaken if player has entered that room
                //    (rooms should awaken with grace when entered, not from BFS proximity)
                if (gameState.map[y][x] !== TILE.WALL && gameState.map[y][x] !== TILE.VOID) {
                    let shouldAwaken = true;
                    if (gameState.level >= 3) {
                        const tileRoomIndex = getRoomIndexAt(x, y);
                        if (tileRoomIndex >= 0 && !gameState.enteredRooms.has(tileRoomIndex)) {
                            // This tile is in an un-entered room - don't awaken via BFS
                            // It will be awakened with grace when player enters the room
                            shouldAwaken = false;
                        }
                    }
                    if (shouldAwaken) {
                        gameState.awakened[y][x] = true;
                    }
                }

                // Don't expand beyond radius
                if (dist >= radius) continue;

                // Check 8 neighbors (matching movement)
                const neighbors = [
                    { dx: -1, dy: 0 }, { dx: 1, dy: 0 },
                    { dx: 0, dy: -1 }, { dx: 0, dy: 1 },
                    { dx: -1, dy: -1 }, { dx: 1, dy: -1 },
                    { dx: -1, dy: 1 }, { dx: 1, dy: 1 }
                ];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx;
                    const ny = y + dy;

                    if (!inBounds(nx, ny)) continue;
                    if (visited.has(coordIdx(nx, ny))) continue;
                    // Walls, void, and pillars block awakening propagation
                    if (gameState.map[ny][nx] === TILE.WALL) continue;
                    if (gameState.map[ny][nx] === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;

                    visited.add(coordIdx(nx, ny));
                    queue.push({ x: nx, y: ny, dist: dist + 1 });
                }
            }
        }

        function isPillarAt(x, y, state = gameState) {
            return state.pillars.some(p => p.x === x && p.y === y);
        }

        function isAdjacentToPillar(x, y, state = gameState) {
            for (const p of state.pillars) {
                const dx = Math.abs(p.x - x);
                const dy = Math.abs(p.y - y);
                if (dx <= 1 && dy <= 1 && (dx + dy > 0)) {
                    return true;
                }
            }
            return false;
        }

        // Rest mechanic: after 2 consecutive waits, nearby tiles gain +1 decay (Level 3+)
        // Creates tactical recovery option - trade time for stability
        function applyRestBonus() {
            const levelConfig = getLevelConfig(gameState.level);

            // Only at Level 3+
            if (gameState.level < 3) return 0;

            const restRadius = 2;
            const restBonus = 1;
            let tilesRested = 0;
            const px = gameState.player.x;
            const py = gameState.player.y;

            for (let dy = -restRadius; dy <= restRadius; dy++) {
                for (let dx = -restRadius; dx <= restRadius; dx++) {
                    const nx = px + dx;
                    const ny = py + dy;

                    if (!inBounds(nx, ny)) continue;

                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;  // Don't modify pillar tiles
                    if (!gameState.awakened[ny][nx]) continue;

                    // Chebyshev distance
                    const dist = Math.max(Math.abs(dx), Math.abs(dy));
                    if (dist > restRadius) continue;

                    // Each tile can only receive rest bonus once per level
                    const tileIdx = coordIdx(nx, ny);
                    if (gameState.restedTiles.has(tileIdx)) continue;

                    // Grant bonus and mark as rested
                    gameState.decay[ny][nx] += restBonus;
                    gameState.restedTiles.add(tileIdx);
                    tilesRested++;
                }
            }

            return tilesRested;
        }

        function getDecayPhase(turns) {
            if (turns >= DECAY_PHASE.SOLID) return 'solid';
            if (turns >= DECAY_PHASE.STABLE) return 'stable';
            if (turns >= DECAY_PHASE.CRACKED) return 'cracked';
            if (turns >= DECAY_PHASE.CRUMBLING) return 'crumbling';
            return 'collapsed';
        }

        function getDecayColor(turns) {
            return DECAY_COLOR_LUT[Math.min(turns, 20)] || COLORS.void;
        }

        function collapseTile(x, y) {
            if (!inBounds(x, y)) return;
            if (gameState.map[y][x] === TILE.WALL || gameState.map[y][x] === TILE.VOID) return;

            gameState.map[y][x] = TILE.VOID;
            gameState.decay[y][x] = 0;
            gameState.mapVersion++;  // Plan commitment invalidation trigger

            // Visual effects (only when visible to player)
            if (gameState.visible[y]?.[x]) {
                spawnCollapseParticles(x, y);
            }

            // Mark any crystal at this location as destroyed (don't remove - keeps denominator stable)
            for (const crystal of gameState.crystals) {
                if (crystal.x === x && crystal.y === y && !crystal.collected && !crystal.destroyed) {
                    crystal.destroyed = true;
                }
            }
        }

        function processChainCollapses(collapsed) {
            const toProcess = [...collapsed];
            let head = 0;
            const processed = new Set();

            // Build frozen set for fast lookup (safe bubble - frozen tiles immune to shock)
            const frozenSet = new Set(gameState.frozenTiles.map(f => coordIdx(f.x, f.y)));

            while (head < toProcess.length) {
                const { x, y } = toProcess[head++];
                const idx = coordIdx(x, y);
                if (processed.has(idx)) continue;
                processed.add(idx);

                // Damage adjacent tiles
                const neighbors = [
                    { dx: -1, dy: 0 }, { dx: 1, dy: 0 },
                    { dx: 0, dy: -1 }, { dx: 0, dy: 1 }
                ];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx;
                    const ny = y + dy;
                    if (!inBounds(nx, ny)) continue;
                    if (gameState.map[ny][nx] === TILE.WALL || gameState.map[ny][nx] === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;

                    // Chain shock awakens dormant tiles (pressure propagates even to frozen tiles)
                    if (!gameState.awakened[ny][nx]) {
                        gameState.awakened[ny][nx] = true;
                    }

                    // Safe bubble: frozen tiles immune to decay damage only (but still awaken)
                    if (frozenSet.has(coordIdx(nx, ny))) continue;

                    // Use level-gated chain collapse amount
                    const levelConfig = getLevelConfig(gameState.level);
                    gameState.decay[ny][nx] -= levelConfig.chainCollapseAmount;

                    // If this caused a collapse, add to queue
                    if (gameState.decay[ny][nx] <= 0) {
                        collapseTile(nx, ny);
                        toProcess.push({ x: nx, y: ny });
                    }
                }
            }
        }

        function processTurnDecay() {
            if (!gameState.decayEnabled) return;

            // Decrement stabilizer cooldown
            if (gameState.stabilizerCooldown > 0) {
                gameState.stabilizerCooldown--;
            }

            // Level-based decay rate:
            // Level 1: No decay (tutorial)
            // Level 2: 50% rate (every other turn)
            // Level 3+: Normal rate
            if (gameState.level === 1) {
                return; // No decay on level 1
            }

            const halfRate = (gameState.level === 2);

            // Decrement frozen tile durations and remove expired ones
            for (let i = gameState.frozenTiles.length - 1; i >= 0; i--) {
                gameState.frozenTiles[i].turnsRemaining--;
                if (gameState.frozenTiles[i].turnsRemaining <= 0) {
                    gameState.frozenTiles.splice(i, 1);
                }
            }

            // Decrement grace tile durations and remove expired ones
            for (let i = gameState.graceTiles.length - 1; i >= 0; i--) {
                gameState.graceTiles[i].turnsRemaining--;
                if (gameState.graceTiles[i].turnsRemaining <= 0) {
                    gameState.graceTiles.splice(i, 1);
                }
            }

            // Create sets for fast tile lookup (using integer indices)
            const frozenSet = new Set(
                gameState.frozenTiles.map(f => coordIdx(f.x, f.y))
            );
            const graceSet = new Set(
                gameState.graceTiles.map(g => coordIdx(g.x, g.y))
            );

            const collapsed = [];

            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    // Skip walls, void, and pillar tiles
                    if (gameState.map[y][x] === TILE.WALL || gameState.map[y][x] === TILE.VOID) continue;
                    if (isPillarAt(x, y)) continue;

                    // ONLY tick awakened tiles - dormant tiles don't decay yet
                    if (!gameState.awakened[y][x]) continue;

                    // Skip frozen tiles - they don't decay
                    if (frozenSet.has(coordIdx(x, y))) continue;

                    // Skip tiles in grace period (just awakened rooms)
                    if (graceSet.has(coordIdx(x, y))) continue;

                    // Skip seeker trail tiles ‚Äî permanently stable
                    if (gameState.seekerTrail.has(coordIdx(x, y))) continue;

                    // Calculate effective decay rate using per-level move counter
                    // Level 2: decays on even moves only (50%)
                    // Pillar adjacent: decays on moves divisible by 4 (25%)
                    // Combined: Level 2 + pillar = decays on moves divisible by 4 (25%)
                    const adjacentToPillar = isAdjacentToPillar(x, y);
                    let shouldDecay = true;
                    const lm = gameState.levelMoves;

                    if (halfRate && adjacentToPillar) {
                        // Level 2 + pillar: 25% rate (every 4th turn)
                        shouldDecay = (lm % 4 === 0);
                    } else if (halfRate) {
                        // Level 2: 50% rate
                        shouldDecay = (lm % 2 === 0);
                    } else if (adjacentToPillar) {
                        // L3+ pillar: 25% rate (every 4th turn) ‚Äî buffed from 50%
                        shouldDecay = (lm % 4 === 0);
                    }

                    if (shouldDecay) {
                        gameState.decay[y][x]--;
                    }

                    if (gameState.decay[y][x] <= 0) {
                        collapsed.push({ x, y });
                    }
                }
            }

            // Process collapses
            for (const tile of collapsed) {
                collapseTile(tile.x, tile.y);
            }

            // Chain reactions + visual effects
            if (collapsed.length > 0) {
                processChainCollapses(collapsed);
                if (collapsed.length >= 2) {
                    triggerScreenShake(collapsed.length);
                    startEffectsLoop();
                } else if (particles.length > 0) {
                    startEffectsLoop();
                }
            }
        }

        // ============ STATE HISTORY (for rewind on failure) ============
        function cloneState() {
            return {
                map: gameState.map.map(row => [...row]),
                decay: gameState.decay.map(row => [...row]),
                awakened: gameState.awakened.map(row => [...row]),
                player: { ...gameState.player },
                moves: gameState.moves,
                levelMoves: gameState.levelMoves,
                pillars: gameState.pillars.map(p => ({ ...p })),
                crystals: gameState.crystals.map(c => ({ ...c })),
                crystalsCollected: gameState.crystalsCollected,
                stabilizerCharges: gameState.stabilizerCharges,
                stabilizerCooldown: gameState.stabilizerCooldown,
                frozenTiles: gameState.frozenTiles.map(f => ({ ...f })),
                graceTiles: gameState.graceTiles.map(g => ({ ...g })),
                enteredRooms: new Set(gameState.enteredRooms),
                explored: gameState.explored.map(row => [...row]),
                consecutiveWaits: gameState.consecutiveWaits,
                restedTiles: new Set(gameState.restedTiles),
                grappleCharges: gameState.grappleCharges,
                grappleItems: gameState.grappleItems.map(g => ({ ...g })),
                stabilizerType: gameState.stabilizerType,
                enemies: gameState.enemies.map(e => ({ ...e })),
                seekerTrail: new Set(gameState.seekerTrail)
            };
        }

        function restoreState(state) {
            gameState.map = state.map.map(row => [...row]);
            gameState.decay = state.decay.map(row => [...row]);
            gameState.awakened = state.awakened.map(row => [...row]);
            gameState.player = { ...state.player };
            gameState.moves = state.moves;
            gameState.levelMoves = state.levelMoves || 0;
            gameState.pillars = state.pillars.map(p => ({ ...p }));
            gameState.crystals = state.crystals.map(c => ({ ...c }));
            gameState.crystalsCollected = state.crystalsCollected;
            gameState.stabilizerCharges = state.stabilizerCharges;
            gameState.stabilizerCooldown = state.stabilizerCooldown || 0;
            gameState.frozenTiles = state.frozenTiles.map(f => ({ ...f }));
            gameState.graceTiles = (state.graceTiles || []).map(g => ({ ...g }));
            gameState.enteredRooms = new Set(state.enteredRooms || []);
            gameState.explored = state.explored.map(row => [...row]);
            gameState.consecutiveWaits = state.consecutiveWaits || 0;
            gameState.restedTiles = new Set(state.restedTiles || []);
            gameState.grappleCharges = state.grappleCharges || 0;
            gameState.grappleItems = (state.grappleItems || []).map(g => ({ ...g }));
            gameState.stabilizerType = state.stabilizerType || 'radial';
            gameState.enemies = (state.enemies || []).map(e => ({ ...e }));
            gameState.seekerTrail = new Set(state.seekerTrail || []);
        }

        function saveStateToHistory() {
            gameState.stateHistory.push(cloneState());
            // Keep only the last N states
            if (gameState.stateHistory.length > CONFIG.stateHistorySize) {
                gameState.stateHistory.shift();
            }
        }

        function rewindState(stepsBack = 1) {
            const index = gameState.stateHistory.length - stepsBack;
            if (index < 0 || gameState.stateHistory.length === 0) {
                addMessage("Cannot rewind further!", 'warn');
                return false;
            }

            const state = gameState.stateHistory[index];
            restoreState(state);
            // Remove rewound states
            gameState.stateHistory = gameState.stateHistory.slice(0, index);

            calculateFOV();
            return true;
        }

        function checkPlayerOnVoid() {
            const tile = gameState.map[gameState.player.y][gameState.player.x];
            if (tile === TILE.VOID) {
                const levelConfig = getLevelConfig(gameState.level);
                startDeathOverlay();
                addMessage("The floor collapses beneath you!", 'warn');

                // Check if we can afford the rewind at level 3+
                if (levelConfig.rewindCostsCharge && gameState.stabilizerCharges <= 0) {
                    // No charges - can't rewind, must restart
                    addMessage("No stabilizer charges for rewind! Restarting level...", 'warn');
                    restartLevel();
                    return true;
                }

                if (rewindState(CONFIG.stateHistorySize)) {
                    // Mark that a rewind occurred (for bot harness detection)
                    gameState.didRewindThisTurn = true;

                    // Apply the charge cost AFTER restoring state
                    // Deduct from the RESTORED state's charges, not the pre-rewind charges
                    if (levelConfig.rewindCostsCharge) {
                        gameState.stabilizerCharges = Math.max(0, gameState.stabilizerCharges - 1);
                        addMessage("Rewind costs 1 stabilizer charge!", 'warn');
                    }
                    addMessage(`Rewound ${CONFIG.stateHistorySize} moves.`, 'info');
                } else {
                    // No history - game over or restart level
                    addMessage("No safe state to rewind to. Restarting level...", 'warn');
                    restartLevel();
                }
                return true;
            }
            return false;
        }

        function restartLevel() {
            // Restore RNG to initial state for this level
            rngState = gameState.initialRngState;

            // Regenerate with same seed behavior
            const savedLevel = gameState.level;
            const savedSeed = gameState.seed;

            // Restore charges to what we had when entering this level
            // (Bug fix: old formula "charges - crystals" was wrong when charges were spent)
            const savedChargesAtLevelStart = gameState.chargesAtLevelStart;

            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = savedChargesAtLevelStart;
            gameState.stabilizerCooldown = 0;
            gameState.stateHistory = [];
            gameState.consecutiveWaits = 0;
            gameState.restedTiles = new Set();

            // Re-generate map deterministically
            generateMapInternal();

            gameState.level = savedLevel;
            addMessage(`Level ${savedLevel} restarted.`, 'info');
            render();
        }

        // ============ A* PATHFINDING ============

        // Binary min-heap for A* openSet (replaces sort+pop)
        class MinHeap {
            constructor() { this.data = []; this.map = new Map(); }
            get length() { return this.data.length; }
            _swap(i, j) {
                const d = this.data;
                [d[i], d[j]] = [d[j], d[i]];
                this.map.set(d[i]._heapKey, i);
                this.map.set(d[j]._heapKey, j);
            }
            _up(i) {
                const d = this.data;
                while (i > 0) {
                    const p = (i - 1) >> 1;
                    if (d[p].f <= d[i].f) break;
                    this._swap(i, p);
                    i = p;
                }
            }
            _down(i) {
                const d = this.data, n = d.length;
                while (true) {
                    let s = i, l = 2 * i + 1, r = l + 1;
                    if (l < n && d[l].f < d[s].f) s = l;
                    if (r < n && d[r].f < d[s].f) s = r;
                    if (s === i) break;
                    this._swap(i, s);
                    i = s;
                }
            }
            push(node) {
                const key = node._heapKey;
                this.data.push(node);
                this.map.set(key, this.data.length - 1);
                this._up(this.data.length - 1);
            }
            pop() {
                const d = this.data;
                if (d.length === 0) return undefined;
                const top = d[0];
                this.map.delete(top._heapKey);
                const last = d.pop();
                if (d.length > 0) {
                    d[0] = last;
                    this.map.set(last._heapKey, 0);
                    this._down(0);
                }
                return top;
            }
            has(key) { return this.map.has(key); }
            get(key) {
                const i = this.map.get(key);
                return i !== undefined ? this.data[i] : undefined;
            }
            decreaseKey(key) {
                const i = this.map.get(key);
                if (i !== undefined) this._up(i);
            }
        }

        // Only pathfinds through explored territory to prevent revealing hidden map
        function findPath(startX, startY, goalX, goalY) {
            if (!inBounds(goalX, goalY)) return null;

            if (!gameState.explored[goalY][goalX]) return null;
            const goalTile = gameState.map[goalY][goalX];
            if (goalTile === TILE.WALL || goalTile === TILE.VOID) return null;
            if (isPillarAt(goalX, goalY)) return null;

            const startKey = coordIdx(startX, startY);
            const startNode = { x: startX, y: startY, g: 0, h: 0, f: 0, parent: null, _heapKey: startKey };
            const heap = new MinHeap();
            heap.push(startNode);
            const closedSet = new Set();

            while (heap.length > 0) {
                const current = heap.pop();

                if (current.x === goalX && current.y === goalY) {
                    const path = [];
                    let node = current;
                    while (node.parent) {
                        path.unshift({ x: node.x, y: node.y });
                        node = node.parent;
                    }
                    return path;
                }

                const ck = current._heapKey;
                if (closedSet.has(ck)) continue;
                closedSet.add(ck);

                for (let d = 0; d < 8; d++) {
                    const dx = [-1, 0, 1, -1, 1, -1, 0, 1][d];
                    const dy = [-1, -1, -1, 0, 0, 1, 1, 1][d];
                    const nx = current.x + dx;
                    const ny = current.y + dy;

                    if (!inBounds(nx, ny)) continue;
                    if (!gameState.explored[ny][nx]) continue;
                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;
                    const nk = coordIdx(nx, ny);
                    if (closedSet.has(nk)) continue;

                    const g = current.g + 1;
                    const h = Math.max(Math.abs(nx - goalX), Math.abs(ny - goalY));
                    const f = g + h + h * 1e-6;

                    const existing = heap.get(nk);
                    if (existing) {
                        if (g < existing.g) {
                            existing.g = g;
                            existing.f = f;
                            existing.parent = current;
                            heap.decreaseKey(nk);
                        }
                    } else {
                        heap.push({ x: nx, y: ny, g, h, f, parent: current, _heapKey: nk });
                    }
                }
            }

            return null;
        }

        // Omniscient pathfinding for bots (ignores exploration requirement)
        function findPathOmniscient(startX, startY, goalX, goalY) {
            if (!inBounds(goalX, goalY)) return null;

            const goalTile = gameState.map[goalY][goalX];
            if (goalTile === TILE.WALL || goalTile === TILE.VOID) return null;
            if (isPillarAt(goalX, goalY)) return null;

            const startKey = coordIdx(startX, startY);
            const heap = new MinHeap();
            heap.push({ x: startX, y: startY, g: 0, h: 0, f: 0, parent: null, _heapKey: startKey });
            const closedSet = new Set();

            while (heap.length > 0) {
                const current = heap.pop();

                if (current.x === goalX && current.y === goalY) {
                    const path = [];
                    let node = current;
                    while (node.parent) {
                        path.unshift({ x: node.x, y: node.y });
                        node = node.parent;
                    }
                    return path;
                }

                const ck = current._heapKey;
                if (closedSet.has(ck)) continue;
                closedSet.add(ck);

                for (let d = 0; d < 8; d++) {
                    const dx = [-1, 0, 1, -1, 1, -1, 0, 1][d];
                    const dy = [-1, -1, -1, 0, 0, 1, 1, 1][d];
                    const nx = current.x + dx;
                    const ny = current.y + dy;

                    if (!inBounds(nx, ny)) continue;
                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;
                    const nk = coordIdx(nx, ny);
                    if (closedSet.has(nk)) continue;

                    const g = current.g + 1;
                    const h = Math.max(Math.abs(nx - goalX), Math.abs(ny - goalY));
                    const f = g + h + h * 1e-6;

                    const existing = heap.get(nk);
                    if (existing) {
                        if (g < existing.g) {
                            existing.g = g;
                            existing.f = f;
                            existing.parent = current;
                            heap.decreaseKey(nk);
                        }
                    } else {
                        heap.push({ x: nx, y: ny, g, h, f, parent: current, _heapKey: nk });
                    }
                }
            }

            return null;
        }

        // Lightweight BFS reachability check: can player reach stairs?
        // Much faster than findPathOmniscient ‚Äî no path reconstruction, no sorting
        function canReachStairs(startX, startY) {
            const goalX = gameState.stairsX, goalY = gameState.stairsY;
            if (startX === goalX && startY === goalY) return true;
            if (!inBounds(goalX, goalY)) return false;
            const goalTile = gameState.map[goalY][goalX];
            if (goalTile === TILE.WALL || goalTile === TILE.VOID) return false;

            const width = CONFIG.mapWidth;
            const visited = new Uint8Array(width * CONFIG.mapHeight);
            visited[startY * width + startX] = 1;
            const queue = [startX, startY]; // flat: x,y pairs
            let head = 0;

            while (head < queue.length) {
                const x = queue[head++];
                const y = queue[head++];

                for (let ddy = -1; ddy <= 1; ddy++) {
                    for (let ddx = -1; ddx <= 1; ddx++) {
                        if (ddx === 0 && ddy === 0) continue;
                        const nx = x + ddx, ny = y + ddy;
                        if (nx < 0 || nx >= CONFIG.mapWidth || ny < 0 || ny >= CONFIG.mapHeight) continue;
                        const idx = ny * width + nx;
                        if (visited[idx]) continue;
                        const tile = gameState.map[ny][nx];
                        if (tile === TILE.WALL || tile === TILE.VOID) continue;
                        if (isPillarAt(nx, ny)) continue;
                        if (nx === goalX && ny === goalY) return true;
                        visited[idx] = 1;
                        queue.push(nx, ny);
                    }
                }
            }
            return false;
        }

        // BFS Distance Field: Pre-compute distances from stairs to all tiles
        // Much faster than repeated A* when we need many paths to the same goal
        function computeDistanceFieldToStairs() {
            const sx = gameState.stairsX;
            const sy = gameState.stairsY;
            const width = CONFIG.mapWidth;
            const height = CONFIG.mapHeight;

            // Flat arrays for performance (index = y * width + x)
            const dist = new Array(width * height).fill(Infinity);
            const parentX = new Int16Array(width * height);
            const parentY = new Int16Array(width * height);

            // Mark parent as -1 for "no parent"
            parentX.fill(-1);
            parentY.fill(-1);

            const stairsIdx = coordIdx(sx, sy);
            dist[stairsIdx] = 0;

            const queue = [{ x: sx, y: sy }];
            let head = 0;

            const neighbors = [
                { dx: -1, dy: -1 }, { dx: 0, dy: -1 }, { dx: 1, dy: -1 },
                { dx: -1, dy: 0 },                      { dx: 1, dy: 0 },
                { dx: -1, dy: 1 },  { dx: 0, dy: 1 },  { dx: 1, dy: 1 }
            ];

            while (head < queue.length) {
                const { x, y } = queue[head++];
                const d = dist[coordIdx(x, y)];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx;
                    const ny = y + dy;

                    if (!inBounds(nx, ny)) continue;
                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;

                    const nIdx = coordIdx(nx, ny);
                    if (dist[nIdx] <= d + 1) continue;

                    dist[nIdx] = d + 1;
                    parentX[nIdx] = x;
                    parentY[nIdx] = y;
                    queue.push({ x: nx, y: ny });
                }
            }

            return { dist, parentX, parentY, width };
        }

        // Extract path from any location to stairs using pre-computed distance field
        // Returns path array (not including start, including goal) or null if unreachable
        function extractPathFromField(startX, startY, field) {
            const startIdx = coordIdx(startX, startY);
            if (field.dist[startIdx] === Infinity) return null;
            if (field.dist[startIdx] === 0) return []; // Already at stairs

            const path = [];
            let x = startX;
            let y = startY;

            // Follow parent pointers toward stairs
            while (true) {
                const idx = coordIdx(x, y);
                const px = field.parentX[idx];
                const py = field.parentY[idx];

                if (px === -1) break; // Reached stairs (no parent)

                path.push({ x: px, y: py });
                x = px;
                y = py;
            }

            return path;
        }

        // BFS Distance Field: Pre-compute distances FROM player TO all tiles
        // Used in candidate generation to replace multiple A* calls with one BFS
        function computeDistanceFieldFromPlayer() {
            const px = gameState.player.x;
            const py = gameState.player.y;
            const width = CONFIG.mapWidth;
            const height = CONFIG.mapHeight;

            // Flat arrays for performance (index = y * width + x)
            const dist = new Array(width * height).fill(Infinity);
            const parentX = new Int16Array(width * height);
            const parentY = new Int16Array(width * height);

            // Mark parent as -1 for "no parent"
            parentX.fill(-1);
            parentY.fill(-1);

            const playerIdx = coordIdx(px, py);
            dist[playerIdx] = 0;

            const queue = [{ x: px, y: py }];
            let head = 0;

            const neighbors = [
                { dx: -1, dy: -1 }, { dx: 0, dy: -1 }, { dx: 1, dy: -1 },
                { dx: -1, dy: 0 },                      { dx: 1, dy: 0 },
                { dx: -1, dy: 1 },  { dx: 0, dy: 1 },  { dx: 1, dy: 1 }
            ];

            while (head < queue.length) {
                const { x, y } = queue[head++];
                const d = dist[coordIdx(x, y)];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx;
                    const ny = y + dy;

                    if (!inBounds(nx, ny)) continue;
                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;

                    const nIdx = coordIdx(nx, ny);
                    if (dist[nIdx] <= d + 1) continue;

                    dist[nIdx] = d + 1;
                    parentX[nIdx] = x;
                    parentY[nIdx] = y;
                    queue.push({ x: nx, y: ny });
                }
            }

            return { dist, parentX, parentY, width };
        }

        // Extract path from player to target using pre-computed player distance field
        // Returns path array (not including start, including goal) or null if unreachable
        function extractPathFromPlayerField(targetX, targetY, field, playerX, playerY) {
            const targetIdx = coordIdx(targetX, targetY);
            if (field.dist[targetIdx] === Infinity) return null;
            if (targetX === playerX && targetY === playerY) return []; // Already there

            // Follow parent pointers from target back to player, then reverse
            const reversePath = [];
            let x = targetX;
            let y = targetY;

            while (!(x === playerX && y === playerY)) {
                reversePath.push({ x, y });
                const idx = coordIdx(x, y);
                const px = field.parentX[idx];
                const py = field.parentY[idx];

                if (px === -1) break; // Reached player (no parent)
                x = px;
                y = py;
            }

            // Reverse to get path from player to target
            return reversePath.reverse();
        }

        // Room-aware pathfinding for tactical bot (penalizes dangerous rooms)
        // Returns path with weighted cost favoring SAFE rooms over BRITTLE/CRITICAL
        function findPathRoomAware(startX, startY, goalX, goalY) {
            if (!inBounds(goalX, goalY)) return null;

            const goalTile = gameState.map[goalY][goalX];
            if (goalTile === TILE.WALL || goalTile === TILE.VOID) return null;
            if (isPillarAt(goalX, goalY)) return null;

            // Danger cost multipliers: SAFE=0.5, NORMAL=1, BRITTLE=2, CRITICAL=4
            const DANGER_COST = [0.5, 1.0, 2.0, 4.0];

            const startKey = coordIdx(startX, startY);
            const heap = new MinHeap();
            heap.push({ x: startX, y: startY, g: 0, h: 0, f: 0, parent: null, _heapKey: startKey });
            const closedSet = new Set();

            while (heap.length > 0) {
                const current = heap.pop();

                if (current.x === goalX && current.y === goalY) {
                    const path = [];
                    let node = current;
                    while (node.parent) {
                        path.unshift({ x: node.x, y: node.y });
                        node = node.parent;
                    }
                    return { path, cost: current.g };
                }

                const ck = current._heapKey;
                if (closedSet.has(ck)) continue;
                closedSet.add(ck);

                for (let d = 0; d < 8; d++) {
                    const dx = [-1, 0, 1, -1, 1, -1, 0, 1][d];
                    const dy = [-1, -1, -1, 0, 0, 1, 1, 1][d];
                    const nx = current.x + dx;
                    const ny = current.y + dy;

                    if (!inBounds(nx, ny)) continue;
                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;
                    const nk = coordIdx(nx, ny);
                    if (closedSet.has(nk)) continue;

                    const dangerLevel = getDangerLevelAt(nx, ny);
                    const moveCost = DANGER_COST[dangerLevel];
                    const g = current.g + moveCost;
                    const h = Math.max(Math.abs(nx - goalX), Math.abs(ny - goalY));
                    const f = g + h + h * 1e-6;

                    const existing = heap.get(nk);
                    if (existing) {
                        if (g < existing.g) {
                            existing.g = g;
                            existing.f = f;
                            existing.parent = current;
                            heap.decreaseKey(nk);
                        }
                    } else {
                        heap.push({ x: nx, y: ny, g, h, f, parent: current, _heapKey: nk });
                    }
                }
            }

            return null;
        }

        // Helper: count walkable neighbors (for chokepoint detection)
        function countWalkableNeighbors(x, y) {
            let count = 0;
            const dirs = [[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];
            for (const [dx, dy] of dirs) {
                const nx = x + dx, ny = y + dy;
                if (inBounds(nx, ny) && !isPillarAt(nx, ny) &&
                    gameState.map[ny][nx] !== TILE.WALL &&
                    gameState.map[ny][nx] !== TILE.VOID) {
                    count++;
                }
            }
            return count;
        }

        // Time-aware decay-weighted A* with AWAKENING-AWARE arrival model
        // Key insight: unawakened tiles don't tick until player approaches!
        // - Awakened tiles: arrival_decay = current_decay - stepsToReach
        // - Unawakened tiles: only tick for min(stepsToReach, awakenRadius+1) turns
        // Uses Chebyshev distance heuristic for 8-dir movement with uniform cost 1
        function findPathDecayWeighted(startX, startY, goalX, goalY) {
            if (!inBounds(goalX, goalY)) return null;
            const goalTile = gameState.map[goalY][goalX];
            if (goalTile === TILE.WALL || goalTile === TILE.VOID) return null;
            if (isPillarAt(goalX, goalY)) return null;

            // Tuned after fixing arrival model
            const RISK_THRESHOLD = 3;
            const RISK_WEIGHT = 1;

            const awakenRadius = gameState.awakenRadius;

            const openSet = [{ x: startX, y: startY, g: 0, f: 0, steps: 0, risk: 0, parent: null }];
            const openMap = new Map();
            const closedSet = new Set();

            openMap.set(coordIdx(startX, startY), 0);

            // Chebyshev distance heuristic for 8-direction movement with uniform cost 1
            function heuristic(x, y) {
                const dx = Math.abs(x - goalX);
                const dy = Math.abs(y - goalY);
                return Math.max(dx, dy);
            }

            // Predict how many decay ticks happen before we step on (x,y)
            // - If awakened now: ticks ~= stepsToReach
            // - If unawakened now: ticks capped by awakenRadius + 1
            function predictedTicksBeforeArrival(x, y, stepsToReach) {
                const isAwakened = !!gameState.awakened[y]?.[x];
                if (isAwakened) return stepsToReach;
                // Unawakened tiles only start ticking when player gets close
                return Math.min(stepsToReach, awakenRadius + 1);
            }

            function getArrivalDecay(x, y, stepsToReach) {
                const currentDecay = gameState.decay[y]?.[x];
                if (currentDecay == null) return -999;
                const ticks = predictedTicksBeforeArrival(x, y, stepsToReach);
                return currentDecay - ticks;
            }

            function getRiskPenalty(x, y, stepsToReach) {
                const arrival = getArrivalDecay(x, y, stepsToReach);

                // Hard-block tiles that will collapse on or before arrival
                if (arrival <= 0) return 9999;

                if (arrival >= RISK_THRESHOLD) return 0;

                const deficit = RISK_THRESHOLD - arrival;
                return deficit * deficit * RISK_WEIGHT;
            }

            const neighbors = [
                { dx: 0, dy: -1 }, { dx: 1, dy: 0 }, { dx: 0, dy: 1 }, { dx: -1, dy: 0 },
                { dx: -1, dy: -1 }, { dx: 1, dy: -1 }, { dx: -1, dy: 1 }, { dx: 1, dy: 1 }
            ];

            while (openSet.length > 0) {
                let minIdx = 0;
                for (let i = 1; i < openSet.length; i++) {
                    if (openSet[i].f < openSet[minIdx].f) minIdx = i;
                }
                const current = openSet[minIdx];

                if (current.x === goalX && current.y === goalY) {
                    const path = [];
                    let node = current;
                    while (node.parent) {
                        path.unshift({
                            x: node.x,
                            y: node.y,
                            arrivalDecay: getArrivalDecay(node.x, node.y, node.steps)
                        });
                        node = node.parent;
                    }
                    return { path, totalRisk: current.risk };
                }

                const key = coordIdx(current.x, current.y);
                openSet[minIdx] = openSet[openSet.length - 1];
                openSet.pop();
                if (openSet.length > 0 && minIdx < openSet.length) {
                    openMap.set(coordIdx(openSet[minIdx].x, openSet[minIdx].y), minIdx);
                }
                openMap.delete(key);
                closedSet.add(key);

                for (const { dx, dy } of neighbors) {
                    const nx = current.x + dx;
                    const ny = current.y + dy;
                    if (!inBounds(nx, ny)) continue;

                    const tile = gameState.map[ny][nx];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (isPillarAt(nx, ny)) continue;

                    const nkey = coordIdx(nx, ny);
                    if (closedSet.has(nkey)) continue;

                    // Uniform movement cost (all moves cost 1 turn)
                    const moveCost = 1;
                    const steps = current.steps + 1;

                    const tileRisk = getRiskPenalty(nx, ny, steps);
                    if (tileRisk >= 9999) continue; // treat as blocked

                    const g = current.g + moveCost + tileRisk;
                    const h = heuristic(nx, ny);
                    const f = g + h;
                    const risk = current.risk + tileRisk;

                    if (openMap.has(nkey)) {
                        const idx = openMap.get(nkey);
                        if (g < openSet[idx].g) {
                            openSet[idx].g = g;
                            openSet[idx].f = f;
                            openSet[idx].steps = steps;
                            openSet[idx].risk = risk;
                            openSet[idx].parent = current;
                        }
                    } else {
                        openMap.set(nkey, openSet.length);
                        openSet.push({ x: nx, y: ny, g, f, steps, risk, parent: current });
                    }
                }
            }

            return null;
        }

        // ============ PATH EXECUTION ============
        function cancelPath() {
            gameState.pendingPath = null;
            gameState.pendingTarget = null;
            gameState.autoPath = null;
            gameState.pathIndex = 0;
        }

        function executePendingPath() {
            if (!gameState.pendingPath || gameState.pendingPath.length === 0) return;

            gameState.autoPath = gameState.pendingPath;
            gameState.pathIndex = 0;
            gameState.pendingPath = null;
            gameState.pendingTarget = null;
            addMessage("Traveling...", 'path');
            executeNextPathStep();
        }

        function executeNextPathStep() {
            if (!gameState.autoPath) return;
            if (gameState.pathIndex >= gameState.autoPath.length) {
                gameState.autoPath = null;
                addMessage("Arrived.", 'path');
                render();
                return;
            }

            const next = gameState.autoPath[gameState.pathIndex];
            const dx = next.x - gameState.player.x;
            const dy = next.y - gameState.player.y;

            if (tryMove(dx, dy, true)) {
                gameState.pathIndex++;
                setTimeout(executeNextPathStep, CONFIG.pathStepDelay);
            } else {
                addMessage("Path blocked!", 'warn');
                gameState.autoPath = null;
                render();
            }
        }

        // ============ MAP GENERATION ============
        function createEmptyMap() {
            const map = [];
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                map[y] = [];
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    map[y][x] = TILE.WALL;
                }
            }
            return map;
        }

        function roomsOverlap(r1, r2, margin = 1) {
            return !(r1.x + r1.w + margin < r2.x ||
                     r2.x + r2.w + margin < r1.x ||
                     r1.y + r1.h + margin < r2.y ||
                     r2.y + r2.h + margin < r1.y);
        }

        function carveRoom(room) {
            for (let y = room.y; y < room.y + room.h; y++) {
                for (let x = room.x; x < room.x + room.w; x++) {
                    if (inBounds(x, y)) {
                        gameState.map[y][x] = TILE.FLOOR;
                    }
                }
            }
        }

        function carveHorizontalCorridor(x1, x2, y) {
            const startX = Math.min(x1, x2);
            const endX = Math.max(x1, x2);
            for (let x = startX; x <= endX; x++) {
                if (inBounds(x, y) && gameState.map[y][x] === TILE.WALL) {
                    gameState.map[y][x] = TILE.FLOOR;
                }
            }
        }

        function carveVerticalCorridor(y1, y2, x) {
            const startY = Math.min(y1, y2);
            const endY = Math.max(y1, y2);
            for (let y = startY; y <= endY; y++) {
                if (inBounds(x, y) && gameState.map[y][x] === TILE.WALL) {
                    gameState.map[y][x] = TILE.FLOOR;
                }
            }
        }

        function connectRooms(room1, room2) {
            const center1 = {
                x: Math.floor(room1.x + room1.w / 2),
                y: Math.floor(room1.y + room1.h / 2)
            };
            const center2 = {
                x: Math.floor(room2.x + room2.w / 2),
                y: Math.floor(room2.y + room2.h / 2)
            };

            if (seededRandom() < 0.5) {
                carveHorizontalCorridor(center1.x, center2.x, center1.y);
                carveVerticalCorridor(center1.y, center2.y, center2.x);
            } else {
                carveVerticalCorridor(center1.y, center2.y, center1.x);
                carveHorizontalCorridor(center1.x, center2.x, center2.y);
            }
        }

        function validateConnectivity() {
            // BFS from player spawn to check all floor tiles are reachable
            const visited = new Set();
            const queue = [{ x: gameState.player.x, y: gameState.player.y }];
            let head = 0;
            visited.add(coordIdx(gameState.player.x, gameState.player.y));

            while (head < queue.length) {
                const { x, y } = queue[head++];

                const neighbors = [
                    { dx: -1, dy: 0 }, { dx: 1, dy: 0 },
                    { dx: 0, dy: -1 }, { dx: 0, dy: 1 }
                ];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx;
                    const ny = y + dy;

                    if (!inBounds(nx, ny)) continue;
                    if (visited.has(coordIdx(nx, ny))) continue;
                    if (gameState.map[ny][nx] === TILE.WALL) continue;

                    visited.add(coordIdx(nx, ny));
                    queue.push({ x: nx, y: ny });
                }
            }

            // Count floor tiles
            let floorCount = 0;
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    if (gameState.map[y][x] !== TILE.WALL) floorCount++;
                }
            }

            return visited.size === floorCount;
        }

        // Solvability check: verify shortest path to stairs has enough time
        // Returns true if the path is traversable with a safety margin
        function checkSolvability() {
            const levelConfig = getLevelConfig(gameState.level);

            // Level 1 has no decay, always solvable
            if (gameState.level === 1) return true;

            // Find shortest path to stairs
            const path = findPathOmniscient(
                gameState.player.x, gameState.player.y,
                gameState.stairsX, gameState.stairsY
            );

            if (!path) return false;  // No path exists

            // Check each tile on the path
            // We need: decay_timer >= steps_to_reach_tile + safety_margin
            // Safety margin accounts for BFS awakening delay
            const safetyMargin = 2;

            for (let i = 0; i < path.length; i++) {
                const { x, y } = path[i];
                const stepsToReach = i + 1;  // How many moves to reach this tile
                const decayTimer = gameState.decay[y]?.[x] || 0;

                // For Level 2, decay is 50% rate, so effective time is doubled
                const effectiveDecay = (gameState.level === 2) ? decayTimer * 2 : decayTimer;

                if (effectiveDecay < stepsToReach + safetyMargin) {
                    // This tile would collapse before we reach it
                    return false;
                }
            }

            return true;
        }

        function generateMap(seed = null) {
            // Set up seed (use nullish coalescing so seed=0 works)
            gameState.seed = seed ?? Math.floor(Math.random() * 1000000);
            seedRng(gameState.seed);

            // Save initial RNG state for deterministic restart
            gameState.initialRngState = rngState;

            // Track charges at level start for accurate restart (bug fix)
            gameState.chargesAtLevelStart = gameState.stabilizerCharges;

            generateMapInternal();
            addMessage(`Generated dungeon with ${gameState.rooms.length} rooms.`, 'info');
        }

        function generateMapInternal() {
            let attempts = 0;
            const maxAttempts = 10;
            let stairsX = 0, stairsY = 0;

            do {
                attempts++;
                gameState.map = createEmptyMap();
                gameState.rooms = [];

                const levelCfg = getLevelConfig(gameState.level);
                const numRooms = random(levelCfg.minRooms, levelCfg.maxRooms);
                let currentMaxSize = levelCfg.maxRoomSize;

                for (let i = 0; i < numRooms; i++) {
                    let placed = false;
                    let roomAttempts = 0;

                    for (let attempt = 0; attempt < CONFIG.maxRoomAttempts; attempt++) {
                        roomAttempts++;

                        // Shrink room size after many failures
                        if (roomAttempts > 50 && currentMaxSize > levelCfg.minRoomSize + 1) {
                            currentMaxSize--;
                        }

                        const w = random(levelCfg.minRoomSize, currentMaxSize);
                        const h = random(levelCfg.minRoomSize, currentMaxSize);
                        const x = random(1, CONFIG.mapWidth - w - 1);
                        const y = random(1, CONFIG.mapHeight - h - 1);

                        const newRoom = { x, y, w, h };

                        let overlaps = false;
                        for (const room of gameState.rooms) {
                            if (roomsOverlap(newRoom, room)) {
                                overlaps = true;
                                break;
                            }
                        }

                        if (!overlaps) {
                            carveRoom(newRoom);

                            if (gameState.rooms.length > 0) {
                                connectRooms(gameState.rooms[gameState.rooms.length - 1], newRoom);
                            }

                            // Assign room danger level based on level distribution
                            newRoom.dangerLevel = assignRoomDangerLevel(gameState.level);

                            gameState.rooms.push(newRoom);
                            placed = true;
                            break;
                        }
                    }

                    if (!placed && gameState.rooms.length === 0) {
                        const fallback = {
                            x: Math.floor(CONFIG.mapWidth / 2) - 3,
                            y: Math.floor(CONFIG.mapHeight / 2) - 3,
                            w: 6,
                            h: 6
                        };
                        carveRoom(fallback);
                        fallback.dangerLevel = 0; // Starting room is always SAFE
                        gameState.rooms.push(fallback);
                    }
                }

                // Place stairs in the last room
                if (gameState.rooms.length > 0) {
                    const lastRoom = gameState.rooms[gameState.rooms.length - 1];
                    // Stairs room is never CRITICAL (cap at BRITTLE)
                    if (lastRoom.dangerLevel === ROOM_DANGER.CRITICAL) {
                        lastRoom.dangerLevel = ROOM_DANGER.BRITTLE;
                    }
                    stairsX = Math.floor(lastRoom.x + lastRoom.w / 2);
                    stairsY = Math.floor(lastRoom.y + lastRoom.h / 2);
                    gameState.map[stairsY][stairsX] = TILE.STAIRS_DOWN;
                    // Store for compass
                    gameState.stairsX = stairsX;
                    gameState.stairsY = stairsY;
                }

                // Place player in first room
                if (gameState.rooms.length > 0) {
                    const firstRoom = gameState.rooms[0];
                    gameState.player.x = Math.floor(firstRoom.x + firstRoom.w / 2);
                    gameState.player.y = Math.floor(firstRoom.y + firstRoom.h / 2);
                }

                // Add extra corridor connections for multi-path (1-2 additional connections)
                if (gameState.rooms.length >= 4) {
                    const extraConnections = random(1, 2);
                    for (let c = 0; c < extraConnections; c++) {
                        // Pick two non-adjacent rooms (at least 2 apart in the list)
                        const roomCount = gameState.rooms.length;
                        const idx1 = random(0, roomCount - 3);
                        const idx2 = random(idx1 + 2, roomCount - 1);
                        connectRooms(gameState.rooms[idx1], gameState.rooms[idx2]);
                    }
                }

                // Validate connectivity
                if (gameState.rooms.length >= 3 && validateConnectivity()) {
                    break;
                }

                // Retry with new seed variation
                seedRng(gameState.seed + attempts * 12345);
            } while (attempts < maxAttempts);

            // Initialize decay timers for all floor tiles
            initDecayArray();

            // Calculate distances from player start (needed for decay values)
            calculateDistancesFromStart();

            // Assign decay values based on distance
            assignDecayTimers(stairsX, stairsY);

            // Place crystals on unstable tiles
            placeCrystals();

            // Place pillars
            placePillars();

            // Place grapple hooks
            placeGrappleItems();

            // Place enemies
            placeEnemies();

            // Solvability check - ensure there's at least one viable path (not necessarily shortest)
            // Only boost critical chokepoints, not the entire path
            if (!checkSolvability()) {
                const path = findPathOmniscient(
                    gameState.player.x, gameState.player.y,
                    gameState.stairsX, gameState.stairsY
                );
                if (path) {
                    // Only boost tiles that are true chokepoints (would make map unwinnable)
                    // Identify chokepoints: tiles with low connectivity (< 3 valid neighbors)
                    for (let i = 0; i < path.length; i++) {
                        const { x, y } = path[i];
                        const stepsToReach = i + 1;
                        const decayTimer = gameState.decay[y][x] || 0;

                        // Check if this is a chokepoint
                        let validNeighbors = 0;
                        const neighbors = [
                            {dx: -1, dy: 0}, {dx: 1, dy: 0},
                            {dx: 0, dy: -1}, {dx: 0, dy: 1}
                        ];
                        for (const {dx, dy} of neighbors) {
                            const nx = x + dx, ny = y + dy;
                            if (inBounds(nx, ny) &&
                                gameState.map[ny][nx] !== TILE.WALL &&
                                gameState.map[ny][nx] !== TILE.VOID) {
                                validNeighbors++;
                            }
                        }

                        // Only boost actual chokepoints (corridors, not rooms)
                        const isChokepoint = validNeighbors <= 2;
                        if (isChokepoint && decayTimer < stepsToReach + 2) {
                            // Minimal boost - just enough to make it reachable
                            gameState.decay[y][x] = stepsToReach + 2;
                        }
                    }
                }
            }

            // Initialize visibility
            initVisibilityArrays();
            calculateFOV();

            // Clear state BEFORE awakening so room entry/grace works correctly
            // (Bug fix: was clearing AFTER awakening, which nuked the grace from starting room)
            cancelPath();
            gameState.stateHistory = [];
            gameState.frozenTiles = [];
            gameState.graceTiles = [];
            gameState.enteredRooms = new Set();
            gameState.stabilizerCooldown = 0;
            gameState.consecutiveWaits = 0;
            gameState.restedTiles = new Set();
            gameState.mapVersion = 0;  // Reset for plan commitment
            gameState.grappleMode = false;

            // NOW awaken tiles near player start (room entry + grace works on fresh state)
            awakenNearbyTiles();
        }

        function assignDecayTimers(stairsX, stairsY) {
            // Get level-specific configuration
            const levelConfig = getLevelConfig(gameState.level);

            // Room danger modifiers: SAFE=+3, NORMAL=0, BRITTLE=-2, CRITICAL=-4
            const DANGER_MODIFIER = [3, 0, -2, -4]; // Indexed by danger level

            // Track which tiles are in rooms vs corridors (with room index)
            const tileToRoom = new Map(); // "x,y" -> room index
            for (let i = 0; i < gameState.rooms.length; i++) {
                const room = gameState.rooms[i];
                for (let y = room.y; y < room.y + room.h; y++) {
                    for (let x = room.x; x < room.x + room.w; x++) {
                        tileToRoom.set(coordIdx(x, y), i);
                    }
                }
            }

            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    const tile = gameState.map[y][x];
                    if (tile === TILE.WALL) {
                        gameState.decay[y][x] = 0;
                        continue;
                    }

                    const roomIdx = tileToRoom.get(coordIdx(x, y));
                    const isRoom = roomIdx !== undefined;
                    const distFromStart = gameState.distanceFromStart[y][x];

                    // Base decay + distance bonus (further = more stable when awakened)
                    // Distance bonus can be disabled (divisor = 0) at higher levels
                    const distBonus = levelConfig.distanceDecayDivisor > 0
                        ? Math.floor(distFromStart / levelConfig.distanceDecayDivisor)
                        : 0;

                    let decay;
                    if (isRoom) {
                        decay = levelConfig.roomDecayBase + distBonus + random(0, levelConfig.roomDecayRandom);
                        // Apply room danger modifier
                        const dangerLevel = gameState.rooms[roomIdx].dangerLevel;
                        decay += DANGER_MODIFIER[dangerLevel];
                    } else {
                        // Corridors are always NORMAL (no modifier)
                        decay = levelConfig.corridorDecayBase + distBonus + random(0, levelConfig.corridorDecayRandom);
                    }

                    // Bonus stability near stairs (ensure exit is reachable)
                    const distToStairs = Math.abs(x - stairsX) + Math.abs(y - stairsY);
                    if (distToStairs <= levelConfig.stairsDecayRadius) {
                        decay += levelConfig.stairsDecayBonus;
                    }

                    // Ensure decay is at least 1 (tiles shouldn't start collapsed)
                    gameState.decay[y][x] = Math.max(1, decay);
                }
            }
        }

        function placeCrystals() {
            gameState.crystals = [];
            gameState.crystalsCollected = 0;

            // Find tiles with low stability for crystal placement
            const unstableTiles = [];
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    const decay = gameState.decay[y][x];
                    const tile = gameState.map[y][x];
                    // Crystals on tiles with lower decay (more risky to collect)
                    // Only on floor tiles, not too close to start
                    const distFromStart = gameState.distanceFromStart[y][x];
                    if (tile === TILE.FLOOR && decay > 0 && distFromStart > 8) {
                        unstableTiles.push({ x, y, decay });
                    }
                }
            }

            // Sort by instability (lower decay = more dangerous = more valuable)
            unstableTiles.sort((a, b) => a.decay - b.decay);

            // Place crystals on the most dangerous accessible tiles (take bottom 20%)
            const candidateCount = Math.max(5, Math.floor(unstableTiles.length * 0.2));
            const candidates = unstableTiles.slice(0, candidateCount);
            // Shuffle and pick to add variety
            for (let i = candidates.length - 1; i > 0; i--) {
                const j = random(0, i);
                [candidates[i], candidates[j]] = [candidates[j], candidates[i]];
            }
            const numCrystals = Math.min(CONFIG.crystalsPerLevel, candidates.length);
            for (let i = 0; i < numCrystals; i++) {
                const tile = candidates[i];
                gameState.crystals.push({ x: tile.x, y: tile.y, collected: false });
            }
        }

        function placePillars() {
            gameState.pillars = [];

            // Place 2-3 pillars per level, preferring junction tiles
            const numPillars = random(2, 3);

            // Build crystal position set for exclusion (using integer indices)
            const crystalPositions = new Set(
                gameState.crystals.map(c => coordIdx(c.x, c.y))
            );

            // Count floor neighbors for each tile (junctions have 3+ neighbors)
            const junctionCandidates = [];
            const regularCandidates = [];

            for (let y = 1; y < CONFIG.mapHeight - 1; y++) {
                for (let x = 1; x < CONFIG.mapWidth - 1; x++) {
                    if (gameState.map[y][x] !== TILE.FLOOR) continue;
                    if (crystalPositions.has(coordIdx(x, y))) continue;

                    // Skip player start and stairs areas
                    const distToPlayer = Math.abs(x - gameState.player.x) + Math.abs(y - gameState.player.y);
                    const distToStairs = Math.abs(x - gameState.stairsX) + Math.abs(y - gameState.stairsY);
                    if (distToPlayer < 3 || distToStairs < 3) continue;

                    // Count adjacent floor tiles (cardinal + diagonal)
                    let floorNeighbors = 0;
                    for (let dy = -1; dy <= 1; dy++) {
                        for (let dx = -1; dx <= 1; dx++) {
                            if (dx === 0 && dy === 0) continue;
                            if (gameState.map[y + dy][x + dx] === TILE.FLOOR ||
                                gameState.map[y + dy][x + dx] === TILE.STAIRS_DOWN) {
                                floorNeighbors++;
                            }
                        }
                    }

                    // Junction = 3+ floor neighbors (corridor intersections, room entries)
                    if (floorNeighbors >= 4 && floorNeighbors <= 6) {
                        junctionCandidates.push({ x, y, neighbors: floorNeighbors });
                    } else if (floorNeighbors >= 2) {
                        regularCandidates.push({ x, y });
                    }
                }
            }

            // Prioritize junction candidates, fall back to regular
            const candidates = junctionCandidates.length >= numPillars
                ? junctionCandidates
                : [...junctionCandidates, ...regularCandidates];

            // Shuffle and pick
            for (let i = candidates.length - 1; i > 0; i--) {
                const j = random(0, i);
                [candidates[i], candidates[j]] = [candidates[j], candidates[i]];
            }

            // Place pillars with connectivity check
            let placed = 0;
            for (let i = 0; i < candidates.length && placed < numPillars; i++) {
                const candidate = candidates[i];

                // Tentatively add pillar
                gameState.pillars.push(candidate);

                // Check if player can still reach stairs
                const field = computeDistanceFieldToStairs();
                const playerIdx = coordIdx(gameState.player.x, gameState.player.y);

                if (field.dist[playerIdx] === Infinity) {
                    // Pillar blocks only path - reject it
                    gameState.pillars.pop();
                    // Continue to try next candidate
                } else {
                    // Pillar is safe, keep it
                    placed++;
                }
            }
        }

        function placeGrappleItems() {
            gameState.grappleItems = [];
            if (gameState.level < 2) return; // Grapple available from level 2

            // Place 2-3 grapple hooks per level
            const numGrapples = random(2, 3);
            const occupied = new Set([
                ...gameState.crystals.map(c => coordIdx(c.x, c.y)),
                ...gameState.pillars.map(p => coordIdx(p.x, p.y)),
                coordIdx(gameState.player.x, gameState.player.y),
                coordIdx(gameState.stairsX, gameState.stairsY)
            ]);

            const candidates = [];
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    if (gameState.map[y][x] !== TILE.FLOOR) continue;
                    if (occupied.has(coordIdx(x, y))) continue;
                    const distPlayer = Math.abs(x - gameState.player.x) + Math.abs(y - gameState.player.y);
                    const distStairs = Math.abs(x - gameState.stairsX) + Math.abs(y - gameState.stairsY);
                    if (distPlayer >= 6 && distStairs >= 4) {
                        candidates.push({ x, y, score: distPlayer + distStairs });
                    }
                }
            }

            if (candidates.length === 0) return;

            // Shuffle candidates
            for (let i = candidates.length - 1; i > 0; i--) {
                const j = random(0, i);
                [candidates[i], candidates[j]] = [candidates[j], candidates[i]];
            }

            // Pick up to numGrapples with minimum spacing of 5 tiles between items
            const placed = [];
            for (const c of candidates) {
                if (placed.length >= numGrapples) break;
                const tooClose = placed.some(p =>
                    Math.abs(p.x - c.x) + Math.abs(p.y - c.y) < 5
                );
                if (tooClose) continue;
                placed.push({ x: c.x, y: c.y, collected: false });
            }
            gameState.grappleItems = placed;
        }

        // ============ ENEMIES ============
        const ENEMY_DECAY_DAMAGE = 2; // Extra decay crawlers inflict on tiles they walk on

        function placeEnemies() {
            gameState.enemies = [];
            gameState.seekerTrail = new Set();
            if (gameState.level < 4) return; // No enemies before level 4

            // Enemy count scaling by level
            // L4: 1C, 1M       L5-6: 2C, 2M       L6+: seekers
            // L7-8: 1-2 each   L9-10: 2-3 each
            const lv = gameState.level;
            let numCrawlers, numMenders, numSeekers;
            if (lv >= 9) {
                numCrawlers = random(2, 3);
                numMenders = random(2, 3);
                numSeekers = random(2, 3);
            } else if (lv >= 7) {
                numCrawlers = random(1, 2);
                numMenders = random(1, 2);
                numSeekers = random(1, 2);
            } else if (lv >= 6) {
                numCrawlers = 2;
                numMenders = 2;
                numSeekers = 1;
            } else if (lv >= 5) {
                numCrawlers = 2;
                numMenders = 2;
                numSeekers = 0;
            } else {
                numCrawlers = 1;
                numMenders = 1;
                numSeekers = 0;
            }

            const occupied = new Set([
                ...gameState.crystals.map(c => coordIdx(c.x, c.y)),
                ...gameState.pillars.map(p => coordIdx(p.x, p.y)),
                ...gameState.grappleItems.map(g => coordIdx(g.x, g.y)),
                coordIdx(gameState.player.x, gameState.player.y),
                coordIdx(gameState.stairsX, gameState.stairsY)
            ]);

            // Helper: generate shuffled candidates at minimum distance from player
            function getCandidates(minDist) {
                const list = [];
                for (let y = 0; y < CONFIG.mapHeight; y++) {
                    for (let x = 0; x < CONFIG.mapWidth; x++) {
                        if (gameState.map[y][x] !== TILE.FLOOR) continue;
                        if (occupied.has(coordIdx(x, y))) continue;
                        const d = Math.abs(x - gameState.player.x) + Math.abs(y - gameState.player.y);
                        if (d >= minDist) list.push({ x, y });
                    }
                }
                for (let i = list.length - 1; i > 0; i--) {
                    const j = random(0, i);
                    [list[i], list[j]] = [list[j], list[i]];
                }
                return list;
            }

            // Place crawlers (min 10 dist)
            const crawlerCands = getCandidates(10);
            for (let i = 0; i < Math.min(numCrawlers, crawlerCands.length); i++) {
                const c = crawlerCands[i];
                gameState.enemies.push({ type: 'crawler', x: c.x, y: c.y, dir: 0, moveTimer: 0 });
                occupied.add(coordIdx(c.x, c.y));
            }

            // Place menders (min 6 dist)
            const menderCands = getCandidates(6);
            for (let i = 0; i < Math.min(numMenders, menderCands.length); i++) {
                const c = menderCands[i];
                gameState.enemies.push({ type: 'mender', x: c.x, y: c.y, dir: 0, moveTimer: 0 });
                occupied.add(coordIdx(c.x, c.y));
            }

            // Place seekers (min 8 dist)
            if (numSeekers > 0) {
                const seekerCands = getCandidates(8);
                for (let i = 0; i < Math.min(numSeekers, seekerCands.length); i++) {
                    const c = seekerCands[i];
                    gameState.enemies.push({ type: 'seeker', x: c.x, y: c.y, dir: 0, moveTimer: 0 });
                    occupied.add(coordIdx(c.x, c.y));
                }
            }
        }

        // Move all enemies one step (called after player moves)
        function processEnemyMoves(state = gameState) {
            for (const enemy of state.enemies) {
                if (enemy.type === 'crawler') {
                    moveCrawler(enemy, state);
                } else if (enemy.type === 'mender') {
                    moveMender(enemy, state);
                } else if (enemy.type === 'seeker') {
                    moveSeeker(enemy, state);
                }
            }
        }

        const SEEKER_WAKEUP_DIST = 8;   // Chebyshev distance to start pursuing player
        const SEEKER_AOE_DAMAGE = 1;     // Decay damage to each of the 8 adjacent tiles
        const ENEMY_COLLISION_RADIUS = 3;  // Chebyshev radius of decay burst on collision
        const ENEMY_COLLISION_DAMAGE = 5;  // Decay damage per tile in burst radius

        // Apply enemy collision decay burst around (cx, cy) on state
        function applyEnemyCollisionBurst(cx, cy, state) {
            for (let dy = -ENEMY_COLLISION_RADIUS; dy <= ENEMY_COLLISION_RADIUS; dy++) {
                for (let dx = -ENEMY_COLLISION_RADIUS; dx <= ENEMY_COLLISION_RADIUS; dx++) {
                    const bx = cx + dx, by = cy + dy;
                    if (!inBounds(bx, by)) continue;
                    if (state.map[by][bx] === TILE.WALL || state.map[by][bx] === TILE.VOID) continue;
                    if (!state.awakened[by]?.[bx]) continue;
                    if (state.seekerTrail && state.seekerTrail.has(coordIdx(bx, by))) continue;
                    state.decay[by][bx] = Math.max(0, state.decay[by][bx] - ENEMY_COLLISION_DAMAGE);
                    if (state.decay[by][bx] <= 0) {
                        if (state === gameState) {
                            collapseTile(bx, by);
                        } else {
                            simCollapseTile(state, bx, by);
                        }
                    }
                }
            }
        }

        // Crawler: tries to continue in current direction; if blocked, turns clockwise
        const DIR8 = [[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];

        function moveCrawler(enemy, state) {
            // Try current direction, then clockwise rotations
            for (let attempt = 0; attempt < 8; attempt++) {
                const dirIdx = (enemy.dir + attempt) % 8;
                const [ddx, ddy] = DIR8[dirIdx];
                const nx = enemy.x + ddx;
                const ny = enemy.y + ddy;

                if (!inBounds(nx, ny)) continue;
                if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) continue;
                if (isPillarAt(nx, ny, state)) continue;
                // Don't share tile with another enemy
                if (state.enemies.some(e => e !== enemy && e.x === nx && e.y === ny)) continue;

                // Move
                enemy.x = nx;
                enemy.y = ny;
                enemy.dir = dirIdx;

                // Inflict extra decay on the tile walked onto
                if (state.awakened[ny]?.[nx] && state.decay[ny][nx] > 0) {
                    state.decay[ny][nx] = Math.max(0, state.decay[ny][nx] - ENEMY_DECAY_DAMAGE);
                    if (state.decay[ny][nx] <= 0) {
                        if (state === gameState) {
                            collapseTile(nx, ny);
                        } else {
                            simCollapseTile(state, nx, ny);
                        }
                    }
                }

                // After moving, prefer to turn clockwise (wall-following behavior)
                enemy.dir = (dirIdx + 2) % 8; // Turn 90¬∞ clockwise for next move
                return;
            }
            // Stuck - stay in place
        }

        // Mender: deterministic "random" walk based on position + move counter
        function moveMender(enemy, state) {
            // Deterministic direction order based on enemy position and move count
            // Using a simple hash to pick direction order
            const hash = (enemy.x * 7 + enemy.y * 13 + state.moves * 31) >>> 0;
            const startDir = hash % 8;
            const shuffled = [];
            for (let i = 0; i < 8; i++) shuffled.push((startDir + i) % 8);

            for (const dirIdx of shuffled) {
                const [ddx, ddy] = DIR8[dirIdx];
                const nx = enemy.x + ddx;
                const ny = enemy.y + ddy;

                if (!inBounds(nx, ny)) continue;
                if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) continue;
                if (isPillarAt(nx, ny, state)) continue;
                if (state.enemies.some(e => e !== enemy && e.x === nx && e.y === ny)) continue;
                // Mender can't share tile with player
                if (nx === state.player.x && ny === state.player.y) continue;

                enemy.x = nx;
                enemy.y = ny;

                // Heal the tile (+3 decay)
                if (state.awakened[ny]?.[nx] && state.map[ny][nx] !== TILE.VOID) {
                    state.decay[ny][nx] += 3;
                }
                return;
            }
        }

        // Seeker: pursues player at half speed when within wakeup range
        // Leaves permanent non-decaying trail, applies AoE decay to 8 neighbors
        function moveSeeker(enemy, state) {
            enemy.moveTimer = (enemy.moveTimer || 0) + 1;

            // AoE decay: always applies, even on non-move turns
            for (const [ddx, ddy] of DIR8) {
                const ax = enemy.x + ddx, ay = enemy.y + ddy;
                if (!inBounds(ax, ay)) continue;
                if (state.map[ay][ax] === TILE.WALL || state.map[ay][ax] === TILE.VOID) continue;
                if (state.awakened[ay]?.[ax] && state.decay[ay][ax] > 0) {
                    // Don't damage seeker trail tiles
                    const trailSet = state.seekerTrail || (state === gameState ? gameState.seekerTrail : new Set());
                    if (trailSet.has(coordIdx(ax, ay))) continue;
                    state.decay[ay][ax] = Math.max(0, state.decay[ay][ax] - SEEKER_AOE_DAMAGE);
                    if (state.decay[ay][ax] <= 0) {
                        if (state === gameState) {
                            collapseTile(ax, ay);
                        } else {
                            simCollapseTile(state, ax, ay);
                        }
                    }
                }
            }

            // Half speed: only move on even turns
            if (enemy.moveTimer % 2 !== 0) return;

            // Check if player is within wakeup distance
            const dist = Math.max(Math.abs(enemy.x - state.player.x), Math.abs(enemy.y - state.player.y));
            if (dist > SEEKER_WAKEUP_DIST) return; // Stay dormant

            // Move toward player: pick the adjacent tile that minimizes Chebyshev distance
            const px = state.player.x, py = state.player.y;
            let bestDist = dist;
            let bestX = enemy.x, bestY = enemy.y;

            for (const [ddx, ddy] of DIR8) {
                const nx = enemy.x + ddx, ny = enemy.y + ddy;
                if (!inBounds(nx, ny)) continue;
                if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) continue;
                if (isPillarAt(nx, ny, state)) continue;
                if (state.enemies.some(e => e !== enemy && e.x === nx && e.y === ny)) continue;

                const d = Math.max(Math.abs(nx - px), Math.abs(ny - py));
                if (d < bestDist) {
                    bestDist = d;
                    bestX = nx;
                    bestY = ny;
                }
            }

            if (bestX !== enemy.x || bestY !== enemy.y) {
                // Leave trail on current tile before moving
                const trailSet = state.seekerTrail || (state === gameState ? gameState.seekerTrail : null);
                if (trailSet) {
                    const idx = coordIdx(enemy.x, enemy.y);
                    trailSet.add(idx);
                    // Stabilize the trail tile
                    if (state.decay[enemy.y]?.[enemy.x] !== undefined) {
                        state.decay[enemy.y][enemy.x] = Math.max(state.decay[enemy.y][enemy.x], 20);
                    }
                }
                enemy.x = bestX;
                enemy.y = bestY;
            }
        }

        // ============ PREDICTION OVERLAY ============
        let predictionCache = null;

        function predictMapState(turnsAhead) {
            // Clone current state and simulate N turns of decay (no player movement)
            const state = cloneStateForSimulation();
            const predictedVoid = new Set(); // tiles that will collapse

            for (let t = 0; t < turnsAhead; t++) {
                simProcessDecay(state);
                processEnemyMoves(state);
            }

            // Find which tiles collapsed
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    if (gameState.map[y][x] !== TILE.VOID && state.map[y][x] === TILE.VOID) {
                        predictedVoid.add(coordIdx(x, y));
                    }
                }
            }

            // Find tiles in danger (decay will reach 0 within horizon)
            const dangerTiles = new Set();
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    if (state.map[y][x] !== TILE.VOID && state.decay[y][x] <= 2 && state.awakened[y][x]) {
                        dangerTiles.add(coordIdx(x, y));
                    }
                }
            }

            return { predictedVoid, dangerTiles, enemyPositions: state.enemies.map(e => ({ x: e.x, y: e.y, type: e.type })) };
        }

        function invalidatePrediction() {
            predictionCache = null;
        }

        function getPrediction() {
            // Always recompute (only called during render when prediction is active)
            return predictMapState(gameState.predictionHorizon);
        }

        // ============ VISUAL EFFECTS ============
        const particles = [];
        let screenShake = { x: 0, y: 0, intensity: 0, duration: 0 };
        const floatingTexts = []; // {x, y, text, color, life}

        // C2: Smooth player movement interpolation
        let playerVisualX = 0, playerVisualY = 0;
        let playerMoveStart = 0;
        const PLAYER_MOVE_DURATION = 80; // ms

        function triggerPlayerMove(newX, newY) {
            if (!effectsEnabled) {
                playerVisualX = newX;
                playerVisualY = newY;
                return;
            }
            playerMoveStart = performance.now();
            // playerVisualX/Y still holds old position ‚Äî lerp will handle transition
        }

        function spawnFloatingText(tileX, tileY, text, color = '#ffffff') {
            if (!effectsEnabled) return;
            floatingTexts.push({
                x: tileX * CONFIG.tileSize + CONFIG.tileSize / 2,
                y: tileY * CONFIG.tileSize,
                text, color, life: 30
            });
            startEffectsLoop();
        }

        let effectsEnabled = true; // Disabled during bot runs for performance

        // Ring effect for stabilizer activation
        const ringEffects = []; // {cx, cy, radius, maxRadius, color, life, maxLife}

        function spawnRingEffect(tileX, tileY, maxRadius, color, duration) {
            if (!effectsEnabled) return;
            ringEffects.push({
                cx: tileX * CONFIG.tileSize + CONFIG.tileSize / 2,
                cy: tileY * CONFIG.tileSize + CONFIG.tileSize / 2,
                radius: 0,
                maxRadius: maxRadius * CONFIG.tileSize,
                color,
                life: duration,
                maxLife: duration
            });
            startEffectsLoop();
        }

        // Grapple arc effect
        const grappleArcs = []; // {fromX, fromY, toX, toY, life, maxLife}

        function spawnGrappleArc(fromTX, fromTY, toTX, toTY) {
            if (!effectsEnabled) return;
            grappleArcs.push({
                fromX: fromTX * CONFIG.tileSize + CONFIG.tileSize / 2,
                fromY: fromTY * CONFIG.tileSize + CONFIG.tileSize / 2,
                toX: toTX * CONFIG.tileSize + CONFIG.tileSize / 2,
                toY: toTY * CONFIG.tileSize + CONFIG.tileSize / 2,
                life: 15,
                maxLife: 15
            });
            // Impact particles at landing
            const cx = toTX * CONFIG.tileSize + CONFIG.tileSize / 2;
            const cy = toTY * CONFIG.tileSize + CONFIG.tileSize / 2;
            for (let i = 0; i < 4; i++) {
                const angle = Math.random() * Math.PI * 2;
                particles.push({
                    x: cx, y: cy,
                    dx: Math.cos(angle) * 1.5,
                    dy: Math.sin(angle) * 1.5,
                    life: 12 + Math.random() * 6,
                    size: 1.5 + Math.random() * 1.5,
                    color: '#ff8844'
                });
            }
            startEffectsLoop();
        }

        // Level transition overlay
        let levelTransition = null; // {level, startTime, duration, skipped}
        const TRANSITION_DURATION = 1100; // total ms: 300 fade-out, 500 hold, 300 fade-in

        function startLevelTransition(level, snapshot) {
            if (!effectsEnabled) return;
            levelTransition = {
                level,
                startTime: performance.now(),
                duration: TRANSITION_DURATION,
                skipped: false,
                snapshot: snapshot || null
            };
        }

        // Game over / victory overlay
        let gameOverlay = null; // {type: 'victory'|'death'|'concede', startTime, stats}

        function startVictoryOverlay(stats) {
            if (!effectsEnabled) return;
            gameOverlay = { type: 'victory', startTime: performance.now(), stats };
            // Gold particle burst
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;
            for (let i = 0; i < 20; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = 2 + Math.random() * 3;
                particles.push({
                    x: cx, y: cy,
                    dx: Math.cos(angle) * speed,
                    dy: Math.sin(angle) * speed - 1,
                    life: 30 + Math.random() * 20,
                    size: 2 + Math.random() * 2,
                    color: ['#ffd700', '#ffaa00', '#ffcc44', '#ffffff'][Math.floor(Math.random() * 4)]
                });
            }
            startEffectsLoop();
        }

        function startDeathOverlay() {
            if (!effectsEnabled) return;
            gameOverlay = { type: 'death', startTime: performance.now() };
        }

        function spawnCollapseParticles(x, y) {
            if (!effectsEnabled) return;
            const cx = x * CONFIG.tileSize + CONFIG.tileSize / 2;
            const cy = y * CONFIG.tileSize + CONFIG.tileSize / 2;
            const colors = ['#7a3a3a', '#6a5a3a', '#5a4a3a', '#4a3a2a'];
            for (let i = 0; i < 6; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = 1 + Math.random() * 2;
                particles.push({
                    x: cx, y: cy,
                    dx: Math.cos(angle) * speed,
                    dy: Math.sin(angle) * speed,
                    life: 15 + Math.random() * 10,
                    size: 2 + Math.random() * 2,
                    color: colors[Math.floor(Math.random() * colors.length)]
                });
            }
        }

        function triggerScreenShake(collapseCount) {
            if (!effectsEnabled) return;
            const intensity = Math.min(collapseCount * 1.5, 6);
            if (intensity > screenShake.intensity) {
                screenShake.intensity = intensity;
                screenShake.duration = 12;
            }
        }

        function updateParticles() {
            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i];
                p.x += p.dx;
                p.y += p.dy;
                p.dy += 0.1; // gravity
                p.life--;
                if (p.life <= 0) particles.splice(i, 1);
            }
            // Update floating texts
            for (let i = floatingTexts.length - 1; i >= 0; i--) {
                floatingTexts[i].y -= 0.5;
                floatingTexts[i].life--;
                if (floatingTexts[i].life <= 0) floatingTexts.splice(i, 1);
            }
            // Update ring effects
            for (let i = ringEffects.length - 1; i >= 0; i--) {
                const r = ringEffects[i];
                r.life--;
                const progress = 1 - r.life / r.maxLife;
                r.radius = r.maxRadius * progress;
                if (r.life <= 0) ringEffects.splice(i, 1);
            }
            // Update grapple arcs
            for (let i = grappleArcs.length - 1; i >= 0; i--) {
                grappleArcs[i].life--;
                if (grappleArcs[i].life <= 0) grappleArcs.splice(i, 1);
            }
            // Update screen shake
            if (screenShake.duration > 0) {
                screenShake.x = (Math.random() - 0.5) * screenShake.intensity;
                screenShake.y = (Math.random() - 0.5) * screenShake.intensity;
                screenShake.duration--;
                screenShake.intensity *= 0.9;
            } else {
                screenShake.x = 0;
                screenShake.y = 0;
            }
        }

        function drawParticles() {
            for (const p of particles) {
                ctx.globalAlpha = Math.min(p.life / 10, 1);
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x - p.size / 2, p.y - p.size / 2, p.size, p.size);
            }
            // Ring effects (stabilizer activation)
            for (const r of ringEffects) {
                const alpha = (r.life / r.maxLife) * 0.6;
                ctx.strokeStyle = r.color.replace('1)', `${alpha})`);
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(r.cx, r.cy, r.radius, 0, Math.PI * 2);
                ctx.stroke();
            }
            // Grapple arcs
            for (const g of grappleArcs) {
                const alpha = g.life / g.maxLife;
                ctx.strokeStyle = `rgba(255, 136, 68, ${alpha})`;
                ctx.lineWidth = 2;
                ctx.setLineDash([4, 4]);
                ctx.beginPath();
                ctx.moveTo(g.fromX, g.fromY);
                ctx.lineTo(g.toX, g.toY);
                ctx.stroke();
                ctx.setLineDash([]);
            }
            // Floating texts
            for (const ft of floatingTexts) {
                ctx.globalAlpha = Math.min(ft.life / 15, 1);
                ctx.fillStyle = ft.color;
                ctx.font = 'bold 10px Courier New';
                ctx.fillText(ft.text, ft.x - 10, ft.y);
            }
            ctx.globalAlpha = 1;
        }

        // Continuous render loop state
        let continuousLoopRunning = false;

        // Continuous animation loop ‚Äî always running when not in bot mode
        function startContinuousLoop() {
            if (continuousLoopRunning) return;
            continuousLoopRunning = true;
            function loop(now) {
                if (!continuousLoopRunning) return;
                const hasEffects = particles.length > 0 || floatingTexts.length > 0 ||
                    screenShake.duration > 0 || ringEffects.length > 0 || grappleArcs.length > 0;
                if (hasEffects) updateParticles();
                render(now);
                requestAnimationFrame(loop);
            }
            requestAnimationFrame(loop);
        }

        function stopContinuousLoop() {
            continuousLoopRunning = false;
        }

        // Legacy compatibility: startEffectsLoop still works but now just ensures continuous loop is on
        let animationRunning = false;
        function startEffectsLoop() {
            if (!effectsEnabled) return;
            startContinuousLoop();
        }

        // ============ RENDERING ============
        function render(now) {
            if (!now) now = performance.now();

            // Main menu screen
            if (gameState.mainMenuActive) {
                ctx.setTransform(1, 0, 0, 1, 0, 0);
                ctx.fillStyle = '#0a0a14';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const cx = canvas.width / 2;
                let y = canvas.height / 2 - 120;

                // Title
                ctx.font = 'bold 40px Courier New';
                ctx.fillStyle = '#88aaff';
                const title = 'DECAY';
                const tw = ctx.measureText(title).width;
                ctx.fillText(title, cx - tw / 2, y);
                y += 30;
                ctx.font = '16px Courier New';
                ctx.fillStyle = '#556688';
                const sub = 'A Roguelike of Crumbling Ground';
                const sw = ctx.measureText(sub).width;
                ctx.fillText(sub, cx - sw / 2, y);
                y += 50;

                // Animated decay particles in background
                const pulse = 0.5 + 0.5 * Math.sin(now / 1000);
                ctx.globalAlpha = 0.15 + pulse * 0.1;
                for (let i = 0; i < 30; i++) {
                    const px = ((i * 137 + Math.floor(now / 50)) % canvas.width);
                    const py = ((i * 97 + Math.floor(now / 70)) % canvas.height);
                    ctx.fillStyle = DECAY_COLOR_LUT ? DECAY_COLOR_LUT[i % 20] : '#555';
                    ctx.fillRect(px, py, 4, 4);
                }
                ctx.globalAlpha = 1;

                // Menu options
                ctx.font = '18px Courier New';
                const menuItems = [
                    { key: '[N]', text: 'New Game', color: '#44ff88' },
                ];
                if (hasSavedGame()) {
                    menuItems.push({ key: '[Shift+Q]', text: 'Continue Saved Game', color: '#88aaff' });
                }
                menuItems.push(
                    { key: '[Shift+L]', text: 'Replay Library', color: '#aaaacc' },
                    { key: '[Shift+B]', text: 'Leaderboard', color: '#aaaacc' }
                );

                for (const item of menuItems) {
                    ctx.fillStyle = item.color;
                    const line = `${item.key} ${item.text}`;
                    const lw = ctx.measureText(line).width;
                    ctx.fillText(line, cx - lw / 2, y);
                    y += 32;
                }

                // Footer
                y = canvas.height - 30;
                ctx.font = '12px Courier New';
                ctx.fillStyle = '#334455';
                const footer = '? for help during game';
                const fw = ctx.measureText(footer).width;
                ctx.fillText(footer, cx - fw / 2, y);

                return;
            }

            // Apply screen shake
            ctx.setTransform(1, 0, 0, 1, screenShake.x, screenShake.y);

            // Level transition: early return during fade-out and hold phases
            if (levelTransition && !levelTransition.skipped) {
                const elapsed = now - levelTransition.startTime;
                const total = levelTransition.duration;
                if (elapsed < 300) {
                    // Fade-out: draw old floor snapshot with increasing black overlay
                    if (levelTransition.snapshot) {
                        ctx.putImageData(levelTransition.snapshot, 0, 0);
                        ctx.setTransform(1, 0, 0, 1, screenShake.x, screenShake.y);
                    }
                    const overlayAlpha = elapsed / 300;
                    ctx.fillStyle = `rgba(0, 0, 0, ${overlayAlpha})`;
                    ctx.fillRect(-10, -10, canvas.width + 20, canvas.height + 20);
                    drawParticles();
                    ctx.setTransform(1, 0, 0, 1, 0, 0);
                    updateUI();
                    return;
                } else if (elapsed < 800) {
                    // Hold: black screen with level text
                    ctx.fillStyle = '#000000';
                    ctx.fillRect(-10, -10, canvas.width + 20, canvas.height + 20);
                    const textAlpha = Math.min((elapsed - 200) / 100, 1);
                    ctx.globalAlpha = textAlpha;
                    ctx.fillStyle = '#88aaff';
                    ctx.font = 'bold 32px Courier New';
                    const levelText = `LEVEL ${levelTransition.level}`;
                    const tw = ctx.measureText(levelText).width;
                    ctx.fillText(levelText, (canvas.width - tw) / 2, canvas.height / 2);
                    ctx.globalAlpha = 1;
                    drawParticles();
                    ctx.setTransform(1, 0, 0, 1, 0, 0);
                    updateUI();
                    return;
                } else if (elapsed >= total) {
                    levelTransition = null;
                }
                // Fade-in (800-1100ms): falls through to normal rendering, overlay applied later
            }

            // Clear canvas
            ctx.fillStyle = COLORS.background;
            ctx.fillRect(-10, -10, canvas.width + 20, canvas.height + 20);

            // C3: Rebuild static layer if map changed
            if (staticMapVersion !== gameState.mapVersion) {
                rebuildStaticLayer();
            }

            // Draw tiles
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    const tile = gameState.map[y][x];
                    const px = x * CONFIG.tileSize;
                    const py = y * CONFIG.tileSize;
                    const isVisible = gameState.visible[y] && gameState.visible[y][x];
                    const isExplored = gameState.explored[y] && gameState.explored[y][x];
                    const decay = gameState.decay[y]?.[x] ?? 0;

                    if (!isExplored) {
                        continue;
                    }

                    if (isVisible) {
                        const tv = tileVariant(x, y);
                        // Void/wall tiles: blit from static layer
                        if (tile === TILE.VOID) {
                            ctx.drawImage(staticCanvas, px, py, CONFIG.tileSize, CONFIG.tileSize, px, py, CONFIG.tileSize, CONFIG.tileSize);
                            continue;
                        }

                        // Floor tiles with decay coloring
                        if (tile === TILE.FLOOR || tile === TILE.STAIRS_DOWN) {
                            const isAwakened = gameState.awakened[y]?.[x];
                            const ts = CONFIG.tileSize;
                            const ts1 = ts - 1;

                            // C7: Wobble/crumble effect for tiles about to collapse
                            let wobbleX = 0, wobbleY = 0;
                            if (gameState.decayEnabled && isAwakened && decay > 0 && decay <= 2) {
                                const wobblePhase = now * 0.01 + x * 7 + y * 13;
                                wobbleX = Math.sin(wobblePhase) * 0.5;
                                wobbleY = Math.cos(wobblePhase * 1.3) * 0.5;
                            }

                            // 1C: Alpha fade ‚Äî low decay tiles show void beneath
                            if (gameState.decayEnabled && isAwakened && decay > 0 && decay <= 6) {
                                ctx.drawImage(tileSprites.void[tv], px, py);
                                ctx.globalAlpha = 0.5 + (decay / 6) * 0.5;
                            }

                            // Draw floor sprite as base (with wobble offset)
                            ctx.drawImage(tileSprites.floor[tv], px + wobbleX, py + wobbleY);

                            // Overlay decay color tint
                            if (gameState.decayEnabled && decay > 0) {
                                if (isAwakened) {
                                    ctx.fillStyle = getDecayColor(decay);
                                } else {
                                    ctx.fillStyle = '#252535';
                                }
                            } else {
                                ctx.fillStyle = COLORS.floor;
                            }
                            ctx.globalAlpha = 0.6;
                            ctx.fillRect(px, py, ts1, ts1);
                            ctx.globalAlpha = 1;

                            // 1B: Void darkness bleed ‚Äî dark edge on sides adjacent to void
                            if (isAwakened || !gameState.decayEnabled) {
                                const bw = 3; // bleed width
                                if (inBounds(x, y-1) && gameState.map[y-1][x] === TILE.VOID) {
                                    ctx.fillStyle = 'rgba(0, 0, 20, 0.4)';
                                    ctx.fillRect(px, py, ts1, bw);
                                }
                                if (inBounds(x, y+1) && gameState.map[y+1][x] === TILE.VOID) {
                                    ctx.fillStyle = 'rgba(0, 0, 20, 0.4)';
                                    ctx.fillRect(px, py + ts1 - bw, ts1, bw);
                                }
                                if (inBounds(x-1, y) && gameState.map[y][x-1] === TILE.VOID) {
                                    ctx.fillStyle = 'rgba(0, 0, 20, 0.4)';
                                    ctx.fillRect(px, py, bw, ts1);
                                }
                                if (inBounds(x+1, y) && gameState.map[y][x+1] === TILE.VOID) {
                                    ctx.fillStyle = 'rgba(0, 0, 20, 0.4)';
                                    ctx.fillRect(px + ts1 - bw, py, bw, ts1);
                                }
                            }

                            // Room danger tint overlay
                            const dangerLevel = getDangerLevelAt(x, y);
                            if (dangerLevel === ROOM_DANGER.SAFE) {
                                ctx.fillStyle = 'rgba(80, 200, 80, 0.15)';
                                ctx.fillRect(px, py, ts1, ts1);
                            } else if (dangerLevel === ROOM_DANGER.BRITTLE) {
                                ctx.fillStyle = 'rgba(255, 150, 50, 0.15)';
                                ctx.fillRect(px, py, ts1, ts1);
                            } else if (dangerLevel === ROOM_DANGER.CRITICAL) {
                                ctx.fillStyle = 'rgba(255, 60, 60, 0.20)';
                                ctx.fillRect(px, py, ts1, ts1);
                            }

                            // Draw decay number if toggled
                            if (gameState.showDecayNumbers && decay > 0) {
                                if (isAwakened) {
                                    ctx.fillStyle = decay <= 3 ? '#ff6666' : '#aaaaaa';
                                    ctx.font = '10px Courier New';
                                    ctx.fillText(decay.toString(), px + 2, py + 11);
                                } else {
                                    ctx.fillStyle = '#555566';
                                    ctx.font = '8px Courier New';
                                    ctx.fillText('z', px + 5, py + 10);
                                }
                            }

                            // Decay forecast: pulsing border for tiles about to collapse
                            if (isAwakened && decay > 0 && decay <= 3 && gameState.decayEnabled) {
                                const pulse = Math.sin(Date.now() / 200) * 0.3 + 0.7;
                                ctx.strokeStyle = `rgba(255, 80, 80, ${pulse})`;
                                ctx.lineWidth = 2;
                                ctx.strokeRect(px + 1, py + 1, ts - 3, ts - 3);
                            }

                            // Pillar aura
                            if (isAdjacentToPillar(x, y) && !isPillarAt(x, y)) {
                                const auraAlpha = gameState.level >= 3 ? 0.22 : 0.15;
                                ctx.fillStyle = `rgba(100, 200, 120, ${auraAlpha})`;
                                ctx.fillRect(px, py, ts1, ts1);
                            }

                            // Frozen tiles: blue tint with ice crystal overlay
                            const isFrozen = gameState.frozenTiles.some(f => f.x === x && f.y === y);
                            if (isFrozen) {
                                ctx.fillStyle = 'rgba(100, 200, 255, 0.25)';
                                ctx.fillRect(px, py, ts1, ts1);
                            }

                            // Draw stairs sprite with glow
                            if (tile === TILE.STAIRS_DOWN) {
                                const stairsGlow = 0.12 + Math.sin(now * 0.002) * 0.06;
                                ctx.fillStyle = `rgba(68, 255, 136, ${stairsGlow})`;
                                ctx.beginPath();
                                ctx.arc(px + ts / 2, py + ts / 2, 8, 0, Math.PI * 2);
                                ctx.fill();
                                const stairsPulse = 1 + Math.sin(now * 0.003) * 0.03;
                                ctx.save();
                                ctx.translate(px + ts / 2, py + ts / 2);
                                ctx.scale(stairsPulse, stairsPulse);
                                ctx.drawImage(tileSprites.stairs, -ts / 2, -ts / 2);
                                ctx.restore();
                            }
                        } else if (tile === TILE.WALL) {
                            ctx.drawImage(staticCanvas, px, py, CONFIG.tileSize, CONFIG.tileSize, px, py, CONFIG.tileSize, CONFIG.tileSize);
                        }
                    } else {
                        // Explored but not visible - dimmed
                        const tv = tileVariant(x, y);
                        if (tile === TILE.VOID) {
                            ctx.globalAlpha = 0.5;
                            ctx.drawImage(staticCanvas, px, py, CONFIG.tileSize, CONFIG.tileSize, px, py, CONFIG.tileSize, CONFIG.tileSize);
                            ctx.globalAlpha = 1;
                        } else if (tile === TILE.WALL) {
                            ctx.globalAlpha = 0.5;
                            ctx.drawImage(staticCanvas, px, py, CONFIG.tileSize, CONFIG.tileSize, px, py, CONFIG.tileSize, CONFIG.tileSize);
                            ctx.globalAlpha = 1;
                        } else {
                            ctx.globalAlpha = 0.4;
                            ctx.drawImage(tileSprites.floor[tv], px, py);
                            ctx.globalAlpha = 1;
                            if (tile === TILE.STAIRS_DOWN) {
                                ctx.globalAlpha = 0.5;
                                ctx.drawImage(tileSprites.stairs, px, py);
                                ctx.globalAlpha = 1;
                            }
                        }
                    }
                }
            }

            // C1: FOV edge softening ‚Äî darken edges of visible tiles adjacent to non-visible
            {
                const ts = CONFIG.tileSize, ts1 = ts - 1;
                const fogW = 4; // fog strip width
                for (let y = 0; y < CONFIG.mapHeight; y++) {
                    for (let x = 0; x < CONFIG.mapWidth; x++) {
                        if (!gameState.visible[y]?.[x]) continue;
                        if (!gameState.explored[y]?.[x]) continue;
                        const tile = gameState.map[y][x];
                        if (tile === TILE.VOID) continue;
                        const px = x * ts, py = y * ts;
                        // Check each cardinal neighbor
                        if (!gameState.visible[y - 1]?.[x]) {
                            ctx.fillStyle = 'rgba(0, 0, 10, 0.25)';
                            ctx.fillRect(px, py, ts1, fogW);
                        }
                        if (!gameState.visible[y + 1]?.[x]) {
                            ctx.fillStyle = 'rgba(0, 0, 10, 0.25)';
                            ctx.fillRect(px, py + ts1 - fogW, ts1, fogW);
                        }
                        if (!gameState.visible[y]?.[x - 1]) {
                            ctx.fillStyle = 'rgba(0, 0, 10, 0.25)';
                            ctx.fillRect(px, py, fogW, ts1);
                        }
                        if (!gameState.visible[y]?.[x + 1]) {
                            ctx.fillStyle = 'rgba(0, 0, 10, 0.25)';
                            ctx.fillRect(px + ts1 - fogW, py, fogW, ts1);
                        }
                    }
                }
            }

            // Danger indicators: pulsing red border on tiles at decay=1
            const pulsePhase = (Date.now() % 1000) / 1000; // 0-1 pulse
            const pulseAlpha = 0.3 + 0.3 * Math.sin(pulsePhase * Math.PI * 2);
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    if (!gameState.visible[y]?.[x]) continue;
                    if (gameState.map[y][x] === TILE.VOID || gameState.map[y][x] === TILE.WALL) continue;
                    if (!gameState.awakened[y]?.[x]) continue;
                    const decay = gameState.decay[y][x];
                    if (decay === 1) {
                        ctx.strokeStyle = `rgba(255, 50, 50, ${pulseAlpha})`;
                        ctx.lineWidth = 1;
                        ctx.strokeRect(x * CONFIG.tileSize + 0.5, y * CONFIG.tileSize + 0.5,
                            CONFIG.tileSize - 1, CONFIG.tileSize - 1);
                    }
                }
            }

            // Draw pillars (on top of floor) with pixel art sprites
            for (const pillar of gameState.pillars) {
                const isVisible = gameState.visible[pillar.y]?.[pillar.x];
                if (!isVisible) continue;

                const px = pillar.x * CONFIG.tileSize;
                const py = pillar.y * CONFIG.tileSize;
                const pv = tileVariant(pillar.x, pillar.y);
                ctx.drawImage(tileSprites.pillar[pv], px, py);
            }

            // Draw enemies with enhanced visuals
            for (const enemy of gameState.enemies) {
                const isVisible = gameState.visible[enemy.y]?.[enemy.x];
                if (!isVisible) continue;
                const ecx = enemy.x * CONFIG.tileSize + CONFIG.tileSize / 2;
                const ecy = enemy.y * CONFIG.tileSize + CONFIG.tileSize / 2;
                if (enemy.type === 'crawler') {
                    // Orange glow aura
                    ctx.fillStyle = 'rgba(255, 136, 0, 0.15)';
                    ctx.beginPath();
                    ctx.arc(ecx, ecy, 7, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#ff8800';
                    ctx.font = 'bold 14px Courier New';
                    ctx.fillText('c', ecx - 5, ecy + 5);
                } else if (enemy.type === 'mender') {
                    // Green heal aura
                    ctx.fillStyle = 'rgba(68, 255, 68, 0.12)';
                    ctx.beginPath();
                    ctx.arc(ecx, ecy, 7, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#44ff44';
                    ctx.font = 'bold 14px Courier New';
                    ctx.fillText('+', ecx - 5, ecy + 5);
                } else if (enemy.type === 'seeker') {
                    // Pulsing magenta glow when near player
                    const distToPlayer = Math.max(
                        Math.abs(enemy.x - gameState.player.x),
                        Math.abs(enemy.y - gameState.player.y)
                    );
                    const seekerPulse = distToPlayer <= 8 ?
                        0.15 + Math.sin(now * 0.005) * 0.08 : 0.08;
                    ctx.fillStyle = `rgba(255, 68, 255, ${seekerPulse})`;
                    ctx.beginPath();
                    ctx.arc(ecx, ecy, 8, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.fillStyle = '#ff44ff';
                    ctx.font = 'bold 14px Courier New';
                    ctx.fillText('S', ecx - 5, ecy + 5);
                }
            }

            // Draw seeker trail tiles with pulsing energy dots
            for (const idx of gameState.seekerTrail) {
                const tx = idx % CONFIG.mapWidth;
                const ty = (idx - tx) / CONFIG.mapWidth;
                if (!gameState.visible[ty]?.[tx]) continue;
                if (gameState.map[ty][tx] === TILE.VOID || gameState.map[ty][tx] === TILE.WALL) continue;
                ctx.fillStyle = 'rgba(180, 100, 255, 0.18)';
                ctx.fillRect(tx * CONFIG.tileSize, ty * CONFIG.tileSize, CONFIG.tileSize, CONFIG.tileSize);
                // Pulsing energy dot at center
                const dotAlpha = 0.3 + Math.sin(now * 0.004 + idx * 0.5) * 0.15;
                ctx.fillStyle = `rgba(200, 120, 255, ${dotAlpha})`;
                ctx.beginPath();
                ctx.arc(tx * CONFIG.tileSize + CONFIG.tileSize / 2, ty * CONFIG.tileSize + CONFIG.tileSize / 2, 2, 0, Math.PI * 2);
                ctx.fill();
            }

            // Draw crystals with glow pulse
            for (const crystal of gameState.crystals) {
                if (crystal.collected || crystal.destroyed) continue;
                const isVisible = gameState.visible[crystal.y]?.[crystal.x];
                if (!isVisible) continue;

                const cpx = crystal.x * CONFIG.tileSize + CONFIG.tileSize / 2;
                const cpy = crystal.y * CONFIG.tileSize + CONFIG.tileSize / 2;
                // Glow aura
                const glowAlpha = 0.15 + Math.sin(now * 0.003 + crystal.x * 2) * 0.08;
                ctx.fillStyle = `rgba(136, 255, 255, ${glowAlpha})`;
                ctx.beginPath();
                ctx.arc(cpx, cpy, 8, 0, Math.PI * 2);
                ctx.fill();
                // Diamond shape
                ctx.fillStyle = COLORS.crystal;
                ctx.beginPath();
                ctx.moveTo(cpx, cpy - 5);
                ctx.lineTo(cpx + 4, cpy);
                ctx.lineTo(cpx, cpy + 5);
                ctx.lineTo(cpx - 4, cpy);
                ctx.closePath();
                ctx.fill();
            }

            // Draw grapple items with orange glow pulse
            for (const g of gameState.grappleItems) {
                if (g.collected) continue;
                const isVisible = gameState.visible[g.y]?.[g.x];
                if (!isVisible) continue;
                const gx = g.x * CONFIG.tileSize + CONFIG.tileSize / 2;
                const gy = g.y * CONFIG.tileSize + CONFIG.tileSize / 2;
                // Glow aura
                const gGlowAlpha = 0.12 + Math.sin(now * 0.004 + g.x * 3) * 0.06;
                ctx.fillStyle = `rgba(255, 136, 68, ${gGlowAlpha})`;
                ctx.beginPath();
                ctx.arc(gx, gy, 7, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#ff8844';
                ctx.font = 'bold 12px Courier New';
                ctx.fillText('\u2693', gx - 5, gy + 4);
            }

            // Draw grapple range indicator when in grapple mode
            if (gameState.grappleMode && gameState.grappleCharges > 0) {
                const px = gameState.player.x;
                const py = gameState.player.y;
                for (let dy = -GRAPPLE_RANGE; dy <= GRAPPLE_RANGE; dy++) {
                    for (let dx = -GRAPPLE_RANGE; dx <= GRAPPLE_RANGE; dx++) {
                        const tx = px + dx, ty = py + dy;
                        if (!inBounds(tx, ty)) continue;
                        if (canGrappleTo(tx, ty)) {
                            ctx.fillStyle = 'rgba(255, 136, 68, 0.2)';
                            ctx.fillRect(tx * CONFIG.tileSize, ty * CONFIG.tileSize, CONFIG.tileSize, CONFIG.tileSize);
                        }
                    }
                }
            }

            // Draw pending path preview
            if (gameState.pendingPath) {
                for (let i = 0; i < gameState.pendingPath.length; i++) {
                    const { x, y } = gameState.pendingPath[i];
                    const px = x * CONFIG.tileSize + CONFIG.tileSize / 2;
                    const py = y * CONFIG.tileSize + CONFIG.tileSize / 2;

                    ctx.fillStyle = (i === gameState.pendingPath.length - 1)
                        ? COLORS.pathTarget
                        : COLORS.pathPreview;
                    ctx.beginPath();
                    ctx.arc(px, py, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            // Draw auto path (remaining steps)
            if (gameState.autoPath) {
                for (let i = gameState.pathIndex; i < gameState.autoPath.length; i++) {
                    const { x, y } = gameState.autoPath[i];
                    const px = x * CONFIG.tileSize + CONFIG.tileSize / 2;
                    const py = y * CONFIG.tileSize + CONFIG.tileSize / 2;

                    ctx.fillStyle = COLORS.pathPreview;
                    ctx.globalAlpha = 0.5;
                    ctx.beginPath();
                    ctx.arc(px, py, 2, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.globalAlpha = 1;
                }
            }

            // Draw player with idle breathing + smooth movement interpolation
            {
            const targetPx = gameState.player.x;
            const targetPy = gameState.player.y;
            // C2: Lerp visual position toward actual position
            if (effectsEnabled && playerMoveStart > 0) {
                const elapsed = now - playerMoveStart;
                const t = Math.min(elapsed / PLAYER_MOVE_DURATION, 1);
                // Ease-out cubic
                const ease = 1 - Math.pow(1 - t, 3);
                playerVisualX = playerVisualX + (targetPx - playerVisualX) * ease;
                playerVisualY = playerVisualY + (targetPy - playerVisualY) * ease;
                if (t >= 1) {
                    playerVisualX = targetPx;
                    playerVisualY = targetPy;
                    playerMoveStart = 0;
                }
            } else {
                playerVisualX = targetPx;
                playerVisualY = targetPy;
            }
            const playerPx = playerVisualX * CONFIG.tileSize;
            const playerPy = playerVisualY * CONFIG.tileSize;
            const breathScale = 1 + Math.sin(now * 0.003) * 0.02;
            const pcx = playerPx + CONFIG.tileSize / 2;
            const pcy = playerPy + CONFIG.tileSize / 2;
            ctx.save();
            ctx.translate(pcx, pcy);
            ctx.scale(breathScale, breathScale);
            ctx.fillStyle = COLORS.player;
            ctx.font = 'bold 14px Courier New';
            ctx.fillText('@', -5, 4);
            ctx.restore();
            }

            // Draw prediction overlay
            if (gameState.predictionMode) {
                const pred = getPrediction();
                for (let y = 0; y < CONFIG.mapHeight; y++) {
                    for (let x = 0; x < CONFIG.mapWidth; x++) {
                        if (!gameState.visible[y]?.[x]) continue;
                        const idx = coordIdx(x, y);
                        if (pred.predictedVoid.has(idx)) {
                            ctx.fillStyle = 'rgba(255, 0, 0, 0.35)';
                            ctx.fillRect(x * CONFIG.tileSize, y * CONFIG.tileSize, CONFIG.tileSize, CONFIG.tileSize);
                        } else if (pred.dangerTiles.has(idx)) {
                            ctx.fillStyle = 'rgba(255, 100, 0, 0.2)';
                            ctx.fillRect(x * CONFIG.tileSize, y * CONFIG.tileSize, CONFIG.tileSize, CONFIG.tileSize);
                        }
                    }
                }
                // Ghost enemy positions
                for (const e of pred.enemyPositions) {
                    if (!gameState.visible[e.y]?.[e.x]) continue;
                    ctx.globalAlpha = 0.3;
                    ctx.fillStyle = e.type === 'crawler' ? '#ff8800' : e.type === 'seeker' ? '#ff44ff' : '#44ff44';
                    ctx.font = '12px Courier New';
                    ctx.fillText(e.type === 'crawler' ? 'c' : e.type === 'seeker' ? 'S' : '+',
                        e.x * CONFIG.tileSize + 4, e.y * CONFIG.tileSize + 12);
                    ctx.globalAlpha = 1;
                }
                // Horizon indicator
                ctx.fillStyle = '#ffaa44';
                ctx.font = '10px Courier New';
                ctx.fillText(`Prediction: ${gameState.predictionHorizon} turns`, 5, canvas.height - 5);
            }

            // Draw route planning overlay
            if (gameState.routeOverlayMode >= 1 && gameState.decayEnabled && gameState.level >= 2) {
                // Mode 1+: Safety heatmap
                for (let y = 0; y < CONFIG.mapHeight; y++) {
                    for (let x = 0; x < CONFIG.mapWidth; x++) {
                        if (!gameState.visible[y]?.[x]) continue;
                        if (!gameState.awakened[y]?.[x]) continue;
                        const tile = gameState.map[y][x];
                        if (tile === TILE.WALL || tile === TILE.VOID) continue;
                        if (isPillarAt(x, y)) continue;
                        const d = gameState.decay[y][x];
                        if (d <= 0) continue;
                        let color;
                        if (d <= 3) {
                            color = 'rgba(255, 60, 60, 0.15)';  // Red: danger
                        } else if (d <= 6) {
                            color = 'rgba(255, 200, 60, 0.12)'; // Yellow: caution
                        } else {
                            color = 'rgba(60, 255, 60, 0.08)';  // Green: safe
                        }
                        ctx.fillStyle = color;
                        ctx.fillRect(x * CONFIG.tileSize, y * CONFIG.tileSize, CONFIG.tileSize, CONFIG.tileSize);
                    }
                }

                // Mode 2: Decay-weighted path to stairs
                if (gameState.routeOverlayMode >= 2) {
                    const px = gameState.player.x, py = gameState.player.y;
                    const sx = gameState.stairsX, sy = gameState.stairsY;
                    const dwPath = findPathDecayWeighted(px, py, sx, sy);
                    if (dwPath && dwPath.length > 0) {
                        for (let i = 0; i < dwPath.length; i++) {
                            const step = dwPath[i];
                            const d = gameState.decay[step.y]?.[step.x] ?? 10;
                            let pathColor;
                            if (d <= 3) {
                                pathColor = 'rgba(255, 80, 80, 0.4)';
                            } else if (d <= 6) {
                                pathColor = 'rgba(255, 200, 80, 0.35)';
                            } else {
                                pathColor = 'rgba(80, 200, 255, 0.3)';
                            }
                            ctx.fillStyle = pathColor;
                            ctx.fillRect(
                                step.x * CONFIG.tileSize + 3, step.y * CONFIG.tileSize + 3,
                                CONFIG.tileSize - 6, CONFIG.tileSize - 6
                            );
                        }
                    }
                }

                // Route overlay indicator
                const modeNames = ['', 'Heatmap', 'Heatmap+Path'];
                ctx.fillStyle = '#88aaff';
                ctx.font = '10px Courier New';
                ctx.fillText(`Route: ${modeNames[gameState.routeOverlayMode]}`, 5, canvas.height - 18);
            }

            // Draw replay banner when replay is active
            if (replayState.active) {
                const barH = 28;
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(0, 0, canvas.width, barH);

                const rd = replayState.data;
                const step = replayState.stepIndex;
                const total = rd.moves.length;
                const curLevel = step > 0 && rd.moves[step - 1] ? rd.moves[step - 1].level : 1;
                const won = rd.result && rd.result.won;

                ctx.font = '12px Courier New';
                if (replayState.paused) {
                    ctx.fillStyle = '#ffcc44';
                    ctx.fillText(`\u23f8 REPLAY PAUSED: ${rd.botType || 'human'} | Seed ${rd.seed} | Move ${step}/${total} | Level ${curLevel}`, 8, 16);
                } else {
                    ctx.fillStyle = '#ccccee';
                    ctx.fillText(`\u25b6 REPLAY: ${rd.botType || 'human'} | Seed ${rd.seed} | Move ${step}/${total} | Level ${curLevel}`, 8, 16);
                }

                // Progress bar
                const barY = barH - 3;
                const progress = total > 0 ? step / total : 0;
                ctx.fillStyle = '#2a2a3e';
                ctx.fillRect(0, barY, canvas.width, 3);
                const barColor = step >= total ? (won ? '#44ff88' : '#ff4444') : '#4488ff';
                ctx.fillStyle = barColor;
                ctx.fillRect(0, barY, canvas.width * progress, 3);
            }

            // C5: Minimap overlay (toggle with M)
            if (gameState.minimapVisible && !gameState.mainMenuActive) {
                const mmScale = 2; // 2px per game tile
                const mmW = CONFIG.mapWidth * mmScale;
                const mmH = CONFIG.mapHeight * mmScale;
                const mmX = canvas.width - mmW - 6;
                const mmY = canvas.height - mmH - 6;
                // Background
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(mmX - 1, mmY - 1, mmW + 2, mmH + 2);
                // Border
                ctx.strokeStyle = '#4a4a6a';
                ctx.lineWidth = 1;
                ctx.strokeRect(mmX - 1, mmY - 1, mmW + 2, mmH + 2);
                // Tiles
                for (let y = 0; y < CONFIG.mapHeight; y++) {
                    for (let x = 0; x < CONFIG.mapWidth; x++) {
                        if (!gameState.explored[y]?.[x]) continue;
                        const tile = gameState.map[y][x];
                        if (tile === TILE.VOID) {
                            ctx.fillStyle = '#0a0a14';
                        } else if (tile === TILE.WALL) {
                            ctx.fillStyle = '#3a3a4e';
                        } else if (tile === TILE.STAIRS_DOWN) {
                            ctx.fillStyle = '#44ff88';
                        } else {
                            const decay = gameState.decay[y]?.[x] ?? 10;
                            if (gameState.awakened[y]?.[x] && gameState.decayEnabled && decay > 0) {
                                ctx.fillStyle = getDecayColor(decay);
                            } else {
                                ctx.fillStyle = '#2a2a3a';
                            }
                        }
                        ctx.fillRect(mmX + x * mmScale, mmY + y * mmScale, mmScale, mmScale);
                    }
                }
                // Player dot (white)
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(mmX + gameState.player.x * mmScale, mmY + gameState.player.y * mmScale, mmScale, mmScale);
                // Enemy dots
                for (const enemy of gameState.enemies) {
                    if (!gameState.explored[enemy.y]?.[enemy.x]) continue;
                    ctx.fillStyle = enemy.type === 'crawler' ? '#ff8800' : enemy.type === 'seeker' ? '#ff44ff' : '#44ff44';
                    ctx.fillRect(mmX + enemy.x * mmScale, mmY + enemy.y * mmScale, mmScale, mmScale);
                }
            }

            // Draw particles on top
            drawParticles();

            // Level transition fade-in overlay (Phase 3D)
            if (levelTransition && !levelTransition.skipped) {
                const elapsed = now - levelTransition.startTime;
                // Only fade-in phase reaches here (800-1100ms)
                if (elapsed >= 800 && elapsed < levelTransition.duration) {
                    const overlayAlpha = 1 - (elapsed - 800) / 300;
                    ctx.fillStyle = `rgba(0, 0, 0, ${overlayAlpha})`;
                    ctx.fillRect(-10, -10, canvas.width + 20, canvas.height + 20);
                }
            }

            // Stabilizer type selection overlay
            if (gameState.stabilizerSelectMode) {
                const bannerH = 48;
                ctx.fillStyle = 'rgba(0, 20, 40, 0.85)';
                ctx.fillRect(0, 0, canvas.width, bannerH);
                ctx.strokeStyle = '#88ffff';
                ctx.lineWidth = 1;
                ctx.strokeRect(0, 0, canvas.width, bannerH);
                ctx.font = 'bold 16px Courier New';
                ctx.fillStyle = '#88ffff';
                ctx.fillText('STABILIZER TYPE:', 10, 20);
                ctx.font = '14px Courier New';
                ctx.fillStyle = '#ffffff';
                ctx.fillText('[1] Radial (BFS area)', 10, 40);
                ctx.fillStyle = '#ffcc44';
                ctx.fillText('[2] Line (choose dir)', 190, 40);
                ctx.fillStyle = '#ff6644';
                ctx.fillText('[3] Blast (large, short)', 380, 40);
                ctx.fillStyle = '#888888';
                ctx.fillText('[Esc] Cancel', canvas.width - 120, 40);
            }

            // Line stabilizer direction selection overlay + preview
            if (gameState.lineDirectionMode) {
                const bannerH = 48;
                ctx.fillStyle = 'rgba(0, 20, 40, 0.85)';
                ctx.fillRect(0, 0, canvas.width, bannerH);
                ctx.strokeStyle = '#ffcc44';
                ctx.lineWidth = 1;
                ctx.strokeRect(0, 0, canvas.width, bannerH);
                ctx.font = 'bold 16px Courier New';
                ctx.fillStyle = '#ffcc44';
                ctx.fillText('LINE DIRECTION:', 10, 20);
                ctx.font = '14px Courier New';
                ctx.fillStyle = '#ffffff';
                ctx.fillText('WASD/Arrows = cardinal | Q/E/Z/C = diagonal | Esc = cancel', 10, 40);

                // Draw direction arrows around the player
                const px = gameState.player.x, py = gameState.player.y;
                const ts = CONFIG.tileSize;
                const dirs = [[0,-1],[0,1],[-1,0],[1,0],[-1,-1],[1,-1],[-1,1],[1,1]];
                for (const [ddx, ddy] of dirs) {
                    // Count how many tiles this direction would freeze
                    let count = 0;
                    for (let i = 1; i <= 8; i++) {
                        const nx = px + ddx * i, ny = py + ddy * i;
                        if (!inBounds(nx, ny)) break;
                        if (gameState.map[ny][nx] === TILE.WALL || gameState.map[ny][nx] === TILE.VOID) break;
                        if (isPillarAt(nx, ny)) break;
                        count++;
                    }
                    if (count > 0) {
                        // Draw preview dots along the line
                        ctx.globalAlpha = 0.4;
                        ctx.fillStyle = '#ffcc44';
                        for (let i = 1; i <= count; i++) {
                            const nx = px + ddx * i, ny = py + ddy * i;
                            ctx.fillRect(nx * ts + 2, ny * ts + 2, ts - 5, ts - 5);
                        }
                        ctx.globalAlpha = 1;
                    }
                }
            }

            // Game over / victory overlay (Phase 3E)
            if (gameOverlay) {
                const elapsed = now - gameOverlay.startTime;
                if (gameOverlay.type === 'victory') {
                    const alpha = Math.min(elapsed / 500, 0.6);
                    ctx.fillStyle = `rgba(0, 0, 0, ${alpha})`;
                    ctx.fillRect(-10, -10, canvas.width + 20, canvas.height + 20);
                    if (elapsed > 200) {
                        const textAlpha = Math.min((elapsed - 200) / 300, 1);
                        ctx.globalAlpha = textAlpha;
                        ctx.fillStyle = '#ffd700';
                        ctx.font = 'bold 36px Courier New';
                        const vt = 'VICTORY';
                        const vtw = ctx.measureText(vt).width;
                        ctx.fillText(vt, (canvas.width - vtw) / 2, canvas.height / 2 - 20);
                        if (gameOverlay.stats && elapsed > 600) {
                            ctx.fillStyle = '#ccccee';
                            ctx.font = '14px Courier New';
                            const st = `Level ${gameOverlay.stats.level} | ${gameOverlay.stats.moves} moves | Seed ${gameOverlay.stats.seed}`;
                            const stw = ctx.measureText(st).width;
                            ctx.fillText(st, (canvas.width - stw) / 2, canvas.height / 2 + 20);
                        }
                        ctx.globalAlpha = 1;
                    }
                } else if (gameOverlay.type === 'death') {
                    // Red flash then fade
                    if (elapsed < 100) {
                        ctx.fillStyle = `rgba(255, 0, 0, ${0.3 * (1 - elapsed / 100)})`;
                        ctx.fillRect(-10, -10, canvas.width + 20, canvas.height + 20);
                    }
                    if (elapsed > 500) gameOverlay = null;
                }
            }

            // Post-game menu overlay (concede/win)
            if (gameState.concedeActive && !replayState.active) {
                const cw = canvas.width, ch = canvas.height;
                // Semi-transparent backdrop
                ctx.fillStyle = 'rgba(0, 0, 0, 0.75)';
                ctx.fillRect(-10, -10, cw + 20, ch + 20);

                const isWin = gameState.gameOverReason === 'won';
                const centerX = cw / 2;
                let y = ch / 2 - 100;

                // Title
                ctx.font = 'bold 32px Courier New';
                ctx.fillStyle = isWin ? '#ffd700' : '#ff4444';
                const title = isWin ? 'VICTORY' : 'GAME OVER';
                const titleW = ctx.measureText(title).width;
                ctx.fillText(title, centerX - titleW / 2, y);
                y += 30;

                // Stats line
                const seed = gameState.replayStartSeed || gameState.seed;
                ctx.font = '14px Courier New';
                ctx.fillStyle = '#ccccee';
                const stats = `Level ${gameState.level} | ${gameState.moves} moves | Seed ${seed}`;
                const statsW = ctx.measureText(stats).width;
                ctx.fillText(stats, centerX - statsW / 2, y);
                y += 40;

                // Options
                ctx.font = '15px Courier New';
                const options = [
                    { key: '[R]', text: 'New Game', color: '#44ff88' },
                ];
                if (hasSavedGame()) {
                    options.push({ key: '[Shift+Q]', text: 'Load Save', color: '#88aaff' });
                }
                options.push(
                    { key: '[1]', text: 'Save Replay', color: '#ffffff' },
                    { key: '[2]', text: 'Watch Oracle', color: '#ffcc44' },
                    { key: '[3]', text: 'Watch Your Replay', color: '#ff8844' },
                    { key: '[Shift+L]', text: 'Replay Library', color: '#aaaacc' },
                    { key: '[Shift+B]', text: 'Leaderboard', color: '#aaaacc' }
                );

                for (const opt of options) {
                    ctx.fillStyle = opt.color;
                    const line = `${opt.key} ${opt.text}`;
                    const lineW = ctx.measureText(line).width;
                    ctx.fillText(line, centerX - lineW / 2, y);
                    y += 24;
                }
            }

            // Reset transform
            ctx.setTransform(1, 0, 0, 1, 0, 0);

            updateUI();
            updateReplayUI();
        }

        // ============ MOVEMENT ============
        function tryMove(dx, dy, isAutoPath = false) {
            const newX = gameState.player.x + dx;
            const newY = gameState.player.y + dy;

            // Bounds check
            if (!inBounds(newX, newY)) {
                if (!isAutoPath) addMessage("You bump into the edge of the world.", 'warn');
                return false;
            }

            // Wall check
            const tile = gameState.map[newY][newX];
            if (tile === TILE.WALL) {
                if (!isAutoPath) addMessage("You bump into a wall.", 'move');
                return false;
            }

            // Void check - can't walk into void
            if (tile === TILE.VOID) {
                if (!isAutoPath) addMessage("There's nothing but darkness there.", 'warn');
                return false;
            }

            // Pillar push check - sokoban-style
            if (isPillarAt(newX, newY)) {
                const behindX = newX + dx;
                const behindY = newY + dy;
                // Can push if tile behind pillar is walkable floor/stairs (not wall, void, pillar, or out of bounds)
                if (!inBounds(behindX, behindY) ||
                    gameState.map[behindY][behindX] === TILE.WALL ||
                    gameState.map[behindY][behindX] === TILE.VOID ||
                    isPillarAt(behindX, behindY)) {
                    if (!isAutoPath) addMessage("The pillar can't be pushed that way.", 'move');
                    return false;
                }
                // Push is valid - save state, then move pillar
                saveStateToHistory();
                const pillar = gameState.pillars.find(p => p.x === newX && p.y === newY);
                pillar.x = behindX;
                pillar.y = behindY;
                gameState.mapVersion++; // Invalidate cached paths
                if (!isAutoPath) addMessage("You push the pillar.", 'move');
            } else {
                // Save state BEFORE moving (for rewind)
                saveStateToHistory();
            }

            // Move player
            triggerPlayerMove(newX, newY);
            gameState.player.x = newX;
            gameState.player.y = newY;
            gameState.moves++;
            gameState.levelMoves++;

            // Check for crystal collection
            const crystal = gameState.crystals.find(c => c.x === newX && c.y === newY && !c.collected);
            if (crystal) {
                crystal.collected = true;
                gameState.crystalsCollected++;
                gameState.stabilizerCharges++;
                addMessage(`Collected a time crystal! (+1 stabilizer charge)`, 'info');
                spawnFloatingText(newX, newY, '+1 Stab', '#88ffff');
                // C7: Crystal sparkle burst
                if (effectsEnabled) {
                    const ccx = newX * CONFIG.tileSize + CONFIG.tileSize / 2;
                    const ccy = newY * CONFIG.tileSize + CONFIG.tileSize / 2;
                    for (let i = 0; i < 8; i++) {
                        const angle = (Math.PI * 2 * i) / 8;
                        particles.push({
                            x: ccx, y: ccy,
                            dx: Math.cos(angle) * 2, dy: Math.sin(angle) * 2,
                            life: 12 + Math.random() * 8,
                            size: 1 + Math.random(), color: '#88ffff'
                        });
                    }
                }
            }

            // Check for grapple item collection
            const grapple = gameState.grappleItems.find(g => g.x === newX && g.y === newY && !g.collected);
            if (grapple) {
                grapple.collected = true;
                gameState.grappleCharges++;
                addMessage('Found a grapple hook! Press G to use.', 'info');
                spawnFloatingText(newX, newY, 'Grapple!', '#ff8844');
                // C7: Grapple pickup particles
                if (effectsEnabled) {
                    const gcx = newX * CONFIG.tileSize + CONFIG.tileSize / 2;
                    const gcy = newY * CONFIG.tileSize + CONFIG.tileSize / 2;
                    for (let i = 0; i < 6; i++) {
                        const angle = (Math.PI * 2 * i) / 6;
                        particles.push({
                            x: gcx, y: gcy,
                            dx: Math.cos(angle) * 1.5, dy: Math.sin(angle) * 1.5,
                            life: 10 + Math.random() * 6,
                            size: 1.5, color: '#ff8844'
                        });
                    }
                }
            }

            // Enemy collision: walking onto an enemy causes decay burst + death particles
            const collidedEnemy = gameState.enemies.find(e => e.x === newX && e.y === newY);
            if (collidedEnemy) {
                addMessage(`You collide with a ${collidedEnemy.type}! The ground shudders.`, 'warn');
                // C4: Enemy collision burst particles
                if (effectsEnabled) {
                    const ecx = newX * CONFIG.tileSize + CONFIG.tileSize / 2;
                    const ecy = newY * CONFIG.tileSize + CONFIG.tileSize / 2;
                    const eColor = collidedEnemy.type === 'crawler' ? '#ff8800' :
                                   collidedEnemy.type === 'seeker' ? '#ff44ff' : '#44ff44';
                    for (let i = 0; i < 10; i++) {
                        const angle = (Math.PI * 2 * i) / 10 + Math.random() * 0.3;
                        const speed = 1.5 + Math.random() * 1.5;
                        particles.push({
                            x: ecx, y: ecy,
                            dx: Math.cos(angle) * speed,
                            dy: Math.sin(angle) * speed,
                            life: 15 + Math.random() * 10,
                            size: 1.5 + Math.random() * 1.5,
                            color: eColor
                        });
                    }
                    startEffectsLoop();
                }
                // Track which tiles collapse from the burst
                const preCollapse = [];
                for (let cdy = -ENEMY_COLLISION_RADIUS; cdy <= ENEMY_COLLISION_RADIUS; cdy++) {
                    for (let cdx = -ENEMY_COLLISION_RADIUS; cdx <= ENEMY_COLLISION_RADIUS; cdx++) {
                        const bx = newX + cdx, by = newY + cdy;
                        if (inBounds(bx, by) && gameState.map[by][bx] !== TILE.VOID && gameState.map[by][bx] !== TILE.WALL) {
                            preCollapse.push({ x: bx, y: by, was: gameState.decay[by][bx] });
                        }
                    }
                }
                applyEnemyCollisionBurst(newX, newY, gameState);
                const collapsed = preCollapse.filter(t => gameState.map[t.y][t.x] === TILE.VOID);
                if (collapsed.length > 0) {
                    processChainCollapses(collapsed);
                    triggerScreenShake(collapsed.length);
                    startEffectsLoop();
                }
            }

            // Reset consecutive waits on movement
            gameState.consecutiveWaits = 0;

            // Awaken tiles near new position (rooms get awakened)
            awakenNearbyTiles();

            // Process decay for this turn (only awakened tiles tick)
            processTurnDecay();

            // Move enemies
            processEnemyMoves();

            // Check if player is now standing on void (tile collapsed under them)
            if (checkPlayerOnVoid()) {
                // Cancel any auto-path - player fell and was rewound
                cancelPath();
                render();
                return false; // Return false to stop auto-path execution
            }

            // Recalculate FOV
            calculateFOV();

            // Check for stairs
            if (tile === TILE.STAIRS_DOWN && !isAutoPath) {
                addMessage("You found stairs leading down! Press > to descend.", 'info');
            }

            recordHumanAction({ action: 'move', dx, dy });
            render();
            return true;
        }

        function waitTurn() {
            // Waiting in place still costs a turn and triggers decay
            saveStateToHistory();
            gameState.moves++;
            gameState.levelMoves++;

            // Track consecutive waits for rest mechanic
            gameState.consecutiveWaits++;

            // Rest mechanic: after 2 consecutive waits, stabilize nearby tiles (Level 3+)
            let restMessage = "You wait...";
            if (gameState.consecutiveWaits >= 2 && gameState.level >= 3) {
                const tilesRested = applyRestBonus();
                if (tilesRested > 0) {
                    restMessage = `You rest and stabilize ${tilesRested} nearby tiles. (+1 decay each)`;
                } else {
                    restMessage = "You rest... (nearby tiles already stabilized)";
                }
            }

            // Awaken and decay just like movement
            awakenNearbyTiles();
            processTurnDecay();
            processEnemyMoves();

            // Check if collapse happened under player
            if (checkPlayerOnVoid()) {
                cancelPath();
                render();
                return;
            }

            addMessage(restMessage, gameState.consecutiveWaits >= 2 ? 'info' : 'move');
            recordHumanAction({ action: 'wait' });
            render();
        }

        function descendStairs() {
            const tile = gameState.map[gameState.player.y][gameState.player.x];
            if (tile === TILE.STAIRS_DOWN) {
                // Capture canvas snapshot before generating new map (for transition fade-out)
                const snapshot = effectsEnabled ? ctx.getImageData(0, 0, canvas.width, canvas.height) : null;

                gameState.level++;
                // Use derived seed for deterministic multi-level runs
                // Derive from base seed + level to ensure each level is reproducible
                // Bug fix: baseSeed === 0 was treated as falsy, breaking determinism
                const hasBaseSeed = gameState.baseSeed !== null && gameState.baseSeed !== undefined;
                const derivedSeed = hasBaseSeed ?
                    (gameState.baseSeed * 31 + gameState.level) % 1000000 : null;
                generateMap(derivedSeed);
                gameState.levelMoves = 0; // Reset per-level counter for decay modulo

                startLevelTransition(gameState.level, snapshot);
                addMessage(`You descend to level ${gameState.level}.`, 'info');

                // Level-specific messages
                if (gameState.level === 2) {
                    addMessage("Warning: Decay begins! Tiles will crumble as you explore.", 'warn');
                    addMessage("Grapple hooks now available! Press G to use. Tab for prediction overlay.", 'info');
                } else if (gameState.level === 3) {
                    addMessage("Pillars can now be pushed! Walk into one to move it.", 'info');
                } else if (gameState.level === 4) {
                    addMessage("Beware! Crawlers and menders roam these halls.", 'warn');
                } else if (gameState.level === 5) {
                    addMessage("More crawlers and menders prowl these halls.", 'warn');
                } else if (gameState.level === 6) {
                    addMessage("Seekers emerge! They pursue you and decay the ground around them ‚Äî but leave stable trails.", 'warn');
                } else if (gameState.level === 7) {
                    addMessage("The deep levels. Enemy numbers are unpredictable.", 'warn');
                } else if (gameState.level === 8) {
                    addMessage("Almost there. Resources are scarce ‚Äî use them wisely.", 'warn');
                } else if (gameState.level === 9) {
                    addMessage("The final stretch. One more level to freedom!", 'info');
                }

                recordHumanAction({ action: 'descend' });

                // Auto-save on level descent
                if (!replayState.active) saveGame();

                // Win check: reaching level 10 counts as a win
                if (gameState.level >= 10 && gameState.replayRecording) {
                    onPlayerWin();
                    return;
                }

                render();
            } else {
                addMessage("There are no stairs here.", 'warn');
            }
        }

        // Compute tiles to freeze based on stabilizer type
        // lineDir: optional [dx,dy] to force a specific direction for line type (null = auto-pick best)
        function getStabilizerTiles(px, py, type, state = gameState, lineDir = null) {
            const tiles = [];
            const levelConfig = getLevelConfig(state.level);
            const radius = levelConfig.stabilizerRadius;

            if (type === 'line') {
                // Line stabilizer: freeze tiles in a line (8 tiles) in a chosen direction
                tiles.push({ x: px, y: py });
                let chosenDir = lineDir;
                if (!chosenDir) {
                    // Auto-pick longest unblocked line direction (used by bots/sim)
                    const dirs = [[1,0],[-1,0],[0,1],[0,-1],[1,1],[-1,-1],[1,-1],[-1,1]];
                    let bestCount = 0;
                    for (const [ddx, ddy] of dirs) {
                        let count = 0;
                        for (let i = 1; i <= 8; i++) {
                            const nx = px + ddx * i, ny = py + ddy * i;
                            if (!inBounds(nx, ny)) break;
                            if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) break;
                            if (isPillarAt(nx, ny, state)) break;
                            count++;
                        }
                        if (count > bestCount) { bestCount = count; chosenDir = [ddx, ddy]; }
                    }
                }
                if (chosenDir) {
                    for (let i = 1; i <= 8; i++) {
                        const nx = px + chosenDir[0] * i, ny = py + chosenDir[1] * i;
                        if (!inBounds(nx, ny)) break;
                        if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) break;
                        if (isPillarAt(nx, ny, state)) break;
                        tiles.push({ x: nx, y: ny });
                    }
                }
            } else if (type === 'blast') {
                // Blast stabilizer: large radius (radius+2) but short duration (handled by caller)
                const blastRadius = radius + 2;
                for (let dy = -blastRadius; dy <= blastRadius; dy++) {
                    for (let dx = -blastRadius; dx <= blastRadius; dx++) {
                        const nx = px + dx, ny = py + dy;
                        if (!inBounds(nx, ny)) continue;
                        if (Math.max(Math.abs(dx), Math.abs(dy)) > blastRadius) continue;
                        if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) continue;
                        tiles.push({ x: nx, y: ny });
                    }
                }
            } else {
                // Radial (default): BFS within radius, respects walls and pillars
                const queue = [{ x: px, y: py, dist: 0 }];
                let head = 0;
                const visited = new Set();
                visited.add(coordIdx(px, py));
                while (head < queue.length) {
                    const { x, y, dist } = queue[head++];
                    if (state.map[y][x] !== TILE.WALL && state.map[y][x] !== TILE.VOID) {
                        tiles.push({ x, y });
                    }
                    if (dist >= radius) continue;
                    const neighbors = [
                        { dx: -1, dy: 0 }, { dx: 1, dy: 0 },
                        { dx: 0, dy: -1 }, { dx: 0, dy: 1 },
                        { dx: -1, dy: -1 }, { dx: 1, dy: -1 },
                        { dx: -1, dy: 1 }, { dx: 1, dy: 1 }
                    ];
                    for (const { dx, dy } of neighbors) {
                        const nx = x + dx, ny = y + dy;
                        if (!inBounds(nx, ny)) continue;
                        if (visited.has(coordIdx(nx, ny))) continue;
                        if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) continue;
                        if (isPillarAt(nx, ny, state)) continue;
                        visited.add(coordIdx(nx, ny));
                        queue.push({ x: nx, y: ny, dist: dist + 1 });
                    }
                }
            }
            return tiles;
        }

        function useStabilizer() {
            const levelConfig = getLevelConfig(gameState.level);

            if (gameState.stabilizerCharges <= 0) {
                addMessage("No stabilizer charges! Collect crystals.", 'warn');
                return;
            }

            // Check cooldown
            if (gameState.stabilizerCooldown > 0) {
                addMessage(`Stabilizer on cooldown! ${gameState.stabilizerCooldown} turns remaining.`, 'warn');
                return;
            }

            // Stabilizer costs a turn (like any other action)
            saveStateToHistory();
            gameState.moves++;
            gameState.levelMoves++;
            gameState.stabilizerCharges--;

            // Set cooldown based on level
            gameState.stabilizerCooldown = levelConfig.stabilizerCooldown;

            const px = gameState.player.x;
            const py = gameState.player.y;
            const canRefresh = levelConfig.stabilizerCanRefresh;

            // Duration depends on type: blast is shorter
            const baseDuration = levelConfig.stabilizerDuration;
            const duration = gameState.stabilizerType === 'blast' ? Math.max(2, Math.floor(baseDuration / 2)) : baseDuration;

            // Get tiles to freeze based on stabilizer type (pass lineDirection for line type)
            const tilesToFreeze = getStabilizerTiles(px, py, gameState.stabilizerType, gameState, gameState.lineDirection);
            gameState.lineDirection = null; // Clear after use
            let frozenCount = 0;

            for (const { x, y } of tilesToFreeze) {
                const existing = gameState.frozenTiles.find(f => f.x === x && f.y === y);
                if (existing) {
                    if (canRefresh) existing.turnsRemaining = duration;
                } else {
                    gameState.frozenTiles.push({ x, y, turnsRemaining: duration });
                    frozenCount++;
                }
            }

            // Visual: expanding cyan ring effect
            const stabRadius = levelConfig.stabilizerRadius + 1;
            spawnRingEffect(px, py, stabRadius, 'rgba(100, 200, 255, 1)', 20);

            const protectedTurns = duration - 1;
            const typeName = gameState.stabilizerType === 'line' ? 'Line' :
                             gameState.stabilizerType === 'blast' ? 'Blast' : 'Radial';
            let msg = `${typeName} stabilizer! ${frozenCount} tiles frozen for ${protectedTurns} turns.`;
            if (gameState.stabilizerCooldown > 0) {
                msg += ` (Cooldown: ${gameState.stabilizerCooldown})`;
            }
            addMessage(msg, 'info');

            // Process turn like normal action
            awakenNearbyTiles();
            processTurnDecay();
            processEnemyMoves();

            // Check if player is now on void
            if (checkPlayerOnVoid()) {
                cancelPath();
            }

            recordHumanAction({ action: 'stabilize' });
            render();
        }

        const GRAPPLE_RANGE = 8;

        function canGrappleTo(targetX, targetY) {
            if (!inBounds(targetX, targetY)) return false;
            const tile = gameState.map[targetY][targetX];
            if (tile !== TILE.FLOOR && tile !== TILE.STAIRS_DOWN) return false;
            if (isPillarAt(targetX, targetY)) return false;

            // Range check (Chebyshev)
            const dist = Math.max(Math.abs(targetX - gameState.player.x), Math.abs(targetY - gameState.player.y));
            if (dist < 2 || dist > GRAPPLE_RANGE) return false;

            // Line of sight check (Bresenham)
            const dx = Math.abs(targetX - gameState.player.x);
            const dy = Math.abs(targetY - gameState.player.y);
            const sx = gameState.player.x < targetX ? 1 : -1;
            const sy = gameState.player.y < targetY ? 1 : -1;
            let err = dx - dy;
            let cx = gameState.player.x, cy = gameState.player.y;

            while (cx !== targetX || cy !== targetY) {
                const e2 = 2 * err;
                if (e2 > -dy) { err -= dy; cx += sx; }
                if (e2 < dx) { err += dx; cy += sy; }
                if (cx === targetX && cy === targetY) break;
                // Check intermediate tile
                if (gameState.map[cy][cx] === TILE.WALL) return false;
            }

            return true;
        }

        function useGrapple(targetX, targetY) {
            if (gameState.grappleCharges <= 0) {
                addMessage("No grapple charges!", 'warn');
                return false;
            }
            if (!canGrappleTo(targetX, targetY)) {
                addMessage("Can't grapple there!", 'warn');
                return false;
            }

            saveStateToHistory();
            const grappleFromX = gameState.player.x;
            const grappleFromY = gameState.player.y;
            gameState.grappleCharges--;
            triggerPlayerMove(targetX, targetY);
            gameState.player.x = targetX;
            gameState.player.y = targetY;
            gameState.moves++;
            gameState.levelMoves++;
            gameState.consecutiveWaits = 0;
            gameState.grappleMode = false;

            // Visual: grapple arc + screen shake
            spawnGrappleArc(grappleFromX, grappleFromY, targetX, targetY);
            triggerScreenShake(1);

            // Collect crystal at target
            const crystal = gameState.crystals.find(c => c.x === targetX && c.y === targetY && !c.collected);
            if (crystal) {
                crystal.collected = true;
                gameState.crystalsCollected++;
                gameState.stabilizerCharges++;
                addMessage('Grappled and collected a crystal!', 'info');
            } else {
                addMessage('Grapple!', 'info');
            }

            // Collect grapple item at target
            const gItem = gameState.grappleItems.find(g => g.x === targetX && g.y === targetY && !g.collected);
            if (gItem) {
                gItem.collected = true;
                gameState.grappleCharges++;
                addMessage('Grappled onto a grapple hook! (+1 charge)', 'info');
                spawnFloatingText(targetX, targetY, 'Grapple!', '#ff8844');
            }

            // Enemy collision at target
            const collidedEnemy = gameState.enemies.find(e => e.x === targetX && e.y === targetY);
            if (collidedEnemy) {
                addMessage(`You land on a ${collidedEnemy.type}! The ground shudders.`, 'warn');
                const preCollapse = [];
                for (let cdy = -ENEMY_COLLISION_RADIUS; cdy <= ENEMY_COLLISION_RADIUS; cdy++) {
                    for (let cdx = -ENEMY_COLLISION_RADIUS; cdx <= ENEMY_COLLISION_RADIUS; cdx++) {
                        const bx = targetX + cdx, by = targetY + cdy;
                        if (inBounds(bx, by) && gameState.map[by][bx] !== TILE.VOID && gameState.map[by][bx] !== TILE.WALL) {
                            preCollapse.push({ x: bx, y: by });
                        }
                    }
                }
                applyEnemyCollisionBurst(targetX, targetY, gameState);
                const collapsed = preCollapse.filter(t => gameState.map[t.y][t.x] === TILE.VOID);
                if (collapsed.length > 0) {
                    processChainCollapses(collapsed);
                    triggerScreenShake(collapsed.length);
                    startEffectsLoop();
                }
            }

            awakenNearbyTiles();
            processTurnDecay();
            processEnemyMoves();

            if (checkPlayerOnVoid()) {
                cancelPath();
            }

            recordHumanAction({ action: 'grapple', targetX, targetY });
            calculateFOV();
            render();
            return true;
        }

        // Sim version of grapple
        function simCanGrappleTo(state, targetX, targetY) {
            if (!inBounds(targetX, targetY)) return false;
            const tile = state.map[targetY][targetX];
            if (tile !== TILE.FLOOR && tile !== TILE.STAIRS_DOWN) return false;
            if (simIsPillarAt(state, targetX, targetY)) return false;
            const dist = Math.max(Math.abs(targetX - state.player.x), Math.abs(targetY - state.player.y));
            if (dist < 2 || dist > GRAPPLE_RANGE) return false;
            // Line of sight (Bresenham)
            const dx = Math.abs(targetX - state.player.x);
            const dy = Math.abs(targetY - state.player.y);
            const sx = state.player.x < targetX ? 1 : -1;
            const sy = state.player.y < targetY ? 1 : -1;
            let err = dx - dy;
            let cx = state.player.x, cy = state.player.y;
            while (cx !== targetX || cy !== targetY) {
                const e2 = 2 * err;
                if (e2 > -dy) { err -= dy; cx += sx; }
                if (e2 < dx) { err += dx; cy += sy; }
                if (cx === targetX && cy === targetY) break;
                if (state.map[cy][cx] === TILE.WALL) return false;
            }
            return true;
        }

        function simUseGrapple(state, targetX, targetY) {
            if (state.grappleCharges <= 0) return false;
            if (!simCanGrappleTo(state, targetX, targetY)) return false;
            state.grappleCharges--;
            state.player.x = targetX;
            state.player.y = targetY;
            state.moves++;
            state.levelMoves++;
            state.consecutiveWaits = 0;
            // Collect crystal
            for (const crystal of state.crystals) {
                if (crystal.x === targetX && crystal.y === targetY && !crystal.collected && !crystal.destroyed) {
                    crystal.collected = true;
                    state.crystalsCollected++;
                    state.stabilizerCharges++;
                }
            }
            // Collect grapple item
            if (state.grappleItems) {
                for (const g of state.grappleItems) {
                    if (g.x === targetX && g.y === targetY && !g.collected) {
                        g.collected = true;
                        state.grappleCharges = (state.grappleCharges || 0) + 1;
                    }
                }
            }
            // Enemy collision
            if (state.enemies) {
                const hitEnemy = state.enemies.find(e => e.x === targetX && e.y === targetY);
                if (hitEnemy) {
                    applyEnemyCollisionBurst(targetX, targetY, state);
                    simProcessChainCollapses(state, []);
                }
            }
            simAwakenNearby(state);
            simProcessDecay(state);
            processEnemyMoves(state);
            return state.map[state.player.y][state.player.x] !== TILE.VOID;
        }

        // ============ INPUT HANDLING ============
        document.addEventListener('keydown', (e) => {
            const key = e.key.toLowerCase();

            // Main menu controls
            if (gameState.mainMenuActive) {
                if (key === 'n' || key === 'enter') {
                    startNewGameFromMenu();
                } else if (key === 'l' && e.shiftKey) {
                    gameState.mainMenuActive = false;
                    generateMap(); // Need a game state for replay library
                    startAutoRecording();
                    showReplayLibrary();
                } else if (key === 'b' && e.shiftKey) {
                    gameState.mainMenuActive = false;
                    generateMap();
                    startAutoRecording();
                    showLeaderboard();
                } else if (key === 'q' && e.shiftKey) {
                    if (hasSavedGame()) {
                        gameState.mainMenuActive = false;
                        loadGame();
                    } else {
                        addMessage('No saved game found.', 'warn');
                    }
                }
                e.preventDefault();
                return;
            }

            // Replay controls take priority when replay is active
            if (replayState.active) {
                if (key === ' ') {
                    toggleReplayPause();
                    e.preventDefault();
                    return;
                }
                if (key === 'arrowright') {
                    stepReplayForward();
                    e.preventDefault();
                    return;
                }
                if (key === 'escape') {
                    if (gameState.concedeActive) {
                        // Came from concede menu ‚Äî return to it
                        stopReplay();
                        addMessage('Replay stopped.', 'info');
                        render();
                    } else {
                        // Standalone replay ‚Äî exit to new game
                        exitReplayToNewGame();
                    }
                    e.preventDefault();
                    return;
                }
                if (key === '+' || key === '=') {
                    replayState.speed = Math.max(50, replayState.speed - 50);
                    addMessage(`Replay speed: ${replayState.speed}ms/step`, 'info');
                    return;
                }
                if (key === '-' || key === '_') {
                    replayState.speed = Math.min(1000, replayState.speed + 50);
                    addMessage(`Replay speed: ${replayState.speed}ms/step`, 'info');
                    return;
                }
                if (key === 'l' && e.shiftKey) {
                    showReplayLibrary();
                    e.preventDefault();
                    return;
                }
                if (key === 'b' && e.shiftKey) {
                    showLeaderboard();
                    e.preventDefault();
                    return;
                }
                return; // Block all other keys during replay
            }

            // Concede/win menu active ‚Äî handle option keys
            if (gameState.concedeActive) {
                if (key === '1' || key === '2' || key === '3') {
                    handleConcedeOption(key);
                    e.preventDefault();
                    return;
                }
                if (key === 'r' || key === 'escape') {
                    exitToNewGame();
                    e.preventDefault();
                    return;
                }
                if (key === 'q' && e.shiftKey) {
                    if (hasSavedGame()) {
                        gameState.concedeActive = false;
                        gameState.gameOverReason = null;
                        gameOverlay = null;
                        loadGame();
                    } else {
                        addMessage('No saved game found.', 'warn');
                    }
                    e.preventDefault();
                    return;
                }
                if (key === 'l' && e.shiftKey) {
                    showReplayLibrary();
                    e.preventDefault();
                    return;
                }
                if (key === 'b' && e.shiftKey) {
                    showLeaderboard();
                    e.preventDefault();
                    return;
                }
                return; // Block other keys while menu is active
            }

            // Stabilizer type selection mode
            if (gameState.stabilizerSelectMode) {
                if (key === '1') {
                    gameState.stabilizerType = 'radial';
                    gameState.stabilizerSelectMode = false;
                    useStabilizer();
                } else if (key === '2') {
                    // Line type: enter direction selection mode
                    gameState.stabilizerType = 'line';
                    gameState.stabilizerSelectMode = false;
                    gameState.lineDirectionMode = true;
                    addMessage('Line direction: WASD/Arrows or diagonal (QE/ZC) | [Esc] Cancel', 'info');
                    render();
                } else if (key === '3') {
                    gameState.stabilizerType = 'blast';
                    gameState.stabilizerSelectMode = false;
                    useStabilizer();
                } else if (key === 'escape') {
                    gameState.stabilizerSelectMode = false;
                    addMessage('Stabilizer cancelled.', 'move');
                    render();
                }
                e.preventDefault();
                return;
            }

            // Line stabilizer direction selection mode
            if (gameState.lineDirectionMode) {
                const dirMap = {
                    'w': [0, -1], 'arrowup': [0, -1],
                    's': [0, 1], 'arrowdown': [0, 1],
                    'a': [-1, 0], 'arrowleft': [-1, 0],
                    'd': [1, 0], 'arrowright': [1, 0],
                    'q': [-1, -1], 'e': [1, -1],
                    'z': [-1, 1], 'c': [1, 1]
                };
                const dir = dirMap[key];
                if (dir) {
                    gameState.lineDirectionMode = false;
                    gameState.lineDirection = dir;
                    useStabilizer();
                } else if (key === 'escape') {
                    gameState.lineDirectionMode = false;
                    addMessage('Stabilizer cancelled.', 'move');
                    render();
                }
                e.preventDefault();
                return;
            }

            // Skip level transition on any keypress
            if (levelTransition && !levelTransition.skipped) {
                levelTransition.skipped = true;
                levelTransition = null;
            }

            // Clear game overlay on any keypress
            if (gameOverlay) {
                gameOverlay = null;
            }

            // Handle Enter FIRST - execute pending path before any cancel logic
            if (key === 'enter') {
                if (gameState.pendingPath) {
                    executePendingPath();
                }
                e.preventDefault();
                return;
            }

            // M to toggle minimap
            if (e.key === 'm' && !e.shiftKey && !e.ctrlKey) {
                gameState.minimapVisible = !gameState.minimapVisible;
                addMessage(gameState.minimapVisible ? 'Minimap ON' : 'Minimap OFF', 'info');
                render();
                return;
            }

            // Tab to toggle prediction overlay (also shows decay numbers)
            if (e.key === 'Tab') {
                gameState.predictionMode = !gameState.predictionMode;
                gameState.showDecayNumbers = gameState.predictionMode;
                invalidatePrediction();
                addMessage(gameState.predictionMode ?
                    `Prediction ON (${gameState.predictionHorizon} turns ahead) | +/- to adjust` :
                    'Prediction OFF', 'info');
                render();
                e.preventDefault();
                return;
            }

            // +/- adjust prediction horizon
            if (e.key === '+' || e.key === '=') {
                gameState.predictionHorizon = Math.min(15, gameState.predictionHorizon + 1);
                invalidatePrediction();
                if (gameState.predictionMode) {
                    addMessage(`Prediction: ${gameState.predictionHorizon} turns ahead`, 'info');
                    render();
                }
                return;
            }
            if (e.key === '-' || e.key === '_') {
                gameState.predictionHorizon = Math.max(1, gameState.predictionHorizon - 1);
                invalidatePrediction();
                if (gameState.predictionMode) {
                    addMessage(`Prediction: ${gameState.predictionHorizon} turns ahead`, 'info');
                    render();
                }
                return;
            }

            // Keys that should cancel path preview
            const pathCancelKeys = [
                'arrowup', 'arrowdown', 'arrowleft', 'arrowright',
                'w', 'a', 's', 'd', 'q', 'e', 'z', 'c',
                '1', '2', '3', '4', '5', '6', '7', '8', '9',
                'escape', 'r'
            ];

            // Cancel auto-path/pending on movement keys
            if ((gameState.autoPath || gameState.pendingPath) && pathCancelKeys.includes(key)) {
                cancelPath();
                render();
            }

            // Shift+C: Concede game (before movement switch)
            if (key === 'c' && e.shiftKey) {
                concedeGame();
                return;
            }

            // Shift+S: Save game
            if (key === 's' && e.shiftKey) {
                saveGame();
                addMessage('Game saved!', 'info');
                e.preventDefault();
                return;
            }
            // Shift+Q: Load game
            if (key === 'q' && e.shiftKey) {
                if (gameState.moves > 0) {
                    if (confirm('Load saved game? Current progress will be lost.')) {
                        loadGame();
                    }
                } else {
                    loadGame();
                }
                e.preventDefault();
                return;
            }

            let dx = 0, dy = 0;
            let handled = true;

            switch (key) {
                // Cardinal directions
                case 'arrowup': case 'w': dy = -1; break;
                case 'arrowdown': case 's': dy = 1; break;
                case 'arrowleft': case 'a': dx = -1; break;
                case 'arrowright': case 'd': dx = 1; break;

                // Diagonals
                case 'q': dx = -1; dy = -1; break;
                case 'e': dx = 1; dy = -1; break;
                case 'z': dx = -1; dy = 1; break;
                case 'c': dx = 1; dy = 1; break;

                // Numpad
                case '7': dx = -1; dy = -1; break;
                case '8': dy = -1; break;
                case '9': dx = 1; dy = -1; break;
                case '4': dx = -1; break;
                case '6': dx = 1; break;
                case '1': dx = -1; dy = 1; break;
                case '2': dy = 1; break;
                case '3': dx = 1; dy = 1; break;
                case '5': waitTurn(); break; // wait in place

                // Commands
                case 'r':
                    if (e.shiftKey) {
                        // Shift+R: Deterministic restart of current level
                        restartLevel();
                    } else {
                        // R: New random dungeon
                        gameState.level = 1;
                        gameState.moves = 0;
                        gameState.levelMoves = 0;
                        gameState.crystalsCollected = 0;
                        gameState.stabilizerCharges = 0;
                        generateMap();
                        startAutoRecording();
                        addMessage("New dungeon generated.", 'info');
                        render();
                    }
                    break;

                case 't':
                    // Toggle decay system for testing
                    gameState.decayEnabled = !gameState.decayEnabled;
                    addMessage(`Decay system: ${gameState.decayEnabled ? 'ON' : 'OFF'}`, 'info');
                    render();
                    break;

                case '>': case '.':
                    descendStairs();
                    break;

                case 'escape':
                    cancelPath();
                    gameState.grappleMode = false;
                    render();
                    break;

                case 'f':
                    // Enter stabilizer type selection mode
                    if (gameState.stabilizerCharges <= 0) {
                        addMessage("No stabilizer charges! Collect crystals.", 'warn');
                    } else if (gameState.stabilizerCooldown > 0) {
                        addMessage(`Stabilizer on cooldown! ${gameState.stabilizerCooldown} turns remaining.`, 'warn');
                    } else {
                        gameState.stabilizerSelectMode = true;
                        addMessage("Stabilizer: [1] Radial  [2] Line  [3] Blast  [Esc] Cancel", 'info');
                        render();
                    }
                    break;

                case 'g':
                    if (gameState.grappleCharges > 0) {
                        gameState.grappleMode = !gameState.grappleMode;
                        if (gameState.grappleMode) {
                            addMessage('Grapple mode: click a visible tile to grapple (Esc to cancel)', 'info');
                        } else {
                            addMessage('Grapple cancelled.', 'move');
                        }
                        render();
                    } else {
                        addMessage('No grapple charges! Find a grapple hook item.', 'warn');
                    }
                    break;

                case '?':
                    addMessage("Move: WASD/Arrows | F: Stabilize | G: Grapple | V: Routes | Tab: Predict", 'info');
                    addMessage("Shift+S: Save | Shift+Q: Load | Shift+C: Concede | Shift+L: Replays | Shift+B: Board", 'info');
                    break;

                case 'l':
                    if (e.shiftKey) {
                        showReplayLibrary();
                    }
                    break;

                case 'b':
                    if (e.shiftKey) {
                        showLeaderboard();
                    }
                    break;


                case 'v':
                    // Cycle route overlay: off ‚Üí heatmap ‚Üí heatmap+path ‚Üí off
                    gameState.routeOverlayMode = (gameState.routeOverlayMode + 1) % 3;
                    const routeNames = ['OFF', 'Heatmap', 'Heatmap + Path'];
                    addMessage(`Route overlay: ${routeNames[gameState.routeOverlayMode]}`, 'info');
                    render();
                    break;

                case 'b':
                    // Run bot tests
                    addMessage("Running bot tests... (check console)", 'info');
                    setTimeout(() => {
                        const randomResult = runBotTests('random', 20, 4);
                        const greedyResult = runBotTests('greedy', 20, 4);
                        const tacticalResult = runBotTests('tactical', 20, 4);
                        addMessage(`RANDOM: ${randomResult.wins}/20 wins (${(randomResult.winRate*100).toFixed(0)}%), lvl ${randomResult.avgLevel.toFixed(1)}`, 'info');
                        const rReasons = Object.entries(randomResult.reasons || {}).map(([k,v]) => `${k}:${v}`).join(' ');
                        if (rReasons) addMessage(`  Failures: ${rReasons}`, 'warn');
                        addMessage(`GREEDY: ${greedyResult.wins}/20 wins (${(greedyResult.winRate*100).toFixed(0)}%), lvl ${greedyResult.avgLevel.toFixed(1)}`, 'info');
                        const gReasons = Object.entries(greedyResult.reasons || {}).map(([k,v]) => `${k}:${v}`).join(' ');
                        if (gReasons) addMessage(`  Failures: ${gReasons}`, 'warn');
                        addMessage(`TACTICAL: ${tacticalResult.wins}/20 wins (${(tacticalResult.winRate*100).toFixed(0)}%), lvl ${tacticalResult.avgLevel.toFixed(1)}`, 'info');
                        const tReasons = Object.entries(tacticalResult.reasons || {}).map(([k,v]) => `${k}:${v}`).join(' ');
                        if (tReasons) addMessage(`  Failures: ${tReasons}`, 'warn');
                        // Show turns-to-win stats
                        if (tacticalResult.turnsToWinStats) {
                            const t = tacticalResult.turnsToWinStats;
                            addMessage(`  Tactical turns to win: p50=${t.p50}, p95=${t.p95}`, 'info');
                        }
                        // Calculate skill gap
                        const skillGap = ((tacticalResult.winRate - greedyResult.winRate) * 100).toFixed(0);
                        addMessage(`SKILL GAP: ${skillGap}% (tactical - greedy)`, skillGap > 15 ? 'info' : 'warn');
                        // Store results in DOM for external access
                        document.body.setAttribute('data-bot-results', JSON.stringify({random: randomResult, greedy: greedyResult, tactical: tacticalResult}));
                        render();
                    }, 100);
                    break;

                default:
                    handled = false;
            }

            if (dx !== 0 || dy !== 0) {
                tryMove(dx, dy);
            }

            if (handled) {
                e.preventDefault();
            }
        });

        // Mouse click handling
        canvas.addEventListener('click', (e) => {
            // Cancel auto-path if clicking during travel
            if (gameState.autoPath) {
                cancelPath();
                addMessage("Path cancelled.", 'move');
                render();
                return;
            }

            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            const canvasX = (e.clientX - rect.left) * scaleX;
            const canvasY = (e.clientY - rect.top) * scaleY;
            const tileX = Math.floor(canvasX / CONFIG.tileSize);
            const tileY = Math.floor(canvasY / CONFIG.tileSize);

            // Handle grapple mode click
            if (gameState.grappleMode) {
                if (inBounds(tileX, tileY) && canGrappleTo(tileX, tileY)) {
                    useGrapple(tileX, tileY);
                } else {
                    addMessage("Can't grapple there!", 'warn');
                }
                return;
            }

            // Handle line stabilizer direction click
            if (gameState.lineDirectionMode) {
                const dx = tileX - gameState.player.x;
                const dy = tileY - gameState.player.y;
                if (dx === 0 && dy === 0) return; // clicked on self
                // Snap to nearest of 8 directions
                const angle = Math.atan2(dy, dx);
                const snapped = Math.round(angle / (Math.PI / 4)) * (Math.PI / 4);
                const dirX = Math.round(Math.cos(snapped));
                const dirY = Math.round(Math.sin(snapped));
                gameState.lineDirectionMode = false;
                gameState.lineDirection = [dirX, dirY];
                useStabilizer();
                return;
            }

            // Get raw click position in tile coordinates
            const rawX = canvasX / CONFIG.tileSize;
            const rawY = canvasY / CONFIG.tileSize;
            let clickX = Math.floor(rawX);
            let clickY = Math.floor(rawY);

            // If click is on a wall or unexplored, try to find nearest valid floor tile
            // This handles clicks between cells or on walls more gracefully
            if (!inBounds(clickX, clickY) ||
                !gameState.explored[clickY]?.[clickX] ||
                gameState.map[clickY][clickX] === TILE.WALL) {

                // Check the 4 nearest tiles based on click position within the cell
                const fracX = rawX - clickX;
                const fracY = rawY - clickY;
                const candidates = [];

                // Prioritize based on which edge/corner was clicked
                if (fracX < 0.3) candidates.push({x: clickX - 1, y: clickY});
                if (fracX > 0.7) candidates.push({x: clickX + 1, y: clickY});
                if (fracY < 0.3) candidates.push({x: clickX, y: clickY - 1});
                if (fracY > 0.7) candidates.push({x: clickX, y: clickY + 1});

                // Also check diagonals for corner clicks
                if (fracX < 0.3 && fracY < 0.3) candidates.push({x: clickX - 1, y: clickY - 1});
                if (fracX > 0.7 && fracY < 0.3) candidates.push({x: clickX + 1, y: clickY - 1});
                if (fracX < 0.3 && fracY > 0.7) candidates.push({x: clickX - 1, y: clickY + 1});
                if (fracX > 0.7 && fracY > 0.7) candidates.push({x: clickX + 1, y: clickY + 1});

                // Find first valid candidate
                for (const c of candidates) {
                    if (inBounds(c.x, c.y) &&
                        gameState.explored[c.y]?.[c.x] &&
                        gameState.map[c.y][c.x] !== TILE.WALL) {
                        clickX = c.x;
                        clickY = c.y;
                        break;
                    }
                }
            }

            const dx = clickX - gameState.player.x;
            const dy = clickY - gameState.player.y;

            // Adjacent tile - move directly
            if (Math.abs(dx) <= 1 && Math.abs(dy) <= 1 && (dx !== 0 || dy !== 0)) {
                cancelPath();
                tryMove(dx, dy);
                return;
            }

            // Clicked on self - wait in place (still triggers decay!)
            if (dx === 0 && dy === 0) {
                waitTurn();
                return;
            }

            // Distant tile - pathfinding
            // Check if clicking same target as pending (execute it)
            if (gameState.pendingTarget &&
                gameState.pendingTarget.x === clickX &&
                gameState.pendingTarget.y === clickY) {
                executePendingPath();
                return;
            }

            // Calculate new path
            const path = findPath(gameState.player.x, gameState.player.y, clickX, clickY);
            if (path && path.length > 0) {
                gameState.pendingPath = path;
                gameState.pendingTarget = { x: clickX, y: clickY };
                addMessage(`Path to (${clickX},${clickY}) - ${path.length} steps. Click again or Enter to travel.`, 'path');
                render();
            } else {
                gameState.pendingPath = null;
                gameState.pendingTarget = null;
                addMessage("No path to that location.", 'warn');
                render();
            }
        });

        // Mouse hover for tile info tooltip
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            const tileX = Math.floor((e.clientX - rect.left) * scaleX / CONFIG.tileSize);
            const tileY = Math.floor((e.clientY - rect.top) * scaleY / CONFIG.tileSize);

            if (!inBounds(tileX, tileY) || !gameState.explored[tileY]?.[tileX]) {
                tooltip.style.display = 'none';
                return;
            }

            const tile = gameState.map[tileY][tileX];
            const decay = gameState.decay[tileY]?.[tileX] ?? 0;
            const isAwakened = gameState.awakened[tileY]?.[tileX];
            const hasPillar = isPillarAt(tileX, tileY);
            const hasCrystal = gameState.crystals.some(c => c.x === tileX && c.y === tileY && !c.collected && !c.destroyed);

            let info = `(${tileX}, ${tileY}) `;

            if (tile === TILE.VOID) {
                info += 'Void (collapsed)';
            } else if (tile === TILE.WALL) {
                info += 'Wall';
            } else if (hasPillar) {
                info += 'Pillar (immune to decay)';
            } else if (tile === TILE.STAIRS_DOWN) {
                if (isAwakened && decay > 0) {
                    info += `Stairs ‚Äî collapses in ${decay} turns`;
                } else {
                    info += 'Stairs (stable)';
                }
            } else {
                if (isAwakened && decay > 0) {
                    if (decay <= 3) {
                        info += `Floor ‚Äî DANGER: collapses in ${decay} turn${decay > 1 ? 's' : ''}`;
                    } else {
                        info += `Floor ‚Äî collapses in ${decay} turns`;
                    }
                } else if (!isAwakened) {
                    info += 'Floor (dormant)';
                } else {
                    info += 'Floor';
                }
            }

            // Frozen status
            const isFrozen = gameState.frozenTiles.some(f => f.x === tileX && f.y === tileY);
            if (isFrozen) {
                const ft = gameState.frozenTiles.find(f => f.x === tileX && f.y === tileY);
                info += ` [frozen: ${ft.turnsRemaining}t]`;
            }

            // Seeker trail
            if (gameState.seekerTrail.has(coordIdx(tileX, tileY))) {
                info += ' [seeker trail: immune]';
            }

            if (hasCrystal) info += ' + Crystal';
            const hasGrapple = (gameState.grappleItems || []).some(g => g.x === tileX && g.y === tileY && !g.collected);
            if (hasGrapple) info += ' + Grapple Hook';

            // Check for enemy
            const enemy = gameState.enemies.find(en => en.x === tileX && en.y === tileY);
            if (enemy) {
                if (enemy.type === 'crawler') {
                    info += ' | CRAWLER ‚Äî damages tiles it walks on';
                } else if (enemy.type === 'mender') {
                    info += ' | MENDER ‚Äî heals tiles it walks on';
                } else if (enemy.type === 'seeker') {
                    const distToPlayer = Math.max(Math.abs(enemy.x - gameState.player.x), Math.abs(enemy.y - gameState.player.y));
                    info += distToPlayer <= 8 ?
                        ' | SEEKER ‚Äî PURSUING! Decays area, leaves stable trail' :
                        ' | SEEKER ‚Äî dormant, pursues within 8 tiles';
                }
            }

            if (tileX === gameState.player.x && tileY === gameState.player.y) {
                info += ' | You';
            }

            tooltip.textContent = info;
            tooltip.style.display = 'block';
            tooltip.style.left = (e.clientX + 12) + 'px';
            tooltip.style.top = (e.clientY + 12) + 'px';
        });

        canvas.addEventListener('mouseleave', () => {
            tooltip.style.display = 'none';
        });

        // ============ ANALYSIS & BOT TESTING ============

        // Analysis mode: expose full game state for Claude-steered playtesting
        function getFullGameState() {
            const state = {
                level: gameState.level,
                moves: gameState.moves,
                player: { ...gameState.player },
                stairsX: gameState.stairsX,
                stairsY: gameState.stairsY,
                stabilizerCharges: gameState.stabilizerCharges,
                crystalsCollected: gameState.crystalsCollected,
                crystalsTotal: gameState.crystals.filter(c => !c.destroyed).length,
                decayEnabled: gameState.decayEnabled,
                // All decay timers (not just visible)
                decayMap: gameState.decay.map(row => [...row]),
                awakenedMap: gameState.awakened.map(row => [...row]),
                // Valid moves from current position
                validMoves: getValidMoves(),
                // Path to stairs
                pathToStairs: findPathOmniscient(gameState.player.x, gameState.player.y, gameState.stairsX, gameState.stairsY),
                // Crystals with positions
                crystals: gameState.crystals.filter(c => !c.collected && !c.destroyed).map(c => ({
                    x: c.x, y: c.y,
                    decay: gameState.decay[c.y]?.[c.x] || 0,
                    awakened: gameState.awakened[c.y]?.[c.x] || false
                })),
                // Pillars
                pillars: gameState.pillars.map(p => ({ x: p.x, y: p.y })),
                // Frozen tiles
                frozenTiles: gameState.frozenTiles.map(f => ({ ...f }))
            };
            return state;
        }

        function getValidMoves() {
            const moves = [];
            const dirs = [
                { dx: 0, dy: -1, name: 'N' },
                { dx: 1, dy: -1, name: 'NE' },
                { dx: 1, dy: 0, name: 'E' },
                { dx: 1, dy: 1, name: 'SE' },
                { dx: 0, dy: 1, name: 'S' },
                { dx: -1, dy: 1, name: 'SW' },
                { dx: -1, dy: 0, name: 'W' },
                { dx: -1, dy: -1, name: 'NW' }
            ];
            for (const dir of dirs) {
                const nx = gameState.player.x + dir.dx;
                const ny = gameState.player.y + dir.dy;
                if (!inBounds(nx, ny)) continue;
                if (gameState.map[ny][nx] === TILE.WALL || gameState.map[ny][nx] === TILE.VOID) continue;

                // Check if pushable pillar (can push if tile behind is walkable)
                let isPush = false;
                if (isPillarAt(nx, ny)) {
                    const behindX = nx + dir.dx;
                    const behindY = ny + dir.dy;
                    if (!inBounds(behindX, behindY) ||
                        gameState.map[behindY][behindX] === TILE.WALL ||
                        gameState.map[behindY][behindX] === TILE.VOID ||
                        isPillarAt(behindX, behindY)) continue;
                    isPush = true;
                }
                {
                    const decay = gameState.decay[ny]?.[nx] || 0;
                    const awakened = gameState.awakened[ny]?.[nx] || false;
                    moves.push({
                        dir: dir.name,
                        dx: dir.dx,
                        dy: dir.dy,
                        targetX: nx,
                        targetY: ny,
                        decay: decay,
                        awakened: awakened,
                        hasCrystal: gameState.crystals.some(c => c.x === nx && c.y === ny && !c.collected && !c.destroyed),
                        isStairs: gameState.map[ny][nx] === TILE.STAIRS_DOWN,
                        isPush
                    });
                }
            }
            return moves;
        }

        // Analyze current position: what are the best moves?
        function analyzePosition() {
            const state = getFullGameState();
            const analysis = {
                state: state,
                urgentTiles: [],  // Tiles about to collapse
                recommendations: []
            };

            // Find tiles with decay <= 3 that are awakened
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    const decay = gameState.decay[y]?.[x] || 0;
                    const awakened = gameState.awakened[y]?.[x] || false;
                    if (awakened && decay > 0 && decay <= 3) {
                        const dist = Math.abs(x - gameState.player.x) + Math.abs(y - gameState.player.y);
                        analysis.urgentTiles.push({ x, y, decay, distance: dist });
                    }
                }
            }
            analysis.urgentTiles.sort((a, b) => a.decay - b.decay);

            // Check if player is on urgent tile
            const playerDecay = gameState.decay[gameState.player.y]?.[gameState.player.x] || 0;
            if (playerDecay > 0 && playerDecay <= 3) {
                analysis.recommendations.push(`WARNING: Standing on tile with ${playerDecay} turns left!`);
            }

            // Check path to stairs
            if (state.pathToStairs) {
                analysis.recommendations.push(`Path to stairs: ${state.pathToStairs.length} moves`);
            } else {
                analysis.recommendations.push(`WARNING: No path to stairs!`);
            }

            return analysis;
        }

        // ============ BOT FRAMEWORK ============

        const botStats = {
            gamesPlayed: 0,
            wins: 0,
            deaths: 0,
            totalMoves: 0,
            totalLevelsReached: 0,
            crystalsCollected: 0,
            stabilizersUsed: 0
        };

        // Random bot: picks random valid move
        function randomBotMove() {
            const moves = getValidMoves();
            if (moves.length === 0) return null;
            return moves[Math.floor(Math.random() * moves.length)];
        }

        // Greedy bot: always moves toward stairs, uses stabilizer when decay <= 3
        // Track last position for anti-oscillation
        let greedyLastPos = null;

        // Robust greedy baseline (per ChatGPT): compass-following, no thrash
        function greedyBotMove() {
            const state = getFullGameState();
            const px = gameState.player.x;
            const py = gameState.player.y;

            // If on stairs, descend
            if (gameState.map[py][px] === TILE.STAIRS_DOWN) {
                return { action: 'descend' };
            }

            // Use stabilizer only if standing on critically low decay (‚â§2)
            const playerDecay = gameState.decay[py]?.[px] || 0;
            if (playerDecay > 0 && playerDecay <= 2 && gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown === 0) {
                return { action: 'stabilize' };
            }

            // Find path to stairs on currently traversable tiles
            const path = state.pathToStairs;
            if (path && path.length > 0) {
                const next = path[0];
                const dx = next.x - px;
                const dy = next.y - py;

                // Anti-oscillation: forbid immediate backtrack unless:
                // 1. It reduces path length, or
                // 2. The forward tile is danger (decay ‚â§ 1)
                if (greedyLastPos && next.x === greedyLastPos.x && next.y === greedyLastPos.y) {
                    const nextDecay = gameState.decay[next.y]?.[next.x] || 0;
                    // Only allow backtrack if forward tile is dangerous
                    if (nextDecay > 1) {
                        // Try to find alternative move that makes progress
                        // Actually find the BEST alternative (shortest remaining path)
                        let bestAlt = null;
                        let bestLen = Infinity;

                        for (const m of state.validMoves) {
                            // Skip the backtrack tile
                            if (m.targetX === greedyLastPos.x && m.targetY === greedyLastPos.y) continue;

                            const altPath = findPathOmniscient(m.targetX, m.targetY, gameState.stairsX, gameState.stairsY);
                            if (!altPath) continue;

                            // Only consider alternatives that strictly improve or match
                            if (altPath.length < bestLen) {
                                bestLen = altPath.length;
                                bestAlt = m;
                            }
                        }

                        if (bestAlt) {
                            greedyLastPos = { x: px, y: py };
                            return { action: 'move', dx: bestAlt.dx, dy: bestAlt.dy };
                        }
                    }
                }

                // Normal move along path
                greedyLastPos = { x: px, y: py };
                return { action: 'move', dx, dy };
            }

            // No path - try grapple as emergency escape
            if (gameState.grappleCharges > 0) {
                // Find the tile closest to stairs that we can grapple to
                let bestTarget = null;
                let bestDist = Infinity;
                const sx = gameState.stairsX, sy = gameState.stairsY;
                for (let dy = -GRAPPLE_RANGE; dy <= GRAPPLE_RANGE; dy++) {
                    for (let dx = -GRAPPLE_RANGE; dx <= GRAPPLE_RANGE; dx++) {
                        const tx = px + dx, ty = py + dy;
                        if (!inBounds(tx, ty)) continue;
                        if (!canGrappleTo(tx, ty)) continue;
                        const d = Math.abs(tx - sx) + Math.abs(ty - sy);
                        if (d < bestDist) {
                            bestDist = d;
                            bestTarget = { x: tx, y: ty };
                        }
                    }
                }
                if (bestTarget) {
                    greedyLastPos = { x: px, y: py };
                    return { action: 'grapple', targetX: bestTarget.x, targetY: bestTarget.y };
                }
            }

            // No path and no grapple - genuine failure
            return null;
        }

        // ============ TACTICAL BOT V2: Plan Commitment + Resource Awareness ============
        // Key improvements from ChatGPT review:
        // 1. Plan commitment: cache path and follow it to reduce oscillation
        // 2. Scheduled stabilizer: plan stabilizer use at chokepoints ahead of time
        // 3. Crystal detours: collect crystals when path is unsafe and charges low
        // 4. Rest usage: wait in safe pockets to boost nearby decay

        // Tactical plan state (persists across moves)
        let tacticalPlan = {
            path: null,
            pathIndex: 0,
            target: 'stairs',
            createdAtMove: -1
        };

        function resetTacticalPlan() {
            tacticalPlan = {
                path: null,
                pathIndex: 0,
                target: 'stairs',
                createdAtMove: -1
            };
        }

        // Check if current path is still valid and safe
        function isPathStillValid(plan, px, py) {
            if (!plan.path || plan.path.length === 0) return false;

            // Find where we are in the path
            let onPath = false;
            for (let i = 0; i < plan.path.length; i++) {
                if (plan.path[i].x === px && plan.path[i].y === py) {
                    plan.pathIndex = i;
                    onPath = true;
                    break;
                }
            }
            if (!onPath) return false;

            // Check if next step is still walkable
            const nextIdx = plan.pathIndex + 1;
            if (nextIdx >= plan.path.length) return true; // At end of path

            const next = plan.path[nextIdx];
            const tile = gameState.map[next.y]?.[next.x];
            if (tile === TILE.WALL || tile === TILE.VOID) return false;

            // Check if next step would be suicidal (decay <= 1 and awakened)
            const decay = gameState.decay[next.y]?.[next.x];
            const awakened = gameState.awakened[next.y]?.[next.x];
            if (awakened && decay !== undefined && decay <= 1) return false;

            return true;
        }

        function tacticalBotMove() {
            const px = gameState.player.x;
            const py = gameState.player.y;

            // Descend if on stairs
            if (gameState.map[py][px] === TILE.STAIRS_DOWN) {
                resetTacticalPlan();
                return { action: 'descend' };
            }

            // Emergency stabilize if current tile is collapsing soon
            const hereDecay = gameState.decay[py]?.[px] || 0;
            if (hereDecay > 0 && hereDecay <= 2 && gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown === 0) {
                return { action: 'stabilize' };
            }

            // Check if current plan is still valid
            const planValid = isPathStillValid(tacticalPlan, px, py);

            // Replan if needed
            if (!planValid) {
                // Use omniscient shortest path (room-aware was making things worse by picking longer paths)
                // Room types create skill gap via decay modifiers, not via pathfinding
                const omniPath = findPathOmniscient(px, py, gameState.stairsX, gameState.stairsY);
                // Annotate with decay predictions
                const awakenRadius = 6;
                const stairsPath = omniPath ? {
                    path: omniPath.map((p, i) => {
                        const currentDecay = gameState.decay[p.y]?.[p.x] ?? 0;
                        const isAwakened = !!gameState.awakened[p.y]?.[p.x];
                        const ticks = isAwakened ? i : Math.min(i, awakenRadius + 1);
                        return {...p, arrivalDecay: currentDecay - ticks};
                    }),
                    totalRisk: 0
                } : null;

                let target = 'stairs';
                let chosenPath = stairsPath;

                if (!chosenPath) {
                    // Fall back to greedy if no safe path
                    return greedyBotMove();
                }

                // Create new plan
                tacticalPlan = {
                    path: chosenPath.path,
                    pathIndex: 0,
                    target,
                    createdAtMove: gameState.moves
                };
            }

            // Follow the path
            const nextIdx = tacticalPlan.pathIndex + 1;
            if (nextIdx < tacticalPlan.path.length) {
                const next = tacticalPlan.path[nextIdx];
                const dx = next.x - px;
                const dy = next.y - py;

                // Sanity check: only move if adjacent
                if (Math.abs(dx) <= 1 && Math.abs(dy) <= 1) {
                    tacticalPlan.pathIndex = nextIdx;
                    return { action: 'move', dx, dy };
                }
            }

            // If we're at end of crystal path, switch to stairs target and replan
            if (tacticalPlan.target === 'crystal') {
                // Replan to stairs (don't recurse - just set up for next turn)
                const stairsPath = findPathDecayWeighted(px, py, gameState.stairsX, gameState.stairsY);
                if (stairsPath) {
                    tacticalPlan = {
                        path: stairsPath.path,
                        pathIndex: 0,
                        target: 'stairs',
                        createdAtMove: gameState.moves
                    };
                    // Follow first step of new plan
                    if (stairsPath.path.length > 1) {
                        const next = stairsPath.path[1];
                        const dx = next.x - px;
                        const dy = next.y - py;
                        if (Math.abs(dx) <= 1 && Math.abs(dy) <= 1) {
                            tacticalPlan.pathIndex = 1;
                            return { action: 'move', dx, dy };
                        }
                    }
                }
                // Fallback to greedy if replan failed
                return greedyBotMove();
            }

            // Fallback to greedy
            return greedyBotMove();
        }

        // ============ ORACLE BOT (Simulation-Based) ============
        // Flatten a 2D grid to a 1D typed array for fast cloning
        function flattenGridToTyped(grid, TypedArrayClass) {
            const h = grid.length, w = grid[0].length;
            const flat = new TypedArrayClass(h * w);
            for (let y = 0; y < h; y++) {
                const row = grid[y];
                const offset = y * w;
                for (let x = 0; x < w; x++) {
                    flat[offset + x] = row[x];
                }
            }
            return flat;
        }

        // Unflatten a 1D typed array back to 2D grid (for sim code that uses grid[y][x])
        function unflattenGrid(flat, w, h) {
            const grid = [];
            for (let y = 0; y < h; y++) {
                const row = [];
                const offset = y * w;
                for (let x = 0; x < w; x++) {
                    row[x] = flat[offset + x];
                }
                grid[y] = row;
            }
            return grid;
        }

        // Clones game state for simulation ‚Äî 2D arrays via flatten/unflatten
        function cloneStateForSimulation() {
            const w = CONFIG.mapWidth, h = CONFIG.mapHeight;
            return {
                map: unflattenGrid(flattenGridToTyped(gameState.map, Int8Array), w, h),
                decay: unflattenGrid(flattenGridToTyped(gameState.decay, Int16Array), w, h),
                awakened: unflattenGrid(flattenGridToTyped(gameState.awakened, Uint8Array), w, h),
                player: { ...gameState.player },
                moves: gameState.moves,
                levelMoves: gameState.levelMoves,
                level: gameState.level,
                pillars: gameState.pillars.map(p => ({ ...p })),
                crystals: gameState.crystals.map(c => ({ ...c })),
                crystalsCollected: gameState.crystalsCollected,
                stabilizerCharges: gameState.stabilizerCharges,
                stabilizerCooldown: gameState.stabilizerCooldown,
                frozenTiles: gameState.frozenTiles.map(f => ({ ...f })),
                graceTiles: gameState.graceTiles.map(g => ({ ...g })),
                enteredRooms: new Set(gameState.enteredRooms),
                consecutiveWaits: gameState.consecutiveWaits,
                restedTiles: new Set(gameState.restedTiles),
                stairsX: gameState.stairsX,
                stairsY: gameState.stairsY,
                rooms: gameState.rooms.map(r => ({ ...r })),
                awakenRadius: gameState.awakenRadius,
                decayEnabled: gameState.decayEnabled,
                grappleCharges: gameState.grappleCharges,
                grappleItems: gameState.grappleItems.map(g => ({ ...g })),
                stabilizerType: gameState.stabilizerType,
                enemies: gameState.enemies.map(e => ({ ...e })),
                seekerTrail: new Set(gameState.seekerTrail)
            };
        }

        // Deep clone an already-cloned sim state (for peek-before-stabilize)
        // Uses row-by-row .slice() for 2D array cloning
        function deepCloneSimState(state) {
            const h = state.map.length, w = state.map[0].length;
            const cloneGrid = (grid) => {
                const out = new Array(h);
                for (let y = 0; y < h; y++) out[y] = grid[y].slice();
                return out;
            };
            return {
                map: cloneGrid(state.map),
                decay: cloneGrid(state.decay),
                awakened: cloneGrid(state.awakened),
                player: { ...state.player },
                moves: state.moves,
                levelMoves: state.levelMoves,
                level: state.level,
                pillars: state.pillars.map(p => ({ ...p })),
                crystals: state.crystals.map(c => ({ ...c })),
                crystalsCollected: state.crystalsCollected,
                stabilizerCharges: state.stabilizerCharges,
                stabilizerCooldown: state.stabilizerCooldown,
                frozenTiles: state.frozenTiles.map(f => ({ ...f })),
                graceTiles: state.graceTiles.map(g => ({ ...g })),
                enteredRooms: new Set(state.enteredRooms),
                consecutiveWaits: state.consecutiveWaits,
                restedTiles: new Set(state.restedTiles),
                stairsX: state.stairsX,
                stairsY: state.stairsY,
                rooms: state.rooms.map(r => ({ ...r })),
                awakenRadius: state.awakenRadius,
                decayEnabled: state.decayEnabled,
                grappleCharges: state.grappleCharges || 0,
                grappleItems: (state.grappleItems || []).map(g => ({ ...g })),
                stabilizerType: state.stabilizerType || 'radial',
                enemies: (state.enemies || []).map(e => ({ ...e })),
                seekerTrail: new Set(state.seekerTrail || [])
            };
        }

        // Simulate awakening logic for a position in cloned state
        // Optimized: flat queue arrays, Uint8Array visited
        function simAwakenNearby(state) {
            const px = state.player.x;
            const py = state.player.y;
            const radius = state.awakenRadius;
            const width = CONFIG.mapWidth, height = CONFIG.mapHeight;

            // Room awakening at Level 3+
            if (state.level >= 3) {
                const roomIndex = simGetRoomIndexAt(state, px, py);
                if (roomIndex >= 0 && !state.enteredRooms.has(roomIndex)) {
                    simAwakenRoom(state, roomIndex, 2);
                    state.enteredRooms.add(roomIndex);
                }
            }

            // BFS awakening using flat arrays (no object allocation)
            const queueX = [px], queueY = [py], queueDist = [0];
            let head = 0;
            const visited = new Uint8Array(width * height);
            visited[py * width + px] = 1;

            const checkRoom = state.level >= 3;

            while (head < queueX.length) {
                const x = queueX[head], y = queueY[head], dist = queueDist[head];
                head++;

                const tile = state.map[y][x];
                if (tile !== TILE.WALL && tile !== TILE.VOID) {
                    let shouldAwaken = true;
                    if (checkRoom) {
                        const tileRoomIndex = simGetRoomIndexAt(state, x, y);
                        if (tileRoomIndex >= 0 && !state.enteredRooms.has(tileRoomIndex)) {
                            shouldAwaken = false;
                        }
                    }
                    if (shouldAwaken) {
                        state.awakened[y][x] = 1;
                    }
                }

                if (dist >= radius) continue;

                const nextDist = dist + 1;
                for (let ddy = -1; ddy <= 1; ddy++) {
                    for (let ddx = -1; ddx <= 1; ddx++) {
                        if (ddx === 0 && ddy === 0) continue;
                        const nx = x + ddx, ny = y + ddy;
                        if (nx < 0 || nx >= width || ny < 0 || ny >= height) continue;
                        const nidx = ny * width + nx;
                        if (visited[nidx]) continue;
                        const ntile = state.map[ny][nx];
                        if (ntile === TILE.WALL || ntile === TILE.VOID) continue;
                        if (simIsPillarAt(state, nx, ny)) continue;
                        visited[nidx] = 1;
                        queueX.push(nx);
                        queueY.push(ny);
                        queueDist.push(nextDist);
                    }
                }
            }
        }

        function simGetRoomIndexAt(state, x, y) {
            return getRoomIndexAt(x, y, state);
        }

        function simAwakenRoom(state, roomIndex, graceTurns) {
            if (roomIndex < 0 || roomIndex >= state.rooms.length) return;
            const room = state.rooms[roomIndex];
            for (let y = room.y; y < room.y + room.h; y++) {
                for (let x = room.x; x < room.x + room.w; x++) {
                    if (!inBounds(x, y)) continue;
                    if (state.map[y][x] === TILE.WALL || state.map[y][x] === TILE.VOID) continue;
                    if (!state.awakened[y][x]) {
                        state.awakened[y][x] = 1;
                        if (graceTurns > 0) {
                            const existing = state.graceTiles.find(g => g.x === x && g.y === y);
                            if (!existing) {
                                state.graceTiles.push({ x, y, turnsRemaining: graceTurns + 1 });
                            }
                        }
                    }
                }
            }
        }

        function simIsPillarAt(state, x, y) {
            return isPillarAt(x, y, state);
        }

        function simIsAdjacentToPillar(state, x, y) {
            return isAdjacentToPillar(x, y, state);
        }

        // Collapse a tile in simulation (marks crystals destroyed like real game)
        function simCollapseTile(state, x, y) {
            if (!inBounds(x, y)) return;
            if (state.map[y][x] === TILE.WALL || state.map[y][x] === TILE.VOID) return;

            state.map[y][x] = TILE.VOID;
            state.decay[y][x] = 0;

            // Mark any crystal at this location as destroyed (matching real game)
            for (const crystal of state.crystals) {
                if (crystal.x === x && crystal.y === y && !crystal.collected && !crystal.destroyed) {
                    crystal.destroyed = true;
                }
            }
        }

        // Process chain collapses using queue-based BFS (matching real game)
        function simProcessChainCollapses(state, collapsed) {
            const levelConfig = getLevelConfig(state.level);
            const toProcess = [...collapsed];
            let head = 0;
            const processed = new Set();

            // Build frozen set for fast lookup (safe bubble - frozen tiles immune to shock)
            const frozenSet = new Set(state.frozenTiles.map(f => coordIdx(f.x, f.y)));

            while (head < toProcess.length) {
                const { x, y } = toProcess[head++];
                const idx = coordIdx(x, y);
                if (processed.has(idx)) continue;
                processed.add(idx);

                // Damage adjacent tiles (4-directional like real game)
                const neighbors = [
                    { dx: -1, dy: 0 }, { dx: 1, dy: 0 },
                    { dx: 0, dy: -1 }, { dx: 0, dy: 1 }
                ];

                for (const { dx, dy } of neighbors) {
                    const nx = x + dx, ny = y + dy;
                    if (!inBounds(nx, ny)) continue;
                    if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) continue;
                    if (simIsPillarAt(state, nx, ny)) continue;

                    // Chain shock awakens dormant tiles (pressure propagates even to frozen tiles)
                    if (!state.awakened[ny][nx]) {
                        state.awakened[ny][nx] = 1;
                    }

                    // Safe bubble: frozen tiles immune to decay damage only (but still awaken)
                    const nidx = coordIdx(nx, ny);
                    if (frozenSet.has(nidx)) continue;

                    state.decay[ny][nx] -= levelConfig.chainCollapseAmount;

                    // If this caused a collapse, add to queue
                    if (state.decay[ny][nx] <= 0) {
                        simCollapseTile(state, nx, ny);
                        toProcess.push({ x: nx, y: ny });
                    }
                }
            }
        }

        // Simulate decay tick for cloned state
        // Optimized: Uint8Array for frozen/grace lookup, L2 half-rate skip
        function simProcessDecay(state) {
            if (!state.decayEnabled) return;

            if (state.stabilizerCooldown > 0) state.stabilizerCooldown--;

            if (state.level === 1) return;

            const halfRate = (state.level === 2);
            const width = CONFIG.mapWidth, height = CONFIG.mapHeight;
            const lm = state.levelMoves || state.moves;

            // Decrement frozen/grace tiles (always needed regardless of decay tick)
            for (let i = state.frozenTiles.length - 1; i >= 0; i--) {
                state.frozenTiles[i].turnsRemaining--;
                if (state.frozenTiles[i].turnsRemaining <= 0) state.frozenTiles.splice(i, 1);
            }
            for (let i = state.graceTiles.length - 1; i >= 0; i--) {
                state.graceTiles[i].turnsRemaining--;
                if (state.graceTiles[i].turnsRemaining <= 0) state.graceTiles.splice(i, 1);
            }

            // OPTIMIZATION: On L2, non-pillar tiles decay on even moves (mod2=0),
            // pillar-adjacent on mod4=0. Since mod4=0 implies mod2=0,
            // on odd moves NO tiles decay at all ‚Äî skip the grid scan.
            const moveMod2 = lm % 2;
            const moveMod4 = lm % 4;
            if (halfRate && moveMod2 !== 0) {
                return;
            }

            // Use Uint8Array for O(1) frozen/grace lookups (faster than Set)
            const frozenArr = new Uint8Array(width * height);
            for (const f of state.frozenTiles) frozenArr[f.y * width + f.x] = 1;
            const graceArr = new Uint8Array(width * height);
            for (const g of state.graceTiles) graceArr[g.y * width + g.x] = 1;

            const collapsed = [];
            for (let y = 0; y < height; y++) {
                const mapRow = state.map[y];
                const awakRow = state.awakened[y];
                const decRow = state.decay[y];
                const rowOff = y * width;
                for (let x = 0; x < width; x++) {
                    const tile = mapRow[x];
                    if (tile === TILE.WALL || tile === TILE.VOID) continue;
                    if (!awakRow[x]) continue;
                    if (simIsPillarAt(state, x, y)) continue;
                    const idx = rowOff + x;
                    if (frozenArr[idx]) continue;
                    if (graceArr[idx]) continue;
                    if (state.seekerTrail && state.seekerTrail.has(idx)) continue;

                    const adjacentToPillar = simIsAdjacentToPillar(state, x, y);
                    let shouldDecay = true;
                    if (halfRate && adjacentToPillar) {
                        shouldDecay = (moveMod4 === 0);
                    } else if (halfRate) {
                        shouldDecay = (moveMod2 === 0);
                    } else if (adjacentToPillar) {
                        shouldDecay = (moveMod4 === 0);
                    }

                    if (shouldDecay) decRow[x]--;
                    if (decRow[x] <= 0) collapsed.push({ x, y });
                }
            }

            // Process collapses using simCollapseTile (marks crystals destroyed)
            for (const tile of collapsed) {
                simCollapseTile(state, tile.x, tile.y);
            }

            // Full chain collapse propagation (matching real game)
            if (collapsed.length > 0) {
                simProcessChainCollapses(state, collapsed);
            }
        }

        // Lightweight sim move for peek-ahead checks (skips enemy movement)
        // Only used to check if player would die from a move ‚Äî doesn't need enemy sim
        function simMoveLite(state, dx, dy) {
            const nx = state.player.x + dx;
            const ny = state.player.y + dy;

            if (!inBounds(nx, ny)) return false;
            if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) return false;
            if (simIsPillarAt(state, nx, ny)) return false; // Simplified: don't bother with push in peek

            state.player.x = nx;
            state.player.y = ny;
            state.moves++;
            state.levelMoves++;

            simAwakenNearby(state);
            simProcessDecay(state);
            // Skip processEnemyMoves ‚Äî not needed for death check

            return state.map[state.player.y][state.player.x] !== TILE.VOID;
        }

        // Simulate a single move in cloned state
        // Returns true if survived, false if died
        function simMove(state, dx, dy) {
            const nx = state.player.x + dx;
            const ny = state.player.y + dy;

            if (!inBounds(nx, ny)) return false;
            if (state.map[ny][nx] === TILE.WALL || state.map[ny][nx] === TILE.VOID) return false;

            // Pillar push in sim
            if (simIsPillarAt(state, nx, ny)) {
                const behindX = nx + dx;
                const behindY = ny + dy;
                if (!inBounds(behindX, behindY)) return false;
                if (state.map[behindY][behindX] === TILE.WALL ||
                    state.map[behindY][behindX] === TILE.VOID ||
                    simIsPillarAt(state, behindX, behindY)) {
                    return false; // Can't push
                }
                const pillar = state.pillars.find(p => p.x === nx && p.y === ny);
                pillar.x = behindX;
                pillar.y = behindY;
            }

            // Move player
            state.player.x = nx;
            state.player.y = ny;
            state.moves++;
            state.levelMoves++;
            state.consecutiveWaits = 0;

            // Collect crystal
            for (const crystal of state.crystals) {
                if (crystal.x === nx && crystal.y === ny && !crystal.collected && !crystal.destroyed) {
                    crystal.collected = true;
                    state.crystalsCollected++;
                    state.stabilizerCharges++;
                }
            }

            // Collect grapple item
            if (state.grappleItems) {
                for (const g of state.grappleItems) {
                    if (g.x === nx && g.y === ny && !g.collected) {
                        g.collected = true;
                        state.grappleCharges = (state.grappleCharges || 0) + 1;
                    }
                }
            }

            // Enemy collision: decay burst if player walks onto enemy
            if (state.enemies) {
                const hitEnemy = state.enemies.find(e => e.x === nx && e.y === ny);
                if (hitEnemy) {
                    applyEnemyCollisionBurst(nx, ny, state);
                    simProcessChainCollapses(state, []);
                }
            }

            // Awaken nearby
            simAwakenNearby(state);

            // Process decay
            simProcessDecay(state);

            // Move enemies in sim
            processEnemyMoves(state);

            // Check if player died
            if (state.map[state.player.y][state.player.x] === TILE.VOID) {
                return false;
            }

            return true;
        }

        // Simulate using stabilizer (BFS matching real game)
        function simUseStabilizer(state) {
            if (state.stabilizerCharges <= 0 || state.stabilizerCooldown > 0) return false;

            const levelConfig = getLevelConfig(state.level);
            const px = state.player.x, py = state.player.y;
            const canRefresh = levelConfig.stabilizerCanRefresh;
            const stabType = state.stabilizerType || 'radial';
            const baseDuration = levelConfig.stabilizerDuration;
            const duration = stabType === 'blast' ? Math.max(2, Math.floor(baseDuration / 2)) : baseDuration;

            const tilesToFreeze = getStabilizerTiles(px, py, stabType, state);
            for (const { x, y } of tilesToFreeze) {
                const existing = state.frozenTiles.find(f => f.x === x && f.y === y);
                if (existing) {
                    if (canRefresh) existing.turnsRemaining = duration;
                } else {
                    state.frozenTiles.push({ x, y, turnsRemaining: duration });
                }
            }

            state.stabilizerCharges--;
            state.stabilizerCooldown = levelConfig.stabilizerCooldown;
            state.moves++;
            state.levelMoves++;

            simAwakenNearby(state);
            simProcessDecay(state);
            processEnemyMoves(state);

            return state.map[state.player.y][state.player.x] !== TILE.VOID;
        }

        // Simulate an entire path using NECESSITY-DRIVEN stabilization.
        // Only stabilize if the next move would kill us - matches greedy's conservative approach.
        // stabilizeNow flag tells oracleBotMove what action to take this turn.
        function simulatePath(path, useStabilizers = true, horizon = null, grappleFirst = null, proactiveStabilize = false) {
            const state = cloneStateForSimulation();

            const startCharges = state.stabilizerCharges;
            const startCrystals = state.crystalsCollected;
            let minSlack = Infinity;
            let stepsSurvived = 0;

            // ACTION SCRIPT: Record sequence of actions (moves + stabilizers)
            const actionScript = [];

            // Helper: Chebyshev distance to stairs (matches 8-dir movement cost)
            const distToStairs = () =>
                Math.max(Math.abs(state.player.x - state.stairsX), Math.abs(state.player.y - state.stairsY));

            // GRAPPLE-FIRST: Execute grapple as first action before walking
            if (grappleFirst) {
                const gOk = simUseGrapple(state, grappleFirst.targetX, grappleFirst.targetY);
                if (!gOk) {
                    return {
                        survived: false, stepsSurvived: 0,
                        minSlack: 0,
                        chargesUsed: startCharges - state.stabilizerCharges,
                        chargesLeft: state.stabilizerCharges + (state.grappleCharges || 0),
                        turns: state.moves, distToStairs: distToStairs(),
                        actionScript: [{ type: 'grapple', targetX: grappleFirst.targetX, targetY: grappleFirst.targetY }]
                    };
                }
                actionScript.push({ type: 'grapple', targetX: grappleFirst.targetX, targetY: grappleFirst.targetY });
                stepsSurvived++;
            }

            // HORIZON LIMITING: Only simulate up to horizon steps (saves clones on long paths)
            const maxSteps = horizon !== null ? Math.min(horizon, path.length) : path.length;

            for (let i = 0; i < maxSteps; i++) {
                const step = path[i];
                const dx = step.x - state.player.x;
                const dy = step.y - state.player.y;

                const hereDecay = state.decay[state.player.y][state.player.x];
                if (hereDecay > 0) minSlack = Math.min(minSlack, hereDecay);

                // PROACTIVE STABILIZATION (when enabled): stabilize at decay‚â§2 with ‚â•2 charges
                const hereAwakened = state.awakened[state.player.y][state.player.x];
                if (proactiveStabilize && useStabilizers && hereAwakened && hereDecay > 0 &&
                    hereDecay <= 2 && state.stabilizerCharges >= 2 && state.stabilizerCooldown === 0) {
                    actionScript.push({ type: 'stabilize', expectX: state.player.x, expectY: state.player.y });
                    if (!simUseStabilizer(state)) {
                        return {
                            survived: false, stepsSurvived,
                            minSlack: minSlack === Infinity ? 0 : minSlack,
                            chargesUsed: startCharges - state.stabilizerCharges,
                            chargesLeft: state.stabilizerCharges + (state.grappleCharges || 0), crystalsCollected: state.crystalsCollected - startCrystals,
                            turns: state.moves, distToStairs: distToStairs(), actionScript
                        };
                    }
                }

                // NECESSITY-DRIVEN STABILIZATION:
                // Only peek-clone when stabilization is possible AND danger is plausible
                const canStabilize = useStabilizers && state.stabilizerCharges > 0 && state.stabilizerCooldown === 0;
                let wouldSurvive;
                if (canStabilize) {
                    // OPTIMIZATION: Skip expensive peek clone when tiles are safe
                    // Only peek if current tile or target tile has low decay (danger of collapse)
                    const targetDecay = state.decay[step.y]?.[step.x] ?? 0;
                    const targetAwakened = state.awakened[step.y]?.[step.x] ?? false;
                    const needsPeek = (hereAwakened && hereDecay > 0 && hereDecay <= 4) ||
                                      (targetAwakened && targetDecay > 0 && targetDecay <= 4);
                    if (needsPeek) {
                        const peek = deepCloneSimState(state);
                        wouldSurvive = simMoveLite(peek, dx, dy);
                    } else {
                        wouldSurvive = true; // Safe tiles ‚Äî skip expensive peek
                    }
                } else {
                    wouldSurvive = true; // Skip peek ‚Äî can't stabilize anyway, just try the move
                }

                // If move would die AND we can stabilize, stabilize first
                if (!wouldSurvive) {
                    if (canStabilize) {
                        // Record stabilize action in script
                        actionScript.push({
                            type: 'stabilize',
                            expectX: state.player.x,
                            expectY: state.player.y
                        });

                        if (!simUseStabilizer(state)) {
                            return {
                                survived: false,
                                stepsSurvived,
                                minSlack: minSlack === Infinity ? 0 : minSlack,
                                chargesUsed: startCharges - state.stabilizerCharges,
                                chargesLeft: state.stabilizerCharges + (state.grappleCharges || 0),
                                turns: state.moves,
                                distToStairs: distToStairs(),
                                actionScript
                            };
                        }
                    } else {
                        // Can't stabilize and move would die - path is dead
                        return {
                            survived: false,
                            stepsSurvived,
                            minSlack: minSlack === Infinity ? 0 : minSlack,
                            chargesUsed: startCharges - state.stabilizerCharges,
                            chargesLeft: state.stabilizerCharges + (state.grappleCharges || 0),
                            turns: state.moves,
                            distToStairs: distToStairs(),
                            actionScript
                        };
                    }
                }

                // Record move action in script BEFORE executing
                actionScript.push({
                    type: 'move',
                    dx: dx,
                    dy: dy,
                    targetX: step.x,
                    targetY: step.y
                });

                // 3) Execute the move on real sim state
                if (!simMove(state, dx, dy)) {
                    return {
                        survived: false,
                        stepsSurvived,
                        minSlack: minSlack === Infinity ? 0 : minSlack,
                        chargesUsed: startCharges - state.stabilizerCharges,
                        chargesLeft: state.stabilizerCharges + (state.grappleCharges || 0),
                        turns: state.moves,
                        distToStairs: distToStairs(),
                        actionScript
                    };
                }

                stepsSurvived++;
            }

            // Check final position slack
            const finalDecay = state.decay[state.player.y][state.player.x];
            if (finalDecay > 0) minSlack = Math.min(minSlack, finalDecay);

            // HORIZON LIMITING: Track whether we reached stairs vs survived to horizon
            const reachedStairs = state.player.x === state.stairsX && state.player.y === state.stairsY;
            const survivedToHorizon = !reachedStairs && stepsSurvived === maxSteps;

            return {
                survived: true,
                reachedStairs,
                survivedToHorizon,
                stepsSurvived,
                minSlack: minSlack === Infinity ? 0 : minSlack,
                chargesUsed: startCharges - state.stabilizerCharges,
                chargesLeft: state.stabilizerCharges + (state.grappleCharges || 0),
                crystalsCollected: state.crystalsCollected - startCrystals,
                turns: state.moves,
                distToStairs: distToStairs(),
                actionScript
            };
        }

        // Generate candidate paths (waypoint-based)
        // Chebyshev distance (matches 8-dir movement cost)
        function chebyshevDist(x1, y1, x2, y2) {
            return Math.max(Math.abs(x1 - x2), Math.abs(y1 - y2));
        }

        // OPTIMIZATION: Candidate path generation with waypoint capping
        // Cap waypoints by distance BEFORE calling A* to reduce expensive pathfinding
        function generateCandidatePaths() {
            const px = gameState.player.x;
            const py = gameState.player.y;
            const sx = gameState.stairsX;
            const sy = gameState.stairsY;
            const candidates = [];

            // Waypoint caps (tune these for speed vs quality tradeoff)
            const MAX_CRYSTALS = 4;      // Top-K nearest crystals
            const MAX_SAFE_ROOMS = 2;    // Top-K nearest safe rooms
            const MAX_PILLARS = 3;       // Top-K nearest pillars
            const MAX_TWO_WAYPOINT = 16; // Reduced from 50

            // Pre-compute BFS distance fields (replaces many A* calls)
            const stairsField = getStairsField(); // Cached by mapVersion
            const playerField = computeDistanceFieldFromPlayer();

            // 1. Direct path to stairs (always try this)
            const directPath = extractPathFromField(px, py, stairsField);
            if (directPath) {
                candidates.push({ type: 'direct', path: directPath });
            }

            // 1b. Decay-weighted path to stairs (avoids low-decay tiles)
            const decayWeightedPath = findPathDecayWeighted(px, py, sx, sy);
            if (decayWeightedPath && decayWeightedPath.length > 0) {
                candidates.push({ type: 'decay_weighted', path: decayWeightedPath });
            }

            // 1c. Directional diversity: step in each direction first, then path to stairs
            // This prevents the oracle from being stuck with only one corridor's worth of paths
            const dirDiversity = [
                { dx: 0, dy: -1 }, { dx: 1, dy: 0 }, { dx: 0, dy: 1 }, { dx: -1, dy: 0 },
                { dx: 1, dy: -1 }, { dx: 1, dy: 1 }, { dx: -1, dy: 1 }, { dx: -1, dy: -1 }
            ];
            for (const { dx, dy } of dirDiversity) {
                const nx = px + dx, ny = py + dy;
                if (!inBounds(nx, ny)) continue;
                const tile = gameState.map[ny][nx];
                if (tile === TILE.WALL || tile === TILE.VOID) continue;
                if (isPillarAt(nx, ny)) continue;
                const toStairs = extractPathFromField(nx, ny, stairsField);
                if (!toStairs) continue;
                // Only add if this path is meaningfully different from direct (first step differs)
                if (directPath && directPath[0] && directPath[0].x === nx && directPath[0].y === ny) continue;
                candidates.push({ type: `nudge_${dx}_${dy}`, path: [{ x: nx, y: ny }, ...toStairs] });
            }

            // 2. Paths via nearest uncollected crystals (capped)
            const availableCrystals = gameState.crystals
                .map((c, i) => ({ ...c, index: i }))
                .filter(c => !c.collected && !c.destroyed)
                .map(c => ({ ...c, dist: chebyshevDist(px, py, c.x, c.y) }))
                .sort((a, b) => a.dist - b.dist)
                .slice(0, MAX_CRYSTALS);

            for (const crystal of availableCrystals) {
                // Use BFS field for path from player to crystal
                const toCrystal = extractPathFromPlayerField(crystal.x, crystal.y, playerField, px, py);
                if (!toCrystal) continue;

                // Use BFS field for path from crystal to stairs
                const toStairs = extractPathFromField(crystal.x, crystal.y, stairsField);
                if (!toStairs) continue;

                const combined = [...toCrystal, ...toStairs];
                candidates.push({ type: `crystal_${crystal.index}`, path: combined });
            }

            // 3. Paths via nearest safe rooms (capped)
            const safeRooms = gameState.rooms
                .map((r, i) => ({
                    index: i,
                    cx: Math.floor(r.x + r.w / 2),
                    cy: Math.floor(r.y + r.h / 2),
                    dangerLevel: r.dangerLevel
                }))
                .filter(r => r.dangerLevel === ROOM_DANGER.SAFE)
                .map(r => ({ ...r, dist: chebyshevDist(px, py, r.cx, r.cy) }))
                .sort((a, b) => a.dist - b.dist)
                .slice(0, MAX_SAFE_ROOMS);

            for (const room of safeRooms) {
                // Use BFS field for path from player to room center
                const toRoom = extractPathFromPlayerField(room.cx, room.cy, playerField, px, py);
                if (!toRoom) continue;

                // Use BFS field for path from room to stairs
                const toStairs = extractPathFromField(room.cx, room.cy, stairsField);
                if (!toStairs) continue;

                const combined = [...toRoom, ...toStairs];
                candidates.push({ type: `safe_room_${room.index}`, path: combined });
            }

            // 4. Paths via nearest pillars (capped) - pillars provide continuous decay protection
            const nearbyPillars = gameState.pillars
                .map((p, i) => ({ ...p, index: i }))
                .map(p => ({ ...p, dist: chebyshevDist(px, py, p.x, p.y) }))
                .sort((a, b) => a.dist - b.dist)
                .slice(0, MAX_PILLARS);

            const neighbors8 = [
                { dx: -1, dy: -1 }, { dx: 0, dy: -1 }, { dx: 1, dy: -1 },
                { dx: -1, dy: 0 },                      { dx: 1, dy: 0 },
                { dx: -1, dy: 1 },  { dx: 0, dy: 1 },  { dx: 1, dy: 1 }
            ];

            for (const pillar of nearbyPillars) {
                // Collect valid adjacency options with their path lengths
                const pillarOptions = [];
                for (const { dx, dy } of neighbors8) {
                    const nx = pillar.x + dx, ny = pillar.y + dy;
                    if (!inBounds(nx, ny)) continue;
                    if (gameState.map[ny][nx] === TILE.WALL || gameState.map[ny][nx] === TILE.VOID) continue;

                    // Use BFS field for path from player to pillar-adjacent
                    const toPillar = extractPathFromPlayerField(nx, ny, playerField, px, py);
                    if (!toPillar) continue;

                    // Use BFS field for path from pillar-adjacent to stairs
                    const toStairs = extractPathFromField(nx, ny, stairsField);
                    if (!toStairs) continue;

                    const combined = [...toPillar, ...toStairs];
                    pillarOptions.push({ path: combined, length: combined.length });
                }

                // Keep best 2 options per pillar (sorted by path length)
                pillarOptions.sort((a, b) => a.length - b.length);
                for (let j = 0; j < Math.min(2, pillarOptions.length); j++) {
                    candidates.push({ type: `pillar_${pillar.index}_${j}`, path: pillarOptions[j].path });
                }
            }

            // 5. Two-waypoint paths (crystal‚Üípillar, pillar‚Üícrystal, etc.)
            // Build waypoint list from ALREADY CAPPED crystals and pillars
            const waypoints = [];

            // Use the already-filtered crystals
            for (const crystal of availableCrystals) {
                waypoints.push({ type: 'crystal', index: crystal.index, x: crystal.x, y: crystal.y });
            }

            // Use the already-filtered pillars (find adjacent walkable tile)
            for (const pillar of nearbyPillars) {
                for (const { dx, dy } of neighbors8) {
                    const nx = pillar.x + dx, ny = pillar.y + dy;
                    if (!inBounds(nx, ny)) continue;
                    if (gameState.map[ny][nx] === TILE.WALL || gameState.map[ny][nx] === TILE.VOID) continue;
                    waypoints.push({ type: 'pillar', index: pillar.index, x: nx, y: ny });
                    break;
                }
            }

            // Generate 2-waypoint combinations (reduced limit)
            let twoWaypointCount = 0;
            for (let i = 0; i < waypoints.length && twoWaypointCount < MAX_TWO_WAYPOINT; i++) {
                for (let j = 0; j < waypoints.length && twoWaypointCount < MAX_TWO_WAYPOINT; j++) {
                    if (i === j) continue;

                    const wp1 = waypoints[i];
                    const wp2 = waypoints[j];

                    // Skip if same location
                    if (wp1.x === wp2.x && wp1.y === wp2.y) continue;

                    // Path: player ‚Üí wp1 ‚Üí wp2 ‚Üí stairs
                    // Use BFS field for path from player to wp1
                    const toWp1 = extractPathFromPlayerField(wp1.x, wp1.y, playerField, px, py);
                    if (!toWp1) continue;

                    // Keep A* for wp1 ‚Üí wp2 (would need separate BFS per wp1)
                    const toWp2 = findPathOmniscient(wp1.x, wp1.y, wp2.x, wp2.y);
                    if (!toWp2) continue;

                    // Use BFS field for path from wp2 to stairs
                    const toStairs = extractPathFromField(wp2.x, wp2.y, stairsField);
                    if (!toStairs) continue;

                    const combined = [...toWp1, ...toWp2, ...toStairs];
                    candidates.push({
                        type: `2wp_${wp1.type}${wp1.index}_${wp2.type}${wp2.index}`,
                        path: combined
                    });
                    twoWaypointCount++;
                }
            }

            // 6. Room-aware path (avoids CRITICAL rooms, prefers SAFE)
            const roomAwareResult = findPathRoomAware(px, py, sx, sy);
            if (roomAwareResult && roomAwareResult.path) {
                candidates.push({ type: 'room_aware', path: roomAwareResult.path });
            }

            // 7. Grapple-first paths: grapple to target, then walk to stairs
            // On L2-L3, only consider grapple if we have 2+ charges (save 1 for emergencies)
            const grappleThreshold = gameState.level <= 3 ? 2 : 1;
            if (gameState.grappleCharges >= grappleThreshold) {
                const MAX_GRAPPLE_TARGETS = 6;
                const grappleOptions = [];

                for (let gdy = -GRAPPLE_RANGE; gdy <= GRAPPLE_RANGE; gdy++) {
                    for (let gdx = -GRAPPLE_RANGE; gdx <= GRAPPLE_RANGE; gdx++) {
                        const tx = px + gdx, ty = py + gdy;
                        if (!inBounds(tx, ty)) continue;
                        if (!canGrappleTo(tx, ty)) continue;

                        // Path from grapple target to stairs using BFS field
                        const toStairs = extractPathFromField(tx, ty, stairsField);
                        if (!toStairs) continue;

                        grappleOptions.push({
                            targetX: tx, targetY: ty,
                            path: toStairs,
                            totalDist: toStairs.length
                        });
                    }
                }

                // Keep best N by total distance
                grappleOptions.sort((a, b) => a.totalDist - b.totalDist);
                for (let gi = 0; gi < Math.min(MAX_GRAPPLE_TARGETS, grappleOptions.length); gi++) {
                    const go = grappleOptions[gi];
                    candidates.push({
                        type: `grapple_${gi}`,
                        path: go.path,
                        grappleFirst: { targetX: go.targetX, targetY: go.targetY }
                    });
                }
            }

            // 8. Paths via grapple items (collect grapple charges for later use)
            // Consider on L2+ where grapple items are placed
            if (gameState.level >= 2) {
                const directDist = directPath ? directPath.length : Infinity;
                const uncollectedGrappleItems = (gameState.grappleItems || [])
                    .filter(g => !g.collected)
                    .map(g => ({ ...g, dist: chebyshevDist(px, py, g.x, g.y) }))
                    .sort((a, b) => a.dist - b.dist)
                    .slice(0, 4);

                for (const gItem of uncollectedGrappleItems) {
                    const toItem = extractPathFromPlayerField(gItem.x, gItem.y, playerField, px, py);
                    if (!toItem) continue;
                    const toStairs = extractPathFromField(gItem.x, gItem.y, stairsField);
                    if (!toStairs) continue;
                    const combined = [...toItem, ...toStairs];
                    // Skip if detour is too costly (more than 2x direct path)
                    if (directDist < Infinity && combined.length > directDist * 2 + 6) continue;
                    candidates.push({ type: `grapple_item_${gItem.x}_${gItem.y}`, path: combined });
                }
            }

            return candidates;
        }

        // Compare two simulation results - best-first comparator
        // Order: survived > reachedStairs > distToStairs (if horizon-limited) > stepsSurvived > minSlack > chargesLeft > -turns
        function comparePlanResults(a, b) {
            // 1. Survivors first
            if (a.survived !== b.survived) return a.survived ? -1 : 1;

            // 2. If both die: die later is better, then be closer to stairs
            if (!a.survived && !b.survived) {
                const aSteps = a.stepsSurvived ?? 0;
                const bSteps = b.stepsSurvived ?? 0;
                if (aSteps !== bSteps) return bSteps - aSteps; // Higher steps = better

                const aDist = a.distToStairs ?? Infinity;
                const bDist = b.distToStairs ?? Infinity;
                if (aDist !== bDist) return aDist - bDist; // Lower dist = better (closer to stairs)
            }

            // 3. HORIZON LIMITING: If both survive, prefer reaching stairs over surviving to horizon
            const aReached = a.reachedStairs ?? false;
            const bReached = b.reachedStairs ?? false;
            if (aReached !== bReached) return aReached ? -1 : 1;

            // 4. If neither reached stairs (both survivedToHorizon), prefer closer to stairs
            if (!aReached && !bReached) {
                const aDist = a.distToStairs ?? Infinity;
                const bDist = b.distToStairs ?? Infinity;
                if (aDist !== bDist) return aDist - bDist; // Lower dist = better
            }

            // 5. More charges remaining is better (crystals ‚Üí stabilizers ‚Üí survival)
            if (a.chargesLeft !== b.chargesLeft) return b.chargesLeft - a.chargesLeft;

            // 6. If both survive (or still tied): prefer safer slack
            if (a.minSlack !== b.minSlack) return b.minSlack - a.minSlack;

            // 7. Fewer turns is better (faster)
            return a.turns - b.turns;
        }

        // Anti-oscillation state for oracle bot
        let oracleLastPos = null;
        // Rewind loop detection: avoid paths through tiles that caused rewinds
        let oracleBannedTiles = new Set(); // coordIdx values to avoid
        let oracleLastRewindPos = null;    // Last position before rewind
        let oracleRewindStreak = 0;        // Consecutive rewinds from same area

        // PLAN COMMITMENT: Cache expensive path calculations (ACTION SCRIPTS)
        // Action script format: [{type: 'move', dx, dy, targetX, targetY}, {type: 'stabilize', expectX, expectY}, ...]
        let oracleCachedPlan = null;      // The action script (not just path coordinates)
        let oraclePlanStep = 0;            // Current step in cached plan
        let oraclePlanLevel = -1;          // Level when plan was made
        let oraclePlanMapVersion = -1;     // mapVersion when plan was made
        let oraclePlanStepsSincePlan = 0;  // Steps executed since plan was made
        const ORACLE_MAX_PLAN_STEPS = 10;  // Force replan after this many steps (increased from 6 for better performance)
        let ORACLE_SIM_HORIZON = 40;       // Limit simulation depth (mutable for horizon sweep)

        // STAIRS FIELD CACHING: Cache BFS distance field until map changes
        let cachedStairsField = null;
        let cachedStairsFieldMapVersion = -1;
        let cachedStairsFieldLevel = -1;

        function getStairsField() {
            if (cachedStairsField &&
                cachedStairsFieldMapVersion === gameState.mapVersion &&
                cachedStairsFieldLevel === gameState.level) {
                return cachedStairsField;
            }
            cachedStairsField = computeDistanceFieldToStairs();
            cachedStairsFieldMapVersion = gameState.mapVersion;
            cachedStairsFieldLevel = gameState.level;
            return cachedStairsField;
        }

        // Check if cached plan is still valid
        function isOraclePlanValid() {
            // No plan cached
            if (!oracleCachedPlan || oracleCachedPlan.length === 0) return false;

            // No more steps in plan
            if (oraclePlanStep >= oracleCachedPlan.length) return false;

            // Level changed - invalidate
            if (oraclePlanLevel !== gameState.level) return false;

            // Force replan after N steps (safety - ensures we reconsider periodically)
            if (oraclePlanStepsSincePlan >= ORACLE_MAX_PLAN_STEPS) return false;

            const px = gameState.player.x;
            const py = gameState.player.y;
            const nextAction = oracleCachedPlan[oraclePlanStep];

            // Check player is at expected position for this action
            if (nextAction.type === 'move') {
                // For moves, player should be at (targetX - dx, targetY - dy)
                const expectedX = nextAction.targetX - nextAction.dx;
                const expectedY = nextAction.targetY - nextAction.dy;
                if (px !== expectedX || py !== expectedY) {
                    return false; // Player not where expected (rewind or desync)
                }
            } else if (nextAction.type === 'stabilize') {
                // For stabilize, player should be at expectX, expectY
                if (px !== nextAction.expectX || py !== nextAction.expectY) {
                    return false; // Player not where expected
                }
                // Also validate stabilizer is usable
                if (gameState.stabilizerCharges <= 0 || gameState.stabilizerCooldown > 0) {
                    return false; // Can't stabilize - replan
                }
            } else if (nextAction.type === 'grapple') {
                // Validate grapple is still possible
                if (gameState.grappleCharges <= 0) return false;
                if (!canGrappleTo(nextAction.targetX, nextAction.targetY)) return false;
            }

            // If map changed (collapse happened), check if it affects remaining move targets
            if (oraclePlanMapVersion !== gameState.mapVersion) {
                for (let i = oraclePlanStep; i < oracleCachedPlan.length; i++) {
                    const action = oracleCachedPlan[i];
                    if (action.type === 'move') {
                        const tile = gameState.map[action.targetY]?.[action.targetX];
                        if (tile === TILE.VOID || tile === TILE.WALL) {
                            return false; // Future move target blocked
                        }
                    }
                }
                oraclePlanMapVersion = gameState.mapVersion;
            }

            // Check for decay danger on upcoming move targets (next 4 move actions)
            const DANGER_THRESHOLD = 2;
            let movesChecked = 0;
            for (let i = oraclePlanStep; i < oracleCachedPlan.length && movesChecked < 4; i++) {
                const action = oracleCachedPlan[i];
                if (action.type === 'move') {
                    const decay = gameState.decay[action.targetY]?.[action.targetX];
                    const awakened = gameState.awakened[action.targetY]?.[action.targetX];

                    if (awakened && decay !== undefined && decay <= DANGER_THRESHOLD) {
                        return false; // Upcoming tile is dangerously low - replan
                    }
                    movesChecked++;
                }
            }

            // Double-check next move action is walkable
            if (nextAction.type === 'move') {
                const tile = gameState.map[nextAction.targetY]?.[nextAction.targetX];
                if (tile === TILE.VOID || tile === TILE.WALL) {
                    return false; // Path blocked
                }
            }

            return true;
        }

        // Clear oracle plan cache
        function clearOraclePlan(clearBans = false) {
            oracleCachedPlan = null;
            oraclePlanStep = 0;
            if (clearBans) {
                oracleBannedTiles = new Set();
                oracleLastRewindPos = null;
                oracleRewindStreak = 0;
            }
            oraclePlanLevel = -1;
            oraclePlanMapVersion = -1;
            oraclePlanStepsSincePlan = 0;
        }

        // Oracle emergency action: when no A* path to stairs exists, try alternative survival strategies
        function oracleEmergencyAction() {
            const px = gameState.player.x, py = gameState.player.y;

            // Try stabilize first to protect surrounding tiles
            if (gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown === 0) {
                return { action: 'stabilize' };
            }

            // Try to walk toward the highest-decay neighbor (safest direction)
            const moves = getValidMoves();
            if (moves.length > 0) {
                let bestMove = null;
                let bestScore = -Infinity;
                for (const m of moves) {
                    const decay = gameState.decay[m.targetY]?.[m.targetX] || 0;
                    const awakened = gameState.awakened[m.targetY]?.[m.targetX];
                    // Prefer high decay (more time before collapse), unawakened even better
                    const score = awakened ? decay : decay + 100;
                    if (score > bestScore) {
                        bestScore = score;
                        bestMove = m;
                    }
                }
                if (bestMove) {
                    return { action: 'move', dx: bestMove.dx, dy: bestMove.dy };
                }
            }

            // Wait as last resort
            return { action: 'wait' };
        }

        // Oracle grapple escape: find best grapple target when no walking path exists
        // Uses actual pathfinding (not just Manhattan distance) to find target with shortest path to stairs
        function oracleGrappleEscape(px, py) {
            if (gameState.grappleCharges <= 0) return null;

            let bestTarget = null;
            let bestPathLen = Infinity;
            const sx = gameState.stairsX, sy = gameState.stairsY;

            for (let dy = -GRAPPLE_RANGE; dy <= GRAPPLE_RANGE; dy++) {
                for (let dx = -GRAPPLE_RANGE; dx <= GRAPPLE_RANGE; dx++) {
                    const tx = px + dx, ty = py + dy;
                    if (!inBounds(tx, ty)) continue;
                    if (!canGrappleTo(tx, ty)) continue;

                    // Use actual pathfinding, not Manhattan distance
                    const pathFromTarget = findPathOmniscient(tx, ty, sx, sy);
                    if (!pathFromTarget) continue;

                    if (pathFromTarget.length < bestPathLen) {
                        bestPathLen = pathFromTarget.length;
                        bestTarget = { x: tx, y: ty };
                    }
                }
            }

            if (bestTarget) {
                return { action: 'grapple', targetX: bestTarget.x, targetY: bestTarget.y };
            }
            return null;
        }

        // Oracle bot: simulates all candidate paths and picks the best one
        // OPTIMIZATION: Uses plan commitment with ACTION SCRIPTS (moves + stabilizers)
        function oracleBotMove() {
            const px = gameState.player.x;
            const py = gameState.player.y;

            // Descend if on stairs
            if (gameState.map[py][px] === TILE.STAIRS_DOWN) {
                oracleLastPos = null;
                clearOraclePlan(true); // Clear bans on new level
                return { action: 'descend' };
            }

            // L1 FAST PATH: No decay on level 1 ‚Äî use greedy (simulation adds no value)
            if (!gameState.decayEnabled) {
                return greedyBotMove();
            }

            // REWIND LOOP ESCAPE: If stuck in repeated rewinds, try decay-weighted path
            // (standard BFS paths keep leading through the same doomed corridor)
            if (oracleRewindStreak >= 3) {
                const escapePath = findPathDecayWeighted(px, py, gameState.stairsX, gameState.stairsY);
                if (escapePath && escapePath.length > 0) {
                    // Simulate the decay-weighted path
                    const escapeResult = simulatePath(escapePath, true, ORACLE_SIM_HORIZON);
                    if (escapeResult.actionScript && escapeResult.actionScript.length > 0) {
                        oracleCachedPlan = escapeResult.actionScript;
                        oraclePlanStep = 1;
                        oraclePlanLevel = gameState.level;
                        oraclePlanMapVersion = gameState.mapVersion;
                        oraclePlanStepsSincePlan = 1;
                        const firstAction = escapeResult.actionScript[0];
                        if (firstAction.type === 'move') {
                            oracleLastPos = { x: px, y: py };
                            return { action: 'move', dx: firstAction.dx, dy: firstAction.dy };
                        } else if (firstAction.type === 'stabilize') {
                            return { action: 'stabilize' };
                        }
                    }
                }
                // If decay-weighted also fails, try emergency action
                return oracleEmergencyAction();
            }

            // PLAN COMMITMENT: Check if cached action script is still valid
            if (isOraclePlanValid()) {
                const nextAction = oracleCachedPlan[oraclePlanStep];

                // Advance plan state
                oraclePlanStep++;
                oraclePlanStepsSincePlan++;

                // Telemetry: using cached plan
                oracleDecisionInfo = { usedCachedPlan: true, viableCandidates: 0, totalCandidates: 0, bestType: 'cached', minSlack: 0 };

                // Execute action based on type
                if (nextAction.type === 'move') {
                    oracleLastPos = { x: px, y: py };
                    return { action: 'move', dx: nextAction.dx, dy: nextAction.dy };
                } else if (nextAction.type === 'stabilize') {
                    // Don't update lastPos for stabilize (player doesn't move)
                    return { action: 'stabilize' };
                } else if (nextAction.type === 'grapple') {
                    oracleLastPos = { x: px, y: py };
                    return { action: 'grapple', targetX: nextAction.targetX, targetY: nextAction.targetY };
                }
            }

            // Plan invalid - need to recalculate
            clearOraclePlan();

            // Generate and simulate all candidates
            let candidates = generateCandidatePaths();

            // Filter out paths through banned tiles (rewind loop avoidance)
            if (oracleBannedTiles.size > 0) {
                const filtered = candidates.filter(c => {
                    // Check first few steps of path for banned tiles
                    const checkSteps = Math.min(5, c.path.length);
                    for (let i = 0; i < checkSteps; i++) {
                        if (oracleBannedTiles.has(coordIdx(c.path[i].x, c.path[i].y))) return false;
                    }
                    return true;
                });
                // Only use filtered if it has candidates; otherwise fall through with all
                if (filtered.length > 0) candidates = filtered;
            }

            if (candidates.length === 0) {
                // Try grapple escape before falling back to greedy
                const grappleEscape = oracleGrappleEscape(px, py);
                if (grappleEscape) {
                    clearOraclePlan();
                    oracleLastPos = { x: px, y: py };
                    return grappleEscape;
                }
                console.log('[Oracle] No candidates found, falling back to greedy');
                return oracleEmergencyAction();
            }

            let results = candidates.map(c => ({
                ...c,
                result: simulatePath(c.path, true, ORACLE_SIM_HORIZON, c.grappleFirst || null)
            }));

            // If ALL candidates die with necessity-driven stabilization,
            // re-simulate with proactive stabilization (decay‚â§2 threshold, L3+ only)
            // This gives the oracle a second chance using a more defensive strategy
            const anySurvive = results.some(r => r.result.survived);
            if (!anySurvive && gameState.level >= 3 && gameState.stabilizerCharges >= 2) {
                const proactiveResults = candidates.map(c => ({
                    ...c,
                    proactiveStab: true,
                    result: simulatePath(c.path, true, ORACLE_SIM_HORIZON, c.grappleFirst || null, true)
                }));
                const anyProactiveSurvive = proactiveResults.some(r => r.result.survived);
                if (anyProactiveSurvive) {
                    results = proactiveResults;
                }
            }

            // Sort by simulation result (best first)
            results.sort((a, b) => comparePlanResults(a.result, b.result));

            // Telemetry: fresh decision metrics
            const viableCount = results.filter(r => r.result.survived).length;
            oracleDecisionInfo = {
                usedCachedPlan: false,
                viableCandidates: viableCount,
                totalCandidates: results.length,
                bestType: results[0]?.type || 'unknown',
                minSlack: results[0]?.result?.minSlack ?? 0
            };

            // ANTI-OSCILLATION: If best action script's first MOVE backtracks, prefer alternative
            if (oracleLastPos) {
                const bestScript = results[0].result?.actionScript || [];
                const firstMove = bestScript.find(a => a.type === 'move');

                if (firstMove && firstMove.targetX === oracleLastPos.x && firstMove.targetY === oracleLastPos.y) {
                    // Find alternative survivor that doesn't backtrack
                    const altIndex = results.findIndex(r => {
                        const script = r.result?.actionScript || [];
                        const move = script.find(a => a.type === 'move');
                        return move &&
                               !(move.targetX === oracleLastPos.x && move.targetY === oracleLastPos.y) &&
                               r.result?.survived;
                    });

                    if (altIndex > 0) {
                        const alt = results.splice(altIndex, 1)[0];
                        results.unshift(alt);
                    }
                }
            }

            const best = results[0];
            const actionScript = best.result?.actionScript || [];

            // If action script is empty, try grapple escape before greedy
            if (actionScript.length === 0) {
                const grappleEscape = oracleGrappleEscape(px, py);
                if (grappleEscape) {
                    clearOraclePlan();
                    oracleLastPos = { x: px, y: py };
                    return grappleEscape;
                }
                console.log('[Oracle] Empty action script, falling back to greedy');
                return oracleEmergencyAction();
            }

            // CACHE THE ACTION SCRIPT for future turns
            oracleCachedPlan = actionScript;
            oraclePlanStep = 1; // We're about to execute step 0
            oraclePlanLevel = gameState.level;
            oraclePlanMapVersion = gameState.mapVersion;
            oraclePlanStepsSincePlan = 1;

            // Execute first action
            const firstAction = actionScript[0];
            if (firstAction.type === 'move') {
                oracleLastPos = { x: px, y: py };
                return { action: 'move', dx: firstAction.dx, dy: firstAction.dy };
            } else if (firstAction.type === 'stabilize') {
                return { action: 'stabilize' };
            } else if (firstAction.type === 'grapple') {
                oracleLastPos = { x: px, y: py };
                return { action: 'grapple', targetX: firstAction.targetX, targetY: firstAction.targetY };
            }

            // Unknown action type - try grapple escape before greedy
            const grappleEscape = oracleGrappleEscape(px, py);
            if (grappleEscape) {
                clearOraclePlan();
                oracleLastPos = { x: px, y: py };
                return grappleEscape;
            }
            console.log('[Oracle] Unknown action type, falling back to greedy');
            return oracleEmergencyAction();
        }

        // Execute a bot move
        function executeBotMove(move) {
            if (!move) return false;

            if (move.action === 'stabilize') {
                useStabilizer();
                botStats.stabilizersUsed++;
                return true;
            }
            if (move.action === 'descend') {
                descendStairs();
                return true;
            }
            if (move.action === 'wait') {
                waitTurn();
                return true;
            }
            if (move.action === 'grapple') {
                return useGrapple(move.targetX, move.targetY);
            }
            if (move.action === 'move' || move.dx !== undefined) {
                tryMove(move.dx, move.dy);
                return true;
            }
            return false;
        }

        // Run a single bot game (seed parameter enables same-seed testing)
        function runBotGame(botType, maxMoves = 500, targetLevel = 5, seed = null, detectStagnation = false) {
            effectsEnabled = false; // Disable visual effects during bot runs
            gameState.mainMenuActive = false;
            // Reset game completely
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.chargesAtLevelStart = 0;
            gameState.stateHistory = [];
            // Store base seed for deterministic level progression
            gameState.baseSeed = seed;
            generateMap(seed);  // Pass seed (null = random, number = deterministic)

            // Reset anti-oscillation state for bots
            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true); // Clear plan commitment cache and banned tiles
            cachedStairsField = null; // Clear stairs field cache

            let moveCount = 0;
            let rewindCount = 0;
            let maxRewinds = 50;  // Cap rewinds to prevent infinite loops

            // Stagnation detection: DISABLED by default for comparative tests
            // (punishes tactical detours unfairly, artificially compressing skill gap)
            let bestDistanceToStairs = Infinity;
            let turnsSinceImprovement = 0;
            const stagnationThreshold = 30;

            // Track moves per level for turns-to-win analysis
            let movesPerLevel = [];
            let levelStartMoves = 0;

            // Mechanic utilization tracking
            const gameStats = {
                grappleUsed: 0,
                pillarPushes: 0,
                stabilizersUsed: 0,
                rewinds: 0,
                crystalsCollected: 0,
                stabilizerTypes: new Set()
            };

            while (moveCount < maxMoves && gameState.level < targetLevel) {
                const botFunc = botType === 'random' ? randomBotMove :
                                botType === 'tactical' ? tacticalBotMove :
                                botType === 'oracle' ? oracleBotMove : greedyBotMove;
                const move = botFunc();

                if (!move) {
                    // No valid moves - for greedy this means genuine path failure
                    return { won: false, level: gameState.level, moves: moveCount, reason: 'no_path', movesPerLevel, baseSeed: gameState.baseSeed, gameStats: { ...gameStats, stabilizerTypes: [...gameStats.stabilizerTypes] } };
                }

                // Snapshot before move for tracking
                const prevGrapple = gameState.grappleCharges;
                const prevStab = gameState.stabilizerCharges;
                const prevPillarPositions = gameState.pillars.map(p => `${p.x},${p.y}`);
                if (gameState.stabilizerType) gameStats.stabilizerTypes.add(gameState.stabilizerType);
                const preMoveX = gameState.player.x, preMoveY = gameState.player.y;

                const prevLevel = gameState.level;
                gameState.didRewindThisTurn = false;  // Reset rewind flag before move
                executeBotMove(move);
                moveCount++;

                // Track mechanic utilization
                if (gameState.grappleCharges < prevGrapple) gameStats.grappleUsed++;
                if (gameState.stabilizerCharges < prevStab) gameStats.stabilizersUsed++;
                const newPillarPositions = gameState.pillars.map(p => `${p.x},${p.y}`);
                for (let pi = 0; pi < newPillarPositions.length; pi++) {
                    if (newPillarPositions[pi] !== prevPillarPositions[pi]) { gameStats.pillarPushes++; break; }
                }
                if (gameState.didRewindThisTurn) {
                    gameStats.rewinds++;
                    // Oracle rewind loop detection: ban tiles near the rewind trigger
                    if (botType === 'oracle') {
                        const rewindKey = coordIdx(gameState.player.x, gameState.player.y);
                        if (oracleLastRewindPos === rewindKey) {
                            oracleRewindStreak++;
                            if (oracleRewindStreak >= 2) {
                                // Ban the tile the player was at when the rewind happened
                                // (preMoveX/Y was before the fatal move, the move went to a void)
                                if (move.action === 'move') {
                                    const targetKey = coordIdx(preMoveX + (move.dx || 0), preMoveY + (move.dy || 0));
                                    oracleBannedTiles.add(targetKey);
                                    // Also ban a few tiles before it on the problematic path
                                    oracleBannedTiles.add(coordIdx(preMoveX, preMoveY));
                                }
                            }
                        } else {
                            oracleLastRewindPos = rewindKey;
                            oracleRewindStreak = 1;
                        }
                        clearOraclePlan(); // Force replan after rewind
                    }
                }

                // Lightweight reachability check (BFS) instead of full A* pathfinding
                // Only compute full path if stagnation detection is enabled
                let pathExists;
                if (detectStagnation) {
                    const path = findPathOmniscient(gameState.player.x, gameState.player.y, gameState.stairsX, gameState.stairsY);
                    const currentDistance = path ? path.length : Infinity;
                    pathExists = !!path;
                    if (currentDistance < bestDistanceToStairs) {
                        bestDistanceToStairs = currentDistance;
                        turnsSinceImprovement = 0;
                    } else {
                        turnsSinceImprovement++;
                        if (turnsSinceImprovement >= stagnationThreshold) {
                            return { won: false, level: gameState.level, moves: moveCount, reason: 'stagnation', movesPerLevel, baseSeed: gameState.baseSeed, gameStats: { ...gameStats, stabilizerTypes: [...gameStats.stabilizerTypes] } };
                        }
                    }
                } else {
                    pathExists = canReachStairs(gameState.player.x, gameState.player.y);
                }

                // Detect if a rewind happened using the explicit flag (set in checkPlayerOnVoid)
                // This is more accurate than inferring from move count changes
                if (gameState.didRewindThisTurn) {
                    rewindCount++;
                    if (rewindCount > maxRewinds) {
                        return { won: false, level: gameState.level, moves: moveCount, reason: 'too_many_rewinds', movesPerLevel, baseSeed: gameState.baseSeed, gameStats: { ...gameStats, stabilizerTypes: [...gameStats.stabilizerTypes] } };
                    }
                }

                // Check path to stairs still exists
                // Give bots a chance to escape on next turn via grapple or stabilize
                if (!pathExists && gameState.map[gameState.player.y][gameState.player.x] !== TILE.STAIRS_DOWN) {
                    if (gameState.grappleCharges > 0) {
                        // Has grapple charges ‚Äî continue to let bot grapple escape on next turn
                    } else {
                        return { won: false, level: gameState.level, moves: moveCount, reason: 'no_path', movesPerLevel, baseSeed: gameState.baseSeed, gameStats: { ...gameStats, stabilizerTypes: [...gameStats.stabilizerTypes] } };
                    }
                }

                // Level changed
                if (gameState.level !== prevLevel) {
                    rewindCount = 0;  // Reset rewind counter on new level
                    movesPerLevel.push(moveCount - levelStartMoves);  // Track moves for completed level
                    levelStartMoves = moveCount;
                    if (detectStagnation) {
                        bestDistanceToStairs = Infinity;  // Reset stagnation tracking for new level
                        turnsSinceImprovement = 0;
                    }
                }
            }

            const won = gameState.level >= targetLevel;
            if (won) {
                movesPerLevel.push(moveCount - levelStartMoves);  // Track final level
            }
            effectsEnabled = true;
            gameStats.crystalsCollected = gameState.crystalsCollected;
            return { won, level: gameState.level, moves: moveCount, reason: won ? 'success' : 'max_moves', movesPerLevel, baseSeed: gameState.baseSeed, gameStats: { ...gameStats, stabilizerTypes: [...gameStats.stabilizerTypes] } };
        }

        // Oracle decision telemetry: populated by oracleBotMove on each call
        let oracleDecisionInfo = null;

        // Run a detailed bot game with per-move telemetry
        // Returns full move log with interest scores, tension metrics, and per-game summary
        function runBotGameDetailed(botType, seed, targetLevel = 5) {
            const moveLog = [];
            const maxMoves = 3000;

            // Hook into oracle decision-making to capture per-move telemetry
            oracleDecisionInfo = null;

            effectsEnabled = false;
            gameState.mainMenuActive = false;
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.chargesAtLevelStart = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = seed;
            generateMap(seed);

            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true);
            cachedStairsField = null;

            let moveCount = 0;
            let rewindCount = 0;
            let maxRewinds = 50;
            let levelStartMoves = 0;
            let movesPerLevel = [];

            const gameStats = {
                grappleUsed: 0, pillarPushes: 0, stabilizersUsed: 0,
                rewinds: 0, crystalsCollected: 0, stabilizerTypes: new Set()
            };

            while (moveCount < maxMoves && gameState.level < targetLevel) {
                // Capture pre-move state
                const px = gameState.player.x, py = gameState.player.y;
                const preState = {
                    stabCharges: gameState.stabilizerCharges,
                    grappleCharges: gameState.grappleCharges,
                    stabCooldown: gameState.stabilizerCooldown,
                    playerDecay: gameState.decay[py]?.[px] ?? 0,
                    playerAwakened: !!gameState.awakened[py]?.[px],
                    distToStairs: Math.max(Math.abs(px - gameState.stairsX), Math.abs(py - gameState.stairsY)),
                    level: gameState.level,
                    nearbyDecayMin: Infinity
                };

                // Compute min decay in 8 neighbors
                for (let ddy = -1; ddy <= 1; ddy++) {
                    for (let ddx = -1; ddx <= 1; ddx++) {
                        if (ddx === 0 && ddy === 0) continue;
                        const nx = px + ddx, ny = py + ddy;
                        if (inBounds(nx, ny) && gameState.awakened[ny]?.[nx] && gameState.decay[ny][nx] > 0) {
                            preState.nearbyDecayMin = Math.min(preState.nearbyDecayMin, gameState.decay[ny][nx]);
                        }
                    }
                }
                if (preState.nearbyDecayMin === Infinity) preState.nearbyDecayMin = 0;

                // Reset oracle decision info
                oracleDecisionInfo = null;

                const prevLevel = gameState.level;
                const prevGrapple = gameState.grappleCharges;
                const prevStab = gameState.stabilizerCharges;
                const prevPillarPositions = gameState.pillars.map(p => `${p.x},${p.y}`);
                if (gameState.stabilizerType) gameStats.stabilizerTypes.add(gameState.stabilizerType);

                gameState.didRewindThisTurn = false;

                const botFunc = botType === 'oracle' ? oracleBotMove : greedyBotMove;
                const move = botFunc();

                if (!move) {
                    break;
                }

                executeBotMove(move);
                moveCount++;

                // Track mechanic utilization
                let pillarPushed = false;
                if (gameState.grappleCharges < prevGrapple) gameStats.grappleUsed++;
                if (gameState.stabilizerCharges < prevStab) gameStats.stabilizersUsed++;
                const newPillarPositions = gameState.pillars.map(p => `${p.x},${p.y}`);
                for (let pi = 0; pi < newPillarPositions.length; pi++) {
                    if (newPillarPositions[pi] !== prevPillarPositions[pi]) { gameStats.pillarPushes++; pillarPushed = true; break; }
                }
                if (gameState.didRewindThisTurn) {
                    gameStats.rewinds++;
                    if (botType === 'oracle') {
                        const rewindKey = coordIdx(gameState.player.x, gameState.player.y);
                        if (oracleLastRewindPos === rewindKey) {
                            oracleRewindStreak++;
                            if (oracleRewindStreak >= 2 && move.action === 'move') {
                                const targetKey = coordIdx(px + (move.dx || 0), py + (move.dy || 0));
                                oracleBannedTiles.add(targetKey);
                                oracleBannedTiles.add(coordIdx(px, py));
                            }
                        } else {
                            oracleLastRewindPos = rewindKey;
                            oracleRewindStreak = 1;
                        }
                        clearOraclePlan();
                    }
                }

                // Capture post-move state
                const postPx = gameState.player.x, postPy = gameState.player.y;
                const postState = {
                    stabCharges: gameState.stabilizerCharges,
                    grappleCharges: gameState.grappleCharges,
                    stabCooldown: gameState.stabilizerCooldown,
                    playerDecay: gameState.decay[postPy]?.[postPx] ?? 0,
                    playerAwakened: !!gameState.awakened[postPy]?.[postPx],
                    distToStairs: Math.max(Math.abs(postPx - gameState.stairsX), Math.abs(postPy - gameState.stairsY)),
                    level: gameState.level
                };

                // Compute interest score
                let interest = 0;
                const commentary = [];

                if (preState.playerDecay <= 2 && preState.playerAwakened && preState.playerDecay > 0) {
                    interest += 3;
                    commentary.push(`Standing on crumbling tile (decay=${preState.playerDecay})`);
                }
                if (gameState.didRewindThisTurn) {
                    interest += 5;
                    commentary.push('Near-death rewind!');
                }
                if (move.action === 'stabilize') {
                    interest += 2;
                    commentary.push('Stabilizer deployed');
                }
                if (move.action === 'grapple') {
                    interest += 3;
                    commentary.push(`Grappled to (${move.targetX},${move.targetY})`);
                }
                if (pillarPushed) {
                    interest += 2;
                    commentary.push('Pushed a pillar');
                }
                if (gameState.level !== prevLevel) {
                    interest += 4;
                    commentary.push(`Reached level ${gameState.level}`);
                }

                // Oracle-specific tension info
                const tension = {
                    viableCandidates: oracleDecisionInfo?.viableCandidates ?? 0,
                    totalCandidates: oracleDecisionInfo?.totalCandidates ?? 0,
                    bestType: oracleDecisionInfo?.bestType ?? 'unknown',
                    minSlack: oracleDecisionInfo?.minSlack ?? 0,
                    usedCachedPlan: oracleDecisionInfo?.usedCachedPlan ?? false,
                    rewound: gameState.didRewindThisTurn
                };

                if (tension.viableCandidates > 0 && tension.viableCandidates <= 2) {
                    interest += 2;
                    commentary.push(`Only ${tension.viableCandidates} viable path(s)`);
                }
                if (preState.nearbyDecayMin <= 2 && preState.nearbyDecayMin > 0) {
                    interest += 1;
                    commentary.push(`Nearby danger (min neighbor decay=${preState.nearbyDecayMin})`);
                }

                moveLog.push({
                    turn: moveCount,
                    level: preState.level,
                    position: { x: px, y: py },
                    action: { ...move },
                    preState,
                    postState,
                    tension,
                    interest,
                    commentary: commentary.join('; ')
                });

                // Check termination conditions
                const pathExists = canReachStairs(gameState.player.x, gameState.player.y);
                if (gameState.didRewindThisTurn) {
                    rewindCount++;
                    if (rewindCount > maxRewinds) break;
                }
                if (!pathExists && gameState.map[gameState.player.y][gameState.player.x] !== TILE.STAIRS_DOWN) {
                    if (gameState.grappleCharges <= 0) break;
                }
                if (gameState.level !== prevLevel) {
                    rewindCount = 0;
                    movesPerLevel.push(moveCount - levelStartMoves);
                    levelStartMoves = moveCount;
                }
            }

            const won = gameState.level >= targetLevel;
            if (won) movesPerLevel.push(moveCount - levelStartMoves);
            effectsEnabled = true;
            gameStats.crystalsCollected = gameState.crystalsCollected;

            // Compute per-game summary
            const highlights = moveLog.filter(m => m.interest >= 4);
            const totalInterest = moveLog.reduce((s, m) => s + m.interest, 0);
            const maxInterest = moveLog.reduce((mx, m) => Math.max(mx, m.interest), 0);
            const actionTypes = {};
            for (const m of moveLog) {
                const aType = m.action.action || 'move';
                actionTypes[aType] = (actionTypes[aType] || 0) + 1;
            }

            // Tension curve: average interest per level
            const tensionByLevel = {};
            for (const m of moveLog) {
                if (!tensionByLevel[m.level]) tensionByLevel[m.level] = { sum: 0, count: 0 };
                tensionByLevel[m.level].sum += m.interest;
                tensionByLevel[m.level].count++;
            }
            const tensionCurve = {};
            for (const [lv, data] of Object.entries(tensionByLevel)) {
                tensionCurve[lv] = +(data.sum / data.count).toFixed(2);
            }

            // Drama score: ratio of high-interest turns to total
            const dramaScore = moveLog.length > 0 ? +(highlights.length / moveLog.length * 100).toFixed(1) : 0;

            // First-move entropy: how diverse are the actions?
            const actionEntropy = (() => {
                const total = moveLog.length;
                if (total === 0) return 0;
                let entropy = 0;
                for (const count of Object.values(actionTypes)) {
                    const p = count / total;
                    if (p > 0) entropy -= p * Math.log2(p);
                }
                return +entropy.toFixed(3);
            })();

            return {
                won,
                seed,
                level: gameState.level,
                moves: moveCount,
                reason: won ? 'success' : moveCount >= maxMoves ? 'max_moves' : 'died',
                movesPerLevel,
                gameStats: { ...gameStats, stabilizerTypes: [...gameStats.stabilizerTypes] },
                summary: {
                    dramaScore,
                    highlightCount: highlights.length,
                    maxInterest,
                    totalInterest,
                    actionTypes,
                    actionEntropy,
                    tensionCurve,
                    movesPerLevel
                },
                moveLog,
                highlights: highlights.map(h => ({
                    turn: h.turn, level: h.level,
                    position: h.position, interest: h.interest,
                    commentary: h.commentary
                }))
            };
        }

        // ============ REPLAY SYSTEM ============

        // Record a bot game as a replay JSON
        function recordBotReplay(botType, seed, targetLevel = 5) {
            const detailed = runBotGameDetailed(botType, seed, targetLevel);
            const replay = {
                version: REPLAY_VERSION,
                seed: seed,
                targetLevel: targetLevel,
                botType: botType,
                timestamp: Date.now(),
                moves: detailed.moveLog.map(m => ({
                    turn: m.turn,
                    level: m.level,
                    position: m.position,
                    action: m.action,
                    preState: m.preState,
                    postState: m.postState,
                    commentary: m.commentary
                })),
                result: {
                    won: detailed.won,
                    level: detailed.level,
                    moves: detailed.moves,
                    reason: detailed.reason,
                    gameStats: detailed.gameStats
                }
            };
            return replay;
        }

        // Generate showcase replays by scanning seeds for interesting games
        // Pass 1: quick scan with runBotGame to find winners with high mechanic use
        // Pass 2: detailed analysis with runBotGameDetailed on top candidates for drama scoring
        // Returns array of replay objects ready for BUILT_IN_REPLAYS
        function generateShowcaseReplays(count = 3, seedStart = 1000, seedEnd = 2000) {
            const candidates = [];
            console.log(`Pass 1: Scanning seeds ${seedStart}-${seedEnd} for winning games...`);
            for (let seed = seedStart; seed <= seedEnd; seed++) {
                const result = runBotGame('oracle', 3000, 10, seed);
                if (!result.won) continue;
                const s = result.gameStats || {};
                // Quick interest: weight mechanic variety and resource usage
                const interest = (s.stabilizersUsed || 0) * 3 +
                    (s.grappleUsed || 0) * 4 +
                    (s.pillarPushes || 0) * 2 +
                    (s.rewinds || 0) * 5 +
                    Math.min(result.moves / 30, 10); // Longer games slightly favored
                candidates.push({ seed, interest, stats: s, moves: result.moves });
            }
            console.log(`  ${candidates.length} winning seeds found.`);

            // Take top 3x candidates for detailed pass
            candidates.sort((a, b) => b.interest - a.interest);
            const shortlist = candidates.slice(0, count * 3);

            console.log(`Pass 2: Detailed analysis of top ${shortlist.length} seeds...`);
            const detailed = [];
            for (const c of shortlist) {
                const d = runBotGameDetailed('oracle', c.seed, 10);
                if (!d.won) continue;
                detailed.push({
                    seed: c.seed,
                    stats: c.stats,
                    moves: d.moves,
                    totalInterest: d.summary.totalInterest,
                    dramaScore: d.summary.dramaScore,
                    highlights: d.summary.highlightCount
                });
            }
            // Final ranking: totalInterest is the accumulated per-move interest from detailed analysis
            detailed.sort((a, b) => b.totalInterest - a.totalInterest);
            const best = detailed.slice(0, count);

            console.log(`Generating ${best.length} replays:`);
            const replays = [];
            for (const c of best) {
                const s = c.stats;
                const desc = `Seed ${c.seed} ‚Äî ${s.stabilizersUsed || 0} stabilizers, ${s.grappleUsed || 0} grapples, ${s.pillarPushes || 0} pillar pushes, ${c.highlights} tense moments`;
                console.log(`  ${desc} (drama: ${c.dramaScore}%, interest: ${c.totalInterest})`);
                const replay = recordBotReplay('oracle', c.seed, 10);
                replay.description = desc;
                replays.push(replay);
            }
            const json = JSON.stringify(replays);
            console.log(`Done: ${replays.length} replays (${(json.length / 1024).toFixed(1)}KB)`);
            if (typeof document !== 'undefined') {
                document.body.setAttribute('data-showcase-replays', json);
            }
            return replays;
        }

        // Download a replay as a JSON file
        function downloadReplay(replayData) {
            const json = JSON.stringify(replayData, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            const name = `replay_${replayData.botType || 'human'}_${replayData.seed}_L${replayData.targetLevel}.json`;
            a.download = name;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            addMessage(`Downloaded replay: ${name}`, 'info');
        }

        // Replay viewer state
        let replayState = {
            active: false,
            paused: false,
            data: null,
            stepIndex: 0,
            speed: 200,  // ms per step
            timer: null
        };

        // Play back a replay from JSON data
        function replayGame(replayData, stepDelay = 200) {
            if (!replayData || !replayData.moves || replayData.moves.length === 0) {
                addMessage('Invalid replay data.', 'warn');
                return;
            }

            // Version mismatch warning
            if (replayData.version && replayData.version !== REPLAY_VERSION) {
                addMessage(`Replay version mismatch (v${replayData.version} vs v${REPLAY_VERSION}). Playback may be inaccurate.`, 'warn');
            } else if (!replayData.version) {
                addMessage(`Replay has no version tag. Playback may be inaccurate.`, 'warn');
            }

            // Stop any existing replay
            stopReplay();

            // Initialize game with replay seed
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.chargesAtLevelStart = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = replayData.seed;
            generateMap(replayData.seed);

            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true);
            cachedStairsField = null;

            calculateFOV();
            render();

            replayState = {
                active: true,
                paused: false,
                data: replayData,
                stepIndex: 0,
                speed: stepDelay,
                timer: null
            };

            addMessage(`Replaying ${replayData.botType || 'human'} game, seed ${replayData.seed} (${replayData.moves.length} moves)`, 'info');
            addMessage('Space=pause/play | Right=step | +/-=speed', 'info');
            render();

            // Start auto-stepping
            scheduleReplayStep();
        }

        function scheduleReplayStep() {
            if (!replayState.active || replayState.paused) return;
            replayState.timer = setTimeout(executeReplayStep, replayState.speed);
        }

        function executeReplayStep() {
            if (!replayState.active) return;
            if (replayState.stepIndex >= replayState.data.moves.length) {
                // Replay finished
                const r = replayState.data.result;
                addMessage(`Replay complete: ${r.won ? 'WON' : 'LOST'} at level ${r.level} in ${r.moves} moves`, 'info');
                replayState.active = false;
                render();
                return;
            }

            const move = replayState.data.moves[replayState.stepIndex];

            // Show commentary if any
            if (move.commentary) {
                addMessage(`[${move.turn}] ${move.commentary}`, 'path');
            }

            // Execute the move
            const prevLevel = gameState.level;
            executeBotMove(move.action);
            calculateFOV();
            render();

            replayState.stepIndex++;

            // After level transition, wait for fade-out/hold/fade-in + 200ms before next move
            if (gameState.level !== prevLevel && levelTransition) {
                const transitionDelay = TRANSITION_DURATION + 200;
                replayState.timer = setTimeout(scheduleReplayStep, transitionDelay);
            } else {
                scheduleReplayStep();
            }
        }

        function stopReplay() {
            if (replayState.timer) {
                clearTimeout(replayState.timer);
                replayState.timer = null;
            }
            replayState.active = false;
            replayState.paused = false;
        }

        function exitReplayToNewGame() {
            stopReplay();
            gameState.mainMenuActive = false;
            gameState.concedeActive = false;
            gameState.gameOverReason = null;
            gameOverlay = null;
            savedHumanReplay = null;
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = null;
            generateMap();
            startAutoRecording();
            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true);
            cachedStairsField = null;
            calculateFOV();
            addMessage('New game started.', 'info');
            addMessage("Level 1: Explore safely! No decay - learn the controls.", 'info');
            render();
        }

        function exitToNewGame() {
            gameState.mainMenuActive = false;
            gameState.concedeActive = false;
            gameState.gameOverReason = null;
            savedHumanReplay = null;
            gameOverlay = null;
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = null;
            generateMap();
            startAutoRecording();
            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true);
            cachedStairsField = null;
            calculateFOV();
            addMessage('New game started.', 'info');
            addMessage("Level 1: Explore safely! No decay - learn the controls.", 'info');
            render();
        }

        function toggleReplayPause() {
            if (!replayState.active) return;
            replayState.paused = !replayState.paused;
            if (!replayState.paused) {
                addMessage('Replay resumed', 'info');
                scheduleReplayStep();
            } else {
                if (replayState.timer) {
                    clearTimeout(replayState.timer);
                    replayState.timer = null;
                }
                addMessage(`Replay paused (step ${replayState.stepIndex}/${replayState.data.moves.length})`, 'info');
            }
            render();
        }

        function stepReplayForward() {
            if (!replayState.active) return;
            replayState.paused = true;
            if (replayState.timer) {
                clearTimeout(replayState.timer);
                replayState.timer = null;
            }
            executeReplayStep();
        }

        // Built-in showcase replays (populated below after game functions)
        const BUILT_IN_REPLAYS = [{"version":3,"seed":4880,"targetLevel":10,"botType":"oracle","timestamp":1770525823826,"moves":[{"turn":1,"level":1,"position":{"x":38,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":28,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":27,"level":1},"commentary":""},{"turn":2,"level":1,"position":{"x":37,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":27,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":26,"level":1},"commentary":""},{"turn":3,"level":1,"position":{"x":36,"y":12},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":26,"level":1,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":25,"level":1},"commentary":""},{"turn":4,"level":1,"position":{"x":35,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":25,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":24,"level":1},"commentary":""},{"turn":5,"level":1,"position":{"x":34,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":24,"level":1,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":23,"level":1},"commentary":""},{"turn":6,"level":1,"position":{"x":33,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":23,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":22,"level":1},"commentary":""},{"turn":7,"level":1,"position":{"x":32,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":22,"level":1,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":21,"level":1},"commentary":""},{"turn":8,"level":1,"position":{"x":31,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":21,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":20,"level":1},"commentary":""},{"turn":9,"level":1,"position":{"x":30,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":20,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":10,"level":1,"position":{"x":29,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":11,"level":1,"position":{"x":29,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":12,"level":1,"position":{"x":29,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":13,"level":1,"position":{"x":29,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":14,"level":1,"position":{"x":29,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":15,"level":1,"position":{"x":29,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":16,"level":1,"position":{"x":29,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":17,"level":1,"position":{"x":29,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":18,"level":1,"position":{"x":29,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":18,"level":1},"commentary":""},{"turn":19,"level":1,"position":{"x":28,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":18,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":17,"level":1},"commentary":""},{"turn":20,"level":1,"position":{"x":27,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":17,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":16,"level":1},"commentary":""},{"turn":21,"level":1,"position":{"x":26,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":16,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":22,"level":1,"position":{"x":25,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":1},"commentary":""},{"turn":23,"level":1,"position":{"x":24,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":24,"level":1,"position":{"x":23,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":25,"level":1,"position":{"x":22,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":26,"level":1,"position":{"x":21,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":27,"level":1,"position":{"x":20,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":1},"commentary":""},{"turn":28,"level":1,"position":{"x":19,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":29,"level":1,"position":{"x":18,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":30,"level":1,"position":{"x":17,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":31,"level":1,"position":{"x":16,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":32,"level":1,"position":{"x":15,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":21},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":33,"level":1,"position":{"x":14,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":20},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":34,"level":1,"position":{"x":13,"y":24},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":21},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":46,"playerAwakened":true,"distToStairs":2,"level":1},"commentary":""},{"turn":35,"level":1,"position":{"x":12,"y":23},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":46,"playerAwakened":true,"distToStairs":2,"level":1,"nearbyDecayMin":40},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":50,"playerAwakened":true,"distToStairs":1,"level":1},"commentary":""},{"turn":36,"level":1,"position":{"x":11,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":50,"playerAwakened":true,"distToStairs":1,"level":1,"nearbyDecayMin":46},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":49,"playerAwakened":true,"distToStairs":0,"level":1},"commentary":""},{"turn":37,"level":1,"position":{"x":10,"y":24},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":49,"playerAwakened":true,"distToStairs":0,"level":1,"nearbyDecayMin":47},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":38,"level":2},"commentary":"Pushed a pillar; Reached level 2"},{"turn":38,"level":2,"position":{"x":44,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":38,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":37,"level":2},"commentary":""},{"turn":39,"level":2,"position":{"x":43,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":37,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":36,"level":2},"commentary":""},{"turn":40,"level":2,"position":{"x":42,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":36,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":35,"level":2},"commentary":""},{"turn":41,"level":2,"position":{"x":41,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":35,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":34,"level":2},"commentary":""},{"turn":42,"level":2,"position":{"x":40,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":34,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":33,"level":2},"commentary":""},{"turn":43,"level":2,"position":{"x":39,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":33,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":32,"level":2},"commentary":""},{"turn":44,"level":2,"position":{"x":38,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":32,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":31,"level":2},"commentary":""},{"turn":45,"level":2,"position":{"x":37,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":31,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":30,"level":2},"commentary":""},{"turn":46,"level":2,"position":{"x":36,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":30,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":29,"level":2},"commentary":""},{"turn":47,"level":2,"position":{"x":35,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":29,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":28,"level":2},"commentary":""},{"turn":48,"level":2,"position":{"x":34,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":28,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":27,"level":2},"commentary":""},{"turn":49,"level":2,"position":{"x":33,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":27,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":26,"level":2},"commentary":""},{"turn":50,"level":2,"position":{"x":32,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":26,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":25,"level":2},"commentary":""},{"turn":51,"level":2,"position":{"x":31,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":25,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":24,"level":2},"commentary":""},{"turn":52,"level":2,"position":{"x":30,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":24,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":23,"level":2},"commentary":""},{"turn":53,"level":2,"position":{"x":29,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":23,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":22,"level":2},"commentary":""},{"turn":54,"level":2,"position":{"x":28,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":22,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":21,"level":2},"commentary":""},{"turn":55,"level":2,"position":{"x":27,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":21,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":20,"level":2},"commentary":""},{"turn":56,"level":2,"position":{"x":26,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":20,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":2},"commentary":""},{"turn":57,"level":2,"position":{"x":25,"y":14},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":2},"commentary":""},{"turn":58,"level":2,"position":{"x":24,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":59,"level":2,"position":{"x":23,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":60,"level":2,"position":{"x":23,"y":12},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":61,"level":2,"position":{"x":23,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":62,"level":2,"position":{"x":23,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":63,"level":2,"position":{"x":23,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":64,"level":2,"position":{"x":23,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":16,"level":2},"commentary":""},{"turn":65,"level":2,"position":{"x":22,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":16,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":15,"level":2},"commentary":""},{"turn":66,"level":2,"position":{"x":21,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":15,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":14,"level":2},"commentary":""},{"turn":67,"level":2,"position":{"x":20,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":14,"level":2,"nearbyDecayMin":20},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":68,"level":2,"position":{"x":19,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":69,"level":2,"position":{"x":18,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":18},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":70,"level":2,"position":{"x":17,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":71,"level":2,"position":{"x":16,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":72,"level":2,"position":{"x":15,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":73,"level":2,"position":{"x":14,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":18},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":74,"level":2,"position":{"x":13,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":75,"level":2,"position":{"x":12,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":20},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":76,"level":2,"position":{"x":11,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":18},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":77,"level":2,"position":{"x":10,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":19},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":78,"level":2,"position":{"x":9,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":20},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":79,"level":2,"position":{"x":8,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":22},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":80,"level":2,"position":{"x":7,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":21},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":81,"level":2,"position":{"x":6,"y":6},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":23},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":""},{"turn":82,"level":2,"position":{"x":6,"y":7},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":22},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":83,"level":2,"position":{"x":6,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":23},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":43,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":84,"level":2,"position":{"x":6,"y":9},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":43,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":23},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":2,"level":2},"commentary":""},{"turn":85,"level":2,"position":{"x":5,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":2,"level":2,"nearbyDecayMin":27},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":1,"level":2},"commentary":""},{"turn":86,"level":2,"position":{"x":5,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":1,"level":2,"nearbyDecayMin":26},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":0,"level":2},"commentary":""},{"turn":87,"level":2,"position":{"x":6,"y":12},"action":{"action":"descend"},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":0,"level":2,"nearbyDecayMin":47},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":"Pushed a pillar; Reached level 3"},{"turn":88,"level":3,"position":{"x":20,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":13},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":13,"level":3},"commentary":""},{"turn":89,"level":3,"position":{"x":19,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":13,"level":3,"nearbyDecayMin":13},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":12,"level":3},"commentary":""},{"turn":90,"level":3,"position":{"x":18,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":12,"level":3,"nearbyDecayMin":13},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":3},"commentary":""},{"turn":91,"level":3,"position":{"x":17,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":""},{"turn":92,"level":3,"position":{"x":16,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":""},{"turn":93,"level":3,"position":{"x":15,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":94,"level":3,"position":{"x":14,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":""},{"turn":95,"level":3,"position":{"x":13,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":96,"level":3,"position":{"x":12,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":97,"level":3,"position":{"x":11,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":4,"level":3},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":98,"level":3,"position":{"x":10,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":4,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":99,"level":3,"position":{"x":9,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":100,"level":3,"position":{"x":8,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":1,"level":3},"commentary":""},{"turn":101,"level":3,"position":{"x":7,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":1,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":0,"level":3},"commentary":""},{"turn":102,"level":3,"position":{"x":6,"y":17},"action":{"action":"descend"},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":0,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":"Pushed a pillar; Reached level 4"},{"turn":103,"level":4,"position":{"x":23,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":4},"commentary":""},{"turn":104,"level":4,"position":{"x":22,"y":21},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":""},{"turn":105,"level":4,"position":{"x":21,"y":20},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":106,"level":4,"position":{"x":20,"y":21},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":107,"level":4,"position":{"x":19,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":108,"level":4,"position":{"x":18,"y":21},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":109,"level":4,"position":{"x":18,"y":20},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":110,"level":4,"position":{"x":18,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":111,"level":4,"position":{"x":18,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":112,"level":4,"position":{"x":18,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":113,"level":4,"position":{"x":18,"y":16},"action":{"action":"grapple","targetX":20,"targetY":10},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":"Grappled to (20,10); Nearby danger (min neighbor decay=1)"},{"turn":114,"level":4,"position":{"x":20,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":115,"level":4,"position":{"x":21,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":116,"level":4,"position":{"x":22,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":117,"level":4,"position":{"x":23,"y":11},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":118,"level":4,"position":{"x":24,"y":10},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":119,"level":4,"position":{"x":25,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":120,"level":4,"position":{"x":26,"y":9},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":121,"level":4,"position":{"x":27,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":122,"level":4,"position":{"x":28,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":""},{"turn":123,"level":4,"position":{"x":29,"y":12},"action":{"action":"grapple","targetX":36,"targetY":17},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":4},"commentary":"Grappled to (36,17); Nearby danger (min neighbor decay=2)"},{"turn":124,"level":4,"position":{"x":36,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":8,"level":4},"commentary":""},{"turn":125,"level":4,"position":{"x":35,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":8,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":7,"level":4},"commentary":""},{"turn":126,"level":4,"position":{"x":35,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":7,"level":4,"nearbyDecayMin":28},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":6,"level":4},"commentary":""},{"turn":127,"level":4,"position":{"x":35,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":6,"level":4,"nearbyDecayMin":28},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":5,"level":4},"commentary":""},{"turn":128,"level":4,"position":{"x":35,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":5,"level":4,"nearbyDecayMin":28},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":129,"level":4,"position":{"x":35,"y":22},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":28},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":""},{"turn":130,"level":4,"position":{"x":34,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":""},{"turn":131,"level":4,"position":{"x":33,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":1,"level":4},"commentary":""},{"turn":132,"level":4,"position":{"x":34,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":1,"level":4,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":4},"commentary":""},{"turn":133,"level":4,"position":{"x":35,"y":26},"action":{"action":"descend"},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":20,"level":5},"commentary":"Pushed a pillar; Reached level 5"},{"turn":134,"level":5,"position":{"x":15,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":20,"level":5,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":21,"level":5},"commentary":""},{"turn":135,"level":5,"position":{"x":14,"y":5},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":21,"level":5,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":22,"level":5},"commentary":""},{"turn":136,"level":5,"position":{"x":13,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":22,"level":5,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":22,"level":5},"commentary":""},{"turn":137,"level":5,"position":{"x":12,"y":4},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":22,"level":5,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":21,"level":5},"commentary":""},{"turn":138,"level":5,"position":{"x":11,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":21,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":5},"commentary":""},{"turn":139,"level":5,"position":{"x":10,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":19,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":140,"level":5,"position":{"x":9,"y":7},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":19,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":19,"level":5},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":141,"level":5,"position":{"x":9,"y":7},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":19,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":18,"level":5},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":142,"level":5,"position":{"x":9,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":18,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":17,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":143,"level":5,"position":{"x":9,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":17,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":16,"level":5},"commentary":""},{"turn":144,"level":5,"position":{"x":9,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":16,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":15,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":145,"level":5,"position":{"x":9,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":15,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":5},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":146,"level":5,"position":{"x":9,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":13,"level":5},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":147,"level":5,"position":{"x":9,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":13,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":148,"level":5,"position":{"x":9,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":149,"level":5,"position":{"x":9,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":""},{"turn":150,"level":5,"position":{"x":8,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":""},{"turn":151,"level":5,"position":{"x":7,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":152,"level":5,"position":{"x":6,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":""},{"turn":153,"level":5,"position":{"x":7,"y":19},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":5},"commentary":""},{"turn":154,"level":5,"position":{"x":8,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":5,"level":5},"commentary":""},{"turn":155,"level":5,"position":{"x":9,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":5,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":5},"commentary":""},{"turn":156,"level":5,"position":{"x":9,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":5,"nearbyDecayMin":14},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":3,"level":5},"commentary":""},{"turn":157,"level":5,"position":{"x":9,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":3,"level":5,"nearbyDecayMin":15},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":5},"commentary":""},{"turn":158,"level":5,"position":{"x":8,"y":24},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":5},"commentary":""},{"turn":159,"level":5,"position":{"x":8,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":0,"level":5},"commentary":""},{"turn":160,"level":5,"position":{"x":9,"y":26},"action":{"action":"descend"},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":0,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":"Pushed a pillar; Reached level 6"},{"turn":161,"level":6,"position":{"x":27,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":""},{"turn":162,"level":6,"position":{"x":26,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":""},{"turn":163,"level":6,"position":{"x":25,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":6},"commentary":""},{"turn":164,"level":6,"position":{"x":24,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":6},"commentary":""},{"turn":165,"level":6,"position":{"x":23,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":""},{"turn":166,"level":6,"position":{"x":22,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":167,"level":6,"position":{"x":21,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":168,"level":6,"position":{"x":20,"y":5},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":6},"commentary":""},{"turn":169,"level":6,"position":{"x":19,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":6},"commentary":""},{"turn":170,"level":6,"position":{"x":18,"y":4},"action":{"action":"descend"},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":7},"commentary":"Pushed a pillar; Reached level 7"},{"turn":171,"level":7,"position":{"x":20,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":""},{"turn":172,"level":7,"position":{"x":19,"y":21},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":""},{"turn":173,"level":7,"position":{"x":19,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":174,"level":7,"position":{"x":20,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":175,"level":7,"position":{"x":20,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":176,"level":7,"position":{"x":20,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":177,"level":7,"position":{"x":19,"y":16},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":178,"level":7,"position":{"x":19,"y":16},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":179,"level":7,"position":{"x":20,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":180,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":181,"level":7,"position":{"x":20,"y":13},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":182,"level":7,"position":{"x":20,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":183,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=1); Near-death rewind!; Nearby danger (min neighbor decay=1)"},{"turn":184,"level":7,"position":{"x":20,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":185,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":186,"level":7,"position":{"x":20,"y":13},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":187,"level":7,"position":{"x":20,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":188,"level":7,"position":{"x":20,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":""},{"turn":189,"level":7,"position":{"x":19,"y":21},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":""},{"turn":190,"level":7,"position":{"x":19,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":191,"level":7,"position":{"x":20,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":192,"level":7,"position":{"x":20,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":193,"level":7,"position":{"x":20,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":194,"level":7,"position":{"x":19,"y":16},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":195,"level":7,"position":{"x":19,"y":16},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":196,"level":7,"position":{"x":20,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":197,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":198,"level":7,"position":{"x":20,"y":13},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":199,"level":7,"position":{"x":20,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":200,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=1); Near-death rewind!; Nearby danger (min neighbor decay=1)"},{"turn":201,"level":7,"position":{"x":20,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":202,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":203,"level":7,"position":{"x":20,"y":13},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":204,"level":7,"position":{"x":20,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":205,"level":7,"position":{"x":20,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":""},{"turn":206,"level":7,"position":{"x":19,"y":21},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":""},{"turn":207,"level":7,"position":{"x":19,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":208,"level":7,"position":{"x":20,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":209,"level":7,"position":{"x":20,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":210,"level":7,"position":{"x":20,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":211,"level":7,"position":{"x":19,"y":16},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":212,"level":7,"position":{"x":19,"y":16},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":213,"level":7,"position":{"x":20,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":214,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":215,"level":7,"position":{"x":20,"y":13},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":216,"level":7,"position":{"x":20,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Near-death rewind!; Nearby danger (min neighbor decay=1)"},{"turn":217,"level":7,"position":{"x":19,"y":16},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Only 1 viable path(s); Nearby danger (min neighbor decay=1)"},{"turn":218,"level":7,"position":{"x":20,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":219,"level":7,"position":{"x":20,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":220,"level":7,"position":{"x":20,"y":14},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Standing on crumbling tile (decay=1); Stabilizer deployed"},{"turn":221,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Standing on crumbling tile (decay=1); Nearby danger (min neighbor decay=2)"},{"turn":222,"level":7,"position":{"x":20,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":4,"level":7},"commentary":"Standing on crumbling tile (decay=1); Nearby danger (min neighbor decay=1)"},{"turn":223,"level":7,"position":{"x":20,"y":12},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":4,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":3,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":224,"level":7,"position":{"x":20,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":3,"level":7,"nearbyDecayMin":17},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":2,"level":7},"commentary":""},{"turn":225,"level":7,"position":{"x":20,"y":10},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":2,"level":7,"nearbyDecayMin":20},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":1,"level":7},"commentary":""},{"turn":226,"level":7,"position":{"x":19,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":1,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":7},"commentary":""},{"turn":227,"level":7,"position":{"x":19,"y":8},"action":{"action":"descend"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":29,"level":8},"commentary":"Pushed a pillar; Reached level 8"},{"turn":228,"level":8,"position":{"x":32,"y":21},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":29,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":28,"level":8},"commentary":"Only 1 viable path(s)"},{"turn":229,"level":8,"position":{"x":31,"y":20},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":28,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":27,"level":8},"commentary":""},{"turn":230,"level":8,"position":{"x":30,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":27,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":26,"level":8},"commentary":""},{"turn":231,"level":8,"position":{"x":29,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":26,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":25,"level":8},"commentary":""},{"turn":232,"level":8,"position":{"x":28,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":25,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":24,"level":8},"commentary":""},{"turn":233,"level":8,"position":{"x":27,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":24,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":234,"level":8,"position":{"x":26,"y":18},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":235,"level":8,"position":{"x":26,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":8},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":236,"level":8,"position":{"x":25,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":21,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":237,"level":8,"position":{"x":24,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":21,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":8},"commentary":""},{"turn":238,"level":8,"position":{"x":23,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":19,"level":8},"commentary":"Only 1 viable path(s); Nearby danger (min neighbor decay=1)"},{"turn":239,"level":8,"position":{"x":22,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":19,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":18,"level":8},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":240,"level":8,"position":{"x":21,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":18,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":8},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":241,"level":8,"position":{"x":20,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":242,"level":8,"position":{"x":19,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":243,"level":8,"position":{"x":18,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":8},"commentary":""},{"turn":244,"level":8,"position":{"x":17,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":245,"level":8,"position":{"x":16,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":246,"level":8,"position":{"x":15,"y":18},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":11,"level":8},"commentary":""},{"turn":247,"level":8,"position":{"x":14,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":11,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":248,"level":8,"position":{"x":13,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":249,"level":8,"position":{"x":13,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":10},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":250,"level":8,"position":{"x":13,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":14},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":251,"level":8,"position":{"x":13,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":15},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":252,"level":8,"position":{"x":13,"y":13},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":16},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":253,"level":8,"position":{"x":12,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":""},{"turn":254,"level":8,"position":{"x":11,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":7,"level":8},"commentary":""},{"turn":255,"level":8,"position":{"x":10,"y":11},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":7,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":8},"commentary":""},{"turn":256,"level":8,"position":{"x":9,"y":10},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":5,"level":8},"commentary":""},{"turn":257,"level":8,"position":{"x":8,"y":10},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":5,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":4,"level":8},"commentary":""},{"turn":258,"level":8,"position":{"x":7,"y":10},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":4,"level":8,"nearbyDecayMin":19},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":3,"level":8},"commentary":""},{"turn":259,"level":8,"position":{"x":6,"y":10},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":3,"level":8,"nearbyDecayMin":23},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":2,"level":8},"commentary":""},{"turn":260,"level":8,"position":{"x":5,"y":10},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":2,"level":8,"nearbyDecayMin":24},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":8},"commentary":""},{"turn":261,"level":8,"position":{"x":4,"y":9},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":8},"commentary":""},{"turn":262,"level":8,"position":{"x":3,"y":10},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":"Pushed a pillar; Reached level 9"},{"turn":263,"level":9,"position":{"x":11,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":264,"level":9,"position":{"x":10,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":9},"commentary":""},{"turn":265,"level":9,"position":{"x":9,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":""},{"turn":266,"level":9,"position":{"x":8,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":267,"level":9,"position":{"x":7,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":268,"level":9,"position":{"x":7,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":""},{"turn":269,"level":9,"position":{"x":7,"y":20},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":270,"level":9,"position":{"x":6,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":1,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":271,"level":9,"position":{"x":6,"y":22},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":1,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":9},"commentary":""},{"turn":272,"level":9,"position":{"x":7,"y":23},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":10},"commentary":"Pushed a pillar; Reached level 10"}],"result":{"won":true,"level":10,"moves":272,"reason":"success","gameStats":{"grappleUsed":2,"pillarPushes":9,"stabilizersUsed":11,"rewinds":3,"crystalsCollected":0,"stabilizerTypes":["radial"]}},"description":"Seed 4880 ‚Äî 11 stabilizers, 2 grapples, 9 pillar pushes, 36 tense moments"},{"version":3,"seed":5000,"targetLevel":10,"botType":"oracle","timestamp":1770525824494,"moves":[{"turn":1,"level":1,"position":{"x":14,"y":4},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":2,"level":1,"position":{"x":15,"y":3},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":3,"level":1,"position":{"x":16,"y":3},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":4,"level":1,"position":{"x":17,"y":4},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":5,"level":1,"position":{"x":18,"y":4},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":6,"level":1,"position":{"x":19,"y":4},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":7,"level":1,"position":{"x":20,"y":4},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":8,"level":1,"position":{"x":21,"y":3},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":9,"level":1,"position":{"x":22,"y":2},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":14,"level":1},"commentary":""},{"turn":10,"level":1,"position":{"x":23,"y":1},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":14,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":11,"level":1,"position":{"x":24,"y":2},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":12,"level":1,"position":{"x":25,"y":2},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":13,"level":1,"position":{"x":24,"y":3},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":14,"level":1,"position":{"x":23,"y":4},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":15,"level":1,"position":{"x":24,"y":5},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":9,"level":1},"commentary":""},{"turn":16,"level":1,"position":{"x":24,"y":6},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":9,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":17,"level":1,"position":{"x":24,"y":7},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":18,"level":1,"position":{"x":24,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":19,"level":1,"position":{"x":24,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":20,"level":1,"position":{"x":24,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":21,"level":1,"position":{"x":24,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":22,"level":1,"position":{"x":24,"y":12},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":2,"level":1},"commentary":""},{"turn":23,"level":1,"position":{"x":23,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":2,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":1,"level":1},"commentary":""},{"turn":24,"level":1,"position":{"x":23,"y":14},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":1,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":0,"level":1},"commentary":""},{"turn":25,"level":1,"position":{"x":24,"y":15},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":0,"level":1,"nearbyDecayMin":39},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":22,"level":2},"commentary":"Pushed a pillar; Reached level 2"},{"turn":26,"level":2,"position":{"x":11,"y":10},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":22,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":21,"level":2},"commentary":""},{"turn":27,"level":2,"position":{"x":12,"y":9},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":21,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":20,"level":2},"commentary":""},{"turn":28,"level":2,"position":{"x":13,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":20,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":2},"commentary":""},{"turn":29,"level":2,"position":{"x":14,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":18,"level":2},"commentary":""},{"turn":30,"level":2,"position":{"x":15,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":18,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":31,"level":2,"position":{"x":16,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":2},"commentary":""},{"turn":32,"level":2,"position":{"x":17,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":2},"commentary":""},{"turn":33,"level":2,"position":{"x":18,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":14,"level":2},"commentary":""},{"turn":34,"level":2,"position":{"x":19,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":14,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":35,"level":2,"position":{"x":20,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":36,"level":2,"position":{"x":21,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":37,"level":2,"position":{"x":22,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":38,"level":2,"position":{"x":22,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":39,"level":2,"position":{"x":22,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":40,"level":2,"position":{"x":22,"y":8},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":14,"level":2},"commentary":""},{"turn":41,"level":2,"position":{"x":23,"y":7},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":14,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":15,"level":2},"commentary":""},{"turn":42,"level":2,"position":{"x":24,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":15,"level":2,"nearbyDecayMin":18},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":16,"level":2},"commentary":""},{"turn":43,"level":2,"position":{"x":25,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":16,"level":2,"nearbyDecayMin":19},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":15,"level":2},"commentary":""},{"turn":44,"level":2,"position":{"x":24,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":15,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":14,"level":2},"commentary":""},{"turn":45,"level":2,"position":{"x":23,"y":7},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":14,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":46,"level":2,"position":{"x":22,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":47,"level":2,"position":{"x":22,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":48,"level":2,"position":{"x":22,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":4},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":49,"level":2,"position":{"x":22,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":50,"level":2,"position":{"x":23,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":51,"level":2,"position":{"x":24,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":52,"level":2,"position":{"x":25,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":53,"level":2,"position":{"x":26,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":54,"level":2,"position":{"x":27,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":55,"level":2,"position":{"x":28,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":56,"level":2,"position":{"x":29,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":57,"level":2,"position":{"x":30,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":58,"level":2,"position":{"x":31,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":59,"level":2,"position":{"x":32,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":60,"level":2,"position":{"x":33,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":61,"level":2,"position":{"x":34,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":62,"level":2,"position":{"x":35,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":63,"level":2,"position":{"x":36,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":64,"level":2,"position":{"x":35,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":65,"level":2,"position":{"x":35,"y":13},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":66,"level":2,"position":{"x":36,"y":14},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":67,"level":2,"position":{"x":37,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":""},{"turn":68,"level":2,"position":{"x":37,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":69,"level":2,"position":{"x":36,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":70,"level":2,"position":{"x":35,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":2,"level":2},"commentary":""},{"turn":71,"level":2,"position":{"x":34,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":2,"level":2,"nearbyDecayMin":19},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":41,"playerAwakened":true,"distToStairs":1,"level":2},"commentary":""},{"turn":72,"level":2,"position":{"x":33,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":41,"playerAwakened":true,"distToStairs":1,"level":2,"nearbyDecayMin":38},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":0,"level":2},"commentary":""},{"turn":73,"level":2,"position":{"x":33,"y":21},"action":{"action":"descend"},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":0,"level":2,"nearbyDecayMin":39},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":"Pushed a pillar; Reached level 3"},{"turn":74,"level":3,"position":{"x":20,"y":4},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":3},"commentary":""},{"turn":75,"level":3,"position":{"x":19,"y":3},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":3,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":16,"level":3},"commentary":""},{"turn":76,"level":3,"position":{"x":18,"y":2},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":16,"level":3,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":3},"commentary":""},{"turn":77,"level":3,"position":{"x":17,"y":2},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":3},"commentary":""},{"turn":78,"level":3,"position":{"x":16,"y":3},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":""},{"turn":79,"level":3,"position":{"x":15,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":""},{"turn":80,"level":3,"position":{"x":14,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":""},{"turn":81,"level":3,"position":{"x":13,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":82,"level":3,"position":{"x":12,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":83,"level":3,"position":{"x":11,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":84,"level":3,"position":{"x":10,"y":4},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":15,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":85,"level":3,"position":{"x":9,"y":3},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":15,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":86,"level":3,"position":{"x":8,"y":2},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":3,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":3},"commentary":""},{"turn":87,"level":3,"position":{"x":7,"y":1},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":3},"commentary":""},{"turn":88,"level":3,"position":{"x":6,"y":1},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":3,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":16,"level":3},"commentary":""},{"turn":89,"level":3,"position":{"x":5,"y":2},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":16,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":3},"commentary":""},{"turn":90,"level":3,"position":{"x":4,"y":3},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":""},{"turn":91,"level":3,"position":{"x":5,"y":4},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":3},"commentary":""},{"turn":92,"level":3,"position":{"x":6,"y":5},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":12,"level":3},"commentary":""},{"turn":93,"level":3,"position":{"x":7,"y":6},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":12,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":11,"level":3},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":94,"level":3,"position":{"x":7,"y":7},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":11,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":95,"level":3,"position":{"x":7,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":96,"level":3,"position":{"x":7,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":97,"level":3,"position":{"x":7,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":98,"level":3,"position":{"x":7,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":11},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":99,"level":3,"position":{"x":7,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":100,"level":3,"position":{"x":7,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":4,"level":3},"commentary":""},{"turn":101,"level":3,"position":{"x":6,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":4,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":""},{"turn":102,"level":3,"position":{"x":6,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":""},{"turn":103,"level":3,"position":{"x":6,"y":16},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":11},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":1,"level":3},"commentary":""},{"turn":104,"level":3,"position":{"x":7,"y":17},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":1,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":0,"level":3},"commentary":""},{"turn":105,"level":3,"position":{"x":8,"y":18},"action":{"action":"descend"},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":0,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":"Pushed a pillar; Reached level 4"},{"turn":106,"level":4,"position":{"x":19,"y":9},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":107,"level":4,"position":{"x":18,"y":10},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":""},{"turn":108,"level":4,"position":{"x":17,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":""},{"turn":109,"level":4,"position":{"x":17,"y":12},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":110,"level":4,"position":{"x":18,"y":13},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":111,"level":4,"position":{"x":19,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":112,"level":4,"position":{"x":19,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":113,"level":4,"position":{"x":18,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":114,"level":4,"position":{"x":17,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":13,"level":4},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":115,"level":4,"position":{"x":16,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":13,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":116,"level":4,"position":{"x":15,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":117,"level":4,"position":{"x":14,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":118,"level":4,"position":{"x":13,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":4},"commentary":""},{"turn":119,"level":4,"position":{"x":12,"y":16},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":4},"commentary":""},{"turn":120,"level":4,"position":{"x":11,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":4,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":8,"level":4},"commentary":""},{"turn":121,"level":4,"position":{"x":10,"y":15},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":8,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":4},"commentary":""},{"turn":122,"level":4,"position":{"x":9,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":4,"nearbyDecayMin":13},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":4},"commentary":""},{"turn":123,"level":4,"position":{"x":8,"y":13},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":5,"level":4},"commentary":""},{"turn":124,"level":4,"position":{"x":7,"y":12},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":5,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":125,"level":4,"position":{"x":7,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":126,"level":4,"position":{"x":7,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":127,"level":4,"position":{"x":7,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":14},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":128,"level":4,"position":{"x":7,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":""},{"turn":129,"level":4,"position":{"x":6,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":""},{"turn":130,"level":4,"position":{"x":5,"y":7},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":17},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":1,"level":4},"commentary":""},{"turn":131,"level":4,"position":{"x":4,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":1,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":4},"commentary":""},{"turn":132,"level":4,"position":{"x":3,"y":7},"action":{"action":"descend"},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":"Pushed a pillar; Reached level 5"},{"turn":133,"level":5,"position":{"x":22,"y":22},"action":{"action":"grapple","targetX":22,"targetY":15},"preState":{"stabCharges":7,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":"Grappled to (22,15)"},{"turn":134,"level":5,"position":{"x":22,"y":15},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":5},"commentary":""},{"turn":135,"level":5,"position":{"x":21,"y":14},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":136,"level":5,"position":{"x":22,"y":13},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":137,"level":5,"position":{"x":23,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":138,"level":5,"position":{"x":24,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":139,"level":5,"position":{"x":25,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":140,"level":5,"position":{"x":26,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":141,"level":5,"position":{"x":27,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":5},"commentary":""},{"turn":142,"level":5,"position":{"x":28,"y":11},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":5},"commentary":""},{"turn":143,"level":5,"position":{"x":29,"y":10},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":5},"commentary":""},{"turn":144,"level":5,"position":{"x":30,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":5},"commentary":""},{"turn":145,"level":5,"position":{"x":31,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":""},{"turn":146,"level":5,"position":{"x":32,"y":12},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":5},"commentary":""},{"turn":147,"level":5,"position":{"x":33,"y":13},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":""},{"turn":148,"level":5,"position":{"x":34,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":""},{"turn":149,"level":5,"position":{"x":34,"y":15},"action":{"action":"stabilize"},"preState":{"stabCharges":7,"grappleCharges":2,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":2,"playerDecay":23,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":150,"level":5,"position":{"x":34,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":2,"playerDecay":23,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":151,"level":5,"position":{"x":34,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":152,"level":5,"position":{"x":34,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":6,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":153,"level":5,"position":{"x":34,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":6,"level":5,"nearbyDecayMin":17},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":5,"level":5},"commentary":""},{"turn":154,"level":5,"position":{"x":34,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":5,"level":5,"nearbyDecayMin":18},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":4,"level":5},"commentary":""},{"turn":155,"level":5,"position":{"x":34,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":4,"level":5,"nearbyDecayMin":19},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":3,"level":5},"commentary":""},{"turn":156,"level":5,"position":{"x":34,"y":21},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":3,"level":5,"nearbyDecayMin":20},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":5},"commentary":""},{"turn":157,"level":5,"position":{"x":33,"y":22},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":5},"commentary":""},{"turn":158,"level":5,"position":{"x":32,"y":22},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":3,"level":5},"commentary":""},{"turn":159,"level":5,"position":{"x":31,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":3,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":4,"level":5},"commentary":""},{"turn":160,"level":5,"position":{"x":30,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":4,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":3,"level":5},"commentary":""},{"turn":161,"level":5,"position":{"x":31,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":3,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":2,"level":5},"commentary":""},{"turn":162,"level":5,"position":{"x":32,"y":23},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":2,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":1,"level":5},"commentary":""},{"turn":163,"level":5,"position":{"x":33,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":1,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":0,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":164,"level":5,"position":{"x":34,"y":24},"action":{"action":"descend"},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":0,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":17,"level":6},"commentary":"Pushed a pillar; Reached level 6; Nearby danger (min neighbor decay=1)"},{"turn":165,"level":6,"position":{"x":41,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":17,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":16,"level":6},"commentary":""},{"turn":166,"level":6,"position":{"x":40,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":16,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":15,"level":6},"commentary":""},{"turn":167,"level":6,"position":{"x":39,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":15,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":168,"level":6,"position":{"x":40,"y":8},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":13,"level":6},"commentary":""},{"turn":169,"level":6,"position":{"x":41,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":13,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":12,"level":6},"commentary":""},{"turn":170,"level":6,"position":{"x":41,"y":10},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":12,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":171,"level":6,"position":{"x":40,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":172,"level":6,"position":{"x":39,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":173,"level":6,"position":{"x":38,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":174,"level":6,"position":{"x":37,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":175,"level":6,"position":{"x":36,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":176,"level":6,"position":{"x":35,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":177,"level":6,"position":{"x":34,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":178,"level":6,"position":{"x":33,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":179,"level":6,"position":{"x":32,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":180,"level":6,"position":{"x":32,"y":13},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":""},{"turn":181,"level":6,"position":{"x":33,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":""},{"turn":182,"level":6,"position":{"x":32,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":6},"commentary":""},{"turn":183,"level":6,"position":{"x":31,"y":16},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":6,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":6},"commentary":""},{"turn":184,"level":6,"position":{"x":32,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":6,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":""},{"turn":185,"level":6,"position":{"x":32,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":13},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":""},{"turn":186,"level":6,"position":{"x":32,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":14},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":6},"commentary":""},{"turn":187,"level":6,"position":{"x":31,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":6},"commentary":""},{"turn":188,"level":6,"position":{"x":31,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":6},"commentary":""},{"turn":189,"level":6,"position":{"x":32,"y":22},"action":{"action":"descend"},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Pushed a pillar; Reached level 7"},{"turn":190,"level":7,"position":{"x":16,"y":7},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":191,"level":7,"position":{"x":16,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":192,"level":7,"position":{"x":15,"y":5},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":193,"level":7,"position":{"x":14,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":194,"level":7,"position":{"x":13,"y":4},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":195,"level":7,"position":{"x":12,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":196,"level":7,"position":{"x":11,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":197,"level":7,"position":{"x":10,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":198,"level":7,"position":{"x":9,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":199,"level":7,"position":{"x":8,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":200,"level":7,"position":{"x":7,"y":7},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Near-death rewind!"},{"turn":201,"level":7,"position":{"x":11,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":202,"level":7,"position":{"x":10,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":203,"level":7,"position":{"x":9,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":204,"level":7,"position":{"x":8,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":205,"level":7,"position":{"x":7,"y":7},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Near-death rewind!"},{"turn":206,"level":7,"position":{"x":11,"y":6},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":207,"level":7,"position":{"x":12,"y":7},"action":{"action":"stabilize"},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":2,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Stabilizer deployed"},{"turn":208,"level":7,"position":{"x":12,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":2,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":1,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":209,"level":7,"position":{"x":13,"y":8},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":1,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":210,"level":7,"position":{"x":14,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":211,"level":7,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":212,"level":7,"position":{"x":13,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":213,"level":7,"position":{"x":12,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":214,"level":7,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Near-death rewind!; Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":215,"level":7,"position":{"x":14,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":216,"level":7,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":217,"level":7,"position":{"x":13,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":218,"level":7,"position":{"x":12,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":219,"level":7,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Near-death rewind!; Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":220,"level":7,"position":{"x":14,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":221,"level":7,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":222,"level":7,"position":{"x":13,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":223,"level":7,"position":{"x":12,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":224,"level":7,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Near-death rewind!; Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":225,"level":7,"position":{"x":14,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":3,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Stabilizer deployed"},{"turn":226,"level":7,"position":{"x":14,"y":9},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":3,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":227,"level":7,"position":{"x":16,"y":7},"action":{"action":"stabilize"},"preState":{"stabCharges":6,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Stabilizer deployed"},{"turn":228,"level":7,"position":{"x":16,"y":7},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":1,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":229,"level":7,"position":{"x":16,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":1,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":230,"level":7,"position":{"x":17,"y":5},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":4,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":8},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Stabilizer deployed"},{"turn":231,"level":7,"position":{"x":17,"y":5},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":8},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":232,"level":7,"position":{"x":17,"y":4},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":1,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":233,"level":7,"position":{"x":16,"y":4},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":4,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":4,"stabCooldown":2,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":"Stabilizer deployed"},{"turn":234,"level":7,"position":{"x":16,"y":4},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":4,"stabCooldown":2,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":4,"stabCooldown":1,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":235,"level":7,"position":{"x":17,"y":4},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":4,"stabCooldown":1,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":4,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":236,"level":7,"position":{"x":18,"y":5},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":4,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":4,"stabCooldown":2,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Stabilizer deployed"},{"turn":237,"level":7,"position":{"x":18,"y":5},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":4,"stabCooldown":2,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":4,"stabCooldown":1,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":238,"level":7,"position":{"x":18,"y":6},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":4,"stabCooldown":1,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":239,"level":7,"position":{"x":18,"y":5},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Stabilizer deployed"},{"turn":240,"level":7,"position":{"x":18,"y":5},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":241,"level":7,"position":{"x":17,"y":4},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":242,"level":7,"position":{"x":18,"y":5},"action":{"action":"stabilize"},"preState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":4,"stabCooldown":2,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":243,"level":7,"position":{"x":18,"y":5},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":4,"stabCooldown":2,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":4,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":244,"level":7,"position":{"x":18,"y":6},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":4,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Near-death rewind!"},{"turn":245,"level":7,"position":{"x":18,"y":5},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":2,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":246,"level":7,"position":{"x":17,"y":4},"action":{"action":"grapple","targetX":9,"targetY":7},"preState":{"stabCharges":1,"grappleCharges":4,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Grappled to (9,7); Only 1 viable path(s)"},{"turn":247,"level":7,"position":{"x":9,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":248,"level":7,"position":{"x":8,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":249,"level":7,"position":{"x":7,"y":7},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":250,"level":7,"position":{"x":6,"y":8},"action":{"action":"stabilize"},"preState":{"stabCharges":1,"grappleCharges":3,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":2,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":251,"level":7,"position":{"x":6,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":2,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":1,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":252,"level":7,"position":{"x":6,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":1,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":253,"level":7,"position":{"x":6,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":254,"level":7,"position":{"x":6,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":255,"level":7,"position":{"x":6,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":256,"level":7,"position":{"x":6,"y":13},"action":{"action":"grapple","targetX":7,"targetY":21},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":"Grappled to (7,21)"},{"turn":257,"level":7,"position":{"x":7,"y":21},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":258,"level":7,"position":{"x":8,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":259,"level":7,"position":{"x":9,"y":19},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":260,"level":7,"position":{"x":10,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":261,"level":7,"position":{"x":11,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":22},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":262,"level":7,"position":{"x":12,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":17},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":263,"level":7,"position":{"x":13,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":20},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":264,"level":7,"position":{"x":14,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":20},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":265,"level":7,"position":{"x":15,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":21},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":266,"level":7,"position":{"x":16,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":22},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":267,"level":7,"position":{"x":17,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":23},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":268,"level":7,"position":{"x":18,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":24},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":269,"level":7,"position":{"x":19,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":25},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":270,"level":7,"position":{"x":20,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":26},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":271,"level":7,"position":{"x":21,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":27},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":272,"level":7,"position":{"x":22,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":28},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":273,"level":7,"position":{"x":23,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":29},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":274,"level":7,"position":{"x":24,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":30},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":33,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":275,"level":7,"position":{"x":25,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":33,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":31},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":34,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":276,"level":7,"position":{"x":26,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":34,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":32},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":277,"level":7,"position":{"x":27,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":33},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":36,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":278,"level":7,"position":{"x":28,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":36,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":34},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":37,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":""},{"turn":279,"level":7,"position":{"x":29,"y":21},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":37,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":280,"level":7,"position":{"x":30,"y":20},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":281,"level":7,"position":{"x":30,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":""},{"turn":282,"level":7,"position":{"x":30,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":""},{"turn":283,"level":7,"position":{"x":30,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":""},{"turn":284,"level":7,"position":{"x":30,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":285,"level":7,"position":{"x":29,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":45},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":44,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":286,"level":7,"position":{"x":28,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":44,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":39},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":45,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":287,"level":7,"position":{"x":27,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":45,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":43},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":46,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":288,"level":7,"position":{"x":26,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":46,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":44},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":289,"level":7,"position":{"x":25,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":45},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":290,"level":7,"position":{"x":24,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":46},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":49,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":291,"level":7,"position":{"x":23,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":49,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":47},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":50,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":292,"level":7,"position":{"x":22,"y":15},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":50,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":48},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":51,"playerAwakened":true,"distToStairs":4,"level":7},"commentary":""},{"turn":293,"level":7,"position":{"x":21,"y":15},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":51,"playerAwakened":true,"distToStairs":4,"level":7,"nearbyDecayMin":49},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":3,"level":7},"commentary":""},{"turn":294,"level":7,"position":{"x":20,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":3,"level":7,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":7},"commentary":""},{"turn":295,"level":7,"position":{"x":19,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":7},"commentary":""},{"turn":296,"level":7,"position":{"x":18,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":7,"nearbyDecayMin":8},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":7},"commentary":""},{"turn":297,"level":7,"position":{"x":17,"y":15},"action":{"action":"descend"},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":"Pushed a pillar; Reached level 8"},{"turn":298,"level":8,"position":{"x":45,"y":5},"action":{"action":"grapple","targetX":45,"targetY":11},"preState":{"stabCharges":0,"grappleCharges":3,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":"Grappled to (45,11)"},{"turn":299,"level":8,"position":{"x":45,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":""},{"turn":300,"level":8,"position":{"x":45,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":""},{"turn":301,"level":8,"position":{"x":45,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":""},{"turn":302,"level":8,"position":{"x":45,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":""},{"turn":303,"level":8,"position":{"x":45,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":33,"level":8},"commentary":""},{"turn":304,"level":8,"position":{"x":45,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":33,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":32,"level":8},"commentary":""},{"turn":305,"level":8,"position":{"x":44,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":32,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":31,"level":8},"commentary":""},{"turn":306,"level":8,"position":{"x":43,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":31,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":30,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":307,"level":8,"position":{"x":42,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":30,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":29,"level":8},"commentary":""},{"turn":308,"level":8,"position":{"x":41,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":29,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":28,"level":8},"commentary":""},{"turn":309,"level":8,"position":{"x":40,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":28,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":27,"level":8},"commentary":""},{"turn":310,"level":8,"position":{"x":39,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":27,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":26,"level":8},"commentary":""},{"turn":311,"level":8,"position":{"x":38,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":26,"level":8,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":25,"level":8},"commentary":""},{"turn":312,"level":8,"position":{"x":37,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":25,"level":8,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":24,"level":8},"commentary":""},{"turn":313,"level":8,"position":{"x":36,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":24,"level":8,"nearbyDecayMin":13},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":23,"level":8},"commentary":""},{"turn":314,"level":8,"position":{"x":35,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":23,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":22,"level":8},"commentary":""},{"turn":315,"level":8,"position":{"x":34,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":22,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":21,"level":8},"commentary":""},{"turn":316,"level":8,"position":{"x":33,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":21,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":8},"commentary":""},{"turn":317,"level":8,"position":{"x":32,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":8},"commentary":""},{"turn":318,"level":8,"position":{"x":31,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":19,"level":8},"commentary":""},{"turn":319,"level":8,"position":{"x":31,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":19,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":8},"commentary":""},{"turn":320,"level":8,"position":{"x":31,"y":16},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":20,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":321,"level":8,"position":{"x":32,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":20,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":19,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":322,"level":8,"position":{"x":31,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":19,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":323,"level":8,"position":{"x":30,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":17,"level":8},"commentary":""},{"turn":324,"level":8,"position":{"x":29,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":17,"level":8,"nearbyDecayMin":13},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":325,"level":8,"position":{"x":28,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":17},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":""},{"turn":326,"level":8,"position":{"x":27,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":18},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":""},{"turn":327,"level":8,"position":{"x":26,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":19},"postState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":""},{"turn":328,"level":8,"position":{"x":25,"y":19},"action":{"action":"grapple","targetX":17,"targetY":19},"preState":{"stabCharges":0,"grappleCharges":2,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":24},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":"Grappled to (17,19)"},{"turn":329,"level":8,"position":{"x":17,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":14,"level":8},"commentary":""},{"turn":330,"level":8,"position":{"x":17,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":14,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":13,"level":8},"commentary":""},{"turn":331,"level":8,"position":{"x":17,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":13,"level":8,"nearbyDecayMin":38},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":12,"level":8},"commentary":""},{"turn":332,"level":8,"position":{"x":17,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":12,"level":8,"nearbyDecayMin":38},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":11,"level":8},"commentary":""},{"turn":333,"level":8,"position":{"x":17,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":11,"level":8,"nearbyDecayMin":38},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":334,"level":8,"position":{"x":17,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":38},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":335,"level":8,"position":{"x":17,"y":13},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":37,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":336,"level":8,"position":{"x":16,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":37,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":35},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":41,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":""},{"turn":337,"level":8,"position":{"x":15,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":41,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":36},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":""},{"turn":338,"level":8,"position":{"x":14,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":40},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":7,"level":8},"commentary":""},{"turn":339,"level":8,"position":{"x":13,"y":11},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":7,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":8},"commentary":""},{"turn":340,"level":8,"position":{"x":12,"y":10},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":5,"level":8},"commentary":""},{"turn":341,"level":8,"position":{"x":11,"y":9},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":5,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":46,"playerAwakened":true,"distToStairs":4,"level":8},"commentary":""},{"turn":342,"level":8,"position":{"x":12,"y":8},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":46,"playerAwakened":true,"distToStairs":4,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":3,"level":8},"commentary":""},{"turn":343,"level":8,"position":{"x":12,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":3,"level":8,"nearbyDecayMin":45},"postState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":8},"commentary":""},{"turn":344,"level":8,"position":{"x":11,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":2,"level":8},"commentary":""},{"turn":345,"level":8,"position":{"x":10,"y":5},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":2,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":8},"commentary":""},{"turn":346,"level":8,"position":{"x":11,"y":4},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":8},"commentary":""},{"turn":347,"level":8,"position":{"x":12,"y":4},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":20,"level":9},"commentary":"Pushed a pillar; Reached level 9"},{"turn":348,"level":9,"position":{"x":11,"y":7},"action":{"action":"grapple","targetX":19,"targetY":7},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":20,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":9},"commentary":"Grappled to (19,7)"},{"turn":349,"level":9,"position":{"x":19,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":9},"commentary":""},{"turn":350,"level":9,"position":{"x":20,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":9},"commentary":""},{"turn":351,"level":9,"position":{"x":21,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":9},"commentary":""},{"turn":352,"level":9,"position":{"x":22,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":353,"level":9,"position":{"x":23,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":9},"commentary":""},{"turn":354,"level":9,"position":{"x":24,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":""},{"turn":355,"level":9,"position":{"x":25,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":356,"level":9,"position":{"x":26,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":357,"level":9,"position":{"x":27,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":""},{"turn":358,"level":9,"position":{"x":28,"y":7},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":""},{"turn":359,"level":9,"position":{"x":29,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":9},"commentary":""},{"turn":360,"level":9,"position":{"x":30,"y":5},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":9},"commentary":""},{"turn":361,"level":9,"position":{"x":31,"y":5},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":10},"commentary":"Pushed a pillar; Reached level 10"}],"result":{"won":true,"level":10,"moves":361,"reason":"success","gameStats":{"grappleUsed":5,"pillarPushes":9,"stabilizersUsed":13,"rewinds":6,"crystalsCollected":0,"stabilizerTypes":["radial"]}},"description":"Seed 5000 ‚Äî 13 stabilizers, 5 grapples, 9 pillar pushes, 19 tense moments"},{"version":3,"seed":2245,"targetLevel":10,"botType":"oracle","timestamp":1770525825013,"moves":[{"turn":1,"level":1,"position":{"x":43,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":18,"level":1},"commentary":""},{"turn":2,"level":1,"position":{"x":42,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":18,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":18,"level":1},"commentary":""},{"turn":3,"level":1,"position":{"x":42,"y":17},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":18,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":4,"level":1,"position":{"x":43,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":5,"level":1,"position":{"x":43,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":6,"level":1,"position":{"x":43,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":7,"level":1,"position":{"x":43,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":8,"level":1,"position":{"x":43,"y":12},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":9,"level":1,"position":{"x":43,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":10,"level":1,"position":{"x":43,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":11,"level":1,"position":{"x":43,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":12,"level":1,"position":{"x":43,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":1},"commentary":""},{"turn":13,"level":1,"position":{"x":42,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":1},"commentary":""},{"turn":14,"level":1,"position":{"x":41,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":1},"commentary":""},{"turn":15,"level":1,"position":{"x":40,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":16,"level":1,"position":{"x":39,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":1},"commentary":""},{"turn":17,"level":1,"position":{"x":40,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":1},"commentary":""},{"turn":18,"level":1,"position":{"x":41,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":1},"commentary":""},{"turn":19,"level":1,"position":{"x":42,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1},"commentary":""},{"turn":20,"level":1,"position":{"x":43,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":19,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":1},"commentary":""},{"turn":21,"level":1,"position":{"x":42,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":1},"commentary":""},{"turn":22,"level":1,"position":{"x":41,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":1},"commentary":""},{"turn":23,"level":1,"position":{"x":40,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":24,"level":1,"position":{"x":39,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":1},"commentary":""},{"turn":25,"level":1,"position":{"x":38,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":26,"level":1,"position":{"x":37,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":27,"level":1,"position":{"x":36,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":28,"level":1,"position":{"x":35,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":29,"level":1,"position":{"x":34,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":30,"level":1,"position":{"x":33,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":31,"level":1,"position":{"x":32,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":32,"level":1,"position":{"x":31,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":33,"level":1,"position":{"x":30,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":34,"level":1,"position":{"x":29,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":35,"level":1,"position":{"x":28,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":36,"level":1,"position":{"x":27,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":37,"level":1,"position":{"x":26,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":38,"level":1,"position":{"x":25,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":39,"level":1,"position":{"x":24,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":40,"level":1,"position":{"x":23,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":41,"level":1,"position":{"x":22,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":42,"level":1,"position":{"x":21,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":43,"level":1,"position":{"x":20,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":44,"level":1,"position":{"x":19,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":20},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":45,"level":1,"position":{"x":18,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":20},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":46,"level":1,"position":{"x":17,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":21},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":47,"level":1,"position":{"x":16,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":20},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":48,"level":1,"position":{"x":15,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":21},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":49,"level":1,"position":{"x":14,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":22},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":50,"level":1,"position":{"x":13,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":22},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":51,"level":1,"position":{"x":12,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":24},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":52,"level":1,"position":{"x":11,"y":7},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":22},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":14,"level":1},"commentary":""},{"turn":53,"level":1,"position":{"x":10,"y":8},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":14,"level":1,"nearbyDecayMin":24},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":54,"level":1,"position":{"x":9,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":23},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":55,"level":1,"position":{"x":9,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":26},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":56,"level":1,"position":{"x":9,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":23},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":57,"level":1,"position":{"x":9,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":24},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":58,"level":1,"position":{"x":9,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":26},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":59,"level":1,"position":{"x":9,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":24},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":60,"level":1,"position":{"x":9,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":26},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":61,"level":1,"position":{"x":9,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":25},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":62,"level":1,"position":{"x":9,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":26},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1},"commentary":""},{"turn":63,"level":1,"position":{"x":9,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":15,"level":1,"nearbyDecayMin":28},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":14,"level":1},"commentary":""},{"turn":64,"level":1,"position":{"x":10,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":14,"level":1,"nearbyDecayMin":26},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":13,"level":1},"commentary":""},{"turn":65,"level":1,"position":{"x":11,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":13,"level":1,"nearbyDecayMin":28},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":12,"level":1},"commentary":""},{"turn":66,"level":1,"position":{"x":12,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":27},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":67,"level":1,"position":{"x":13,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":28},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":68,"level":1,"position":{"x":14,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":27},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":9,"level":1},"commentary":""},{"turn":69,"level":1,"position":{"x":15,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":9,"level":1,"nearbyDecayMin":28},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":70,"level":1,"position":{"x":16,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":31},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":71,"level":1,"position":{"x":17,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":29},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":72,"level":1,"position":{"x":18,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":31},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":73,"level":1,"position":{"x":19,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":29},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":74,"level":1,"position":{"x":20,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":32},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":52,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":75,"level":1,"position":{"x":21,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":52,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":31},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":61,"playerAwakened":true,"distToStairs":2,"level":1},"commentary":""},{"turn":76,"level":1,"position":{"x":22,"y":19},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":61,"playerAwakened":true,"distToStairs":2,"level":1,"nearbyDecayMin":52},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":61,"playerAwakened":true,"distToStairs":1,"level":1},"commentary":""},{"turn":77,"level":1,"position":{"x":23,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":61,"playerAwakened":true,"distToStairs":1,"level":1,"nearbyDecayMin":39},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":59,"playerAwakened":true,"distToStairs":0,"level":1},"commentary":""},{"turn":78,"level":1,"position":{"x":24,"y":19},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":59,"playerAwakened":true,"distToStairs":0,"level":1,"nearbyDecayMin":58},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":"Pushed a pillar; Reached level 2"},{"turn":79,"level":2,"position":{"x":20,"y":24},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":80,"level":2,"position":{"x":19,"y":23},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":81,"level":2,"position":{"x":18,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":82,"level":2,"position":{"x":17,"y":21},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":83,"level":2,"position":{"x":18,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":84,"level":2,"position":{"x":19,"y":19},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":85,"level":2,"position":{"x":20,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":86,"level":2,"position":{"x":19,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":87,"level":2,"position":{"x":18,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":""},{"turn":88,"level":2,"position":{"x":17,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":89,"level":2,"position":{"x":16,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":90,"level":2,"position":{"x":15,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":2,"level":2},"commentary":""},{"turn":91,"level":2,"position":{"x":14,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":2,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":1,"level":2},"commentary":""},{"turn":92,"level":2,"position":{"x":13,"y":15},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":1,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":38,"playerAwakened":true,"distToStairs":0,"level":2},"commentary":""},{"turn":93,"level":2,"position":{"x":12,"y":14},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":38,"playerAwakened":true,"distToStairs":0,"level":2,"nearbyDecayMin":34},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":"Pushed a pillar; Reached level 3"},{"turn":94,"level":3,"position":{"x":6,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":""},{"turn":95,"level":3,"position":{"x":6,"y":17},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":96,"level":3,"position":{"x":7,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":""},{"turn":97,"level":3,"position":{"x":8,"y":19},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":98,"level":3,"position":{"x":9,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":99,"level":3,"position":{"x":10,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":100,"level":3,"position":{"x":11,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":101,"level":3,"position":{"x":12,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":102,"level":3,"position":{"x":13,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":103,"level":3,"position":{"x":14,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":104,"level":3,"position":{"x":15,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":105,"level":3,"position":{"x":16,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":106,"level":3,"position":{"x":17,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":""},{"turn":107,"level":3,"position":{"x":18,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":""},{"turn":108,"level":3,"position":{"x":19,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":3},"commentary":""},{"turn":109,"level":3,"position":{"x":20,"y":22},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":3,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":12,"level":3},"commentary":""},{"turn":110,"level":3,"position":{"x":21,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":12,"level":3,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":3},"commentary":""},{"turn":111,"level":3,"position":{"x":22,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":""},{"turn":112,"level":3,"position":{"x":23,"y":23},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":3},"commentary":""},{"turn":113,"level":3,"position":{"x":22,"y":22},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":12,"level":3},"commentary":""},{"turn":114,"level":3,"position":{"x":21,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":12,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":3},"commentary":""},{"turn":115,"level":3,"position":{"x":20,"y":24},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":""},{"turn":116,"level":3,"position":{"x":19,"y":25},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":""},{"turn":117,"level":3,"position":{"x":18,"y":26},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":118,"level":3,"position":{"x":17,"y":26},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":""},{"turn":119,"level":3,"position":{"x":16,"y":26},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":120,"level":3,"position":{"x":15,"y":26},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":121,"level":3,"position":{"x":14,"y":26},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":4,"level":3},"commentary":""},{"turn":122,"level":3,"position":{"x":13,"y":26},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":4,"level":3,"nearbyDecayMin":17},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":""},{"turn":123,"level":3,"position":{"x":12,"y":25},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":""},{"turn":124,"level":3,"position":{"x":11,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":""},{"turn":125,"level":3,"position":{"x":10,"y":24},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":1,"level":3},"commentary":""},{"turn":126,"level":3,"position":{"x":9,"y":25},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":1,"level":3,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":0,"level":3},"commentary":""},{"turn":127,"level":3,"position":{"x":9,"y":26},"action":{"action":"descend"},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":0,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":27,"level":4},"commentary":"Pushed a pillar; Reached level 4"},{"turn":128,"level":4,"position":{"x":15,"y":16},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":27,"level":4,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":26,"level":4},"commentary":""},{"turn":129,"level":4,"position":{"x":16,"y":15},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":26,"level":4,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":25,"level":4},"commentary":""},{"turn":130,"level":4,"position":{"x":17,"y":14},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":25,"level":4,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":24,"level":4},"commentary":""},{"turn":131,"level":4,"position":{"x":18,"y":14},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":24,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":23,"level":4},"commentary":""},{"turn":132,"level":4,"position":{"x":19,"y":15},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":23,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":4},"commentary":""},{"turn":133,"level":4,"position":{"x":20,"y":15},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":21,"level":4},"commentary":""},{"turn":134,"level":4,"position":{"x":21,"y":15},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":21,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":135,"level":4,"position":{"x":22,"y":15},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":19,"level":4},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":136,"level":4,"position":{"x":23,"y":15},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":19,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":18,"level":4},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":137,"level":4,"position":{"x":24,"y":15},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":18,"level":4,"nearbyDecayMin":0},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":138,"level":4,"position":{"x":25,"y":16},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":139,"level":4,"position":{"x":26,"y":17},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":140,"level":4,"position":{"x":27,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":141,"level":4,"position":{"x":26,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":142,"level":4,"position":{"x":25,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":143,"level":4,"position":{"x":25,"y":15},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":144,"level":4,"position":{"x":26,"y":14},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":145,"level":4,"position":{"x":27,"y":13},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":""},{"turn":146,"level":4,"position":{"x":28,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":13,"level":4},"commentary":""},{"turn":147,"level":4,"position":{"x":29,"y":11},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":13,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":148,"level":4,"position":{"x":30,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":149,"level":4,"position":{"x":30,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":150,"level":4,"position":{"x":30,"y":8},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":11,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":151,"level":4,"position":{"x":31,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":11,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":10,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":152,"level":4,"position":{"x":32,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":10,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":9,"level":4},"commentary":""},{"turn":153,"level":4,"position":{"x":33,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":9,"level":4,"nearbyDecayMin":13},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":8,"level":4},"commentary":""},{"turn":154,"level":4,"position":{"x":34,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":8,"level":4,"nearbyDecayMin":14},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":4},"commentary":""},{"turn":155,"level":4,"position":{"x":35,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":4,"nearbyDecayMin":15},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":4},"commentary":""},{"turn":156,"level":4,"position":{"x":36,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":4,"nearbyDecayMin":16},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":5,"level":4},"commentary":""},{"turn":157,"level":4,"position":{"x":37,"y":7},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":5,"level":4,"nearbyDecayMin":17},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":158,"level":4,"position":{"x":38,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":""},{"turn":159,"level":4,"position":{"x":39,"y":5},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":""},{"turn":160,"level":4,"position":{"x":40,"y":5},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":1,"level":4},"commentary":""},{"turn":161,"level":4,"position":{"x":41,"y":6},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":1,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":4},"commentary":""},{"turn":162,"level":4,"position":{"x":42,"y":7},"action":{"action":"descend"},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":"Pushed a pillar; Reached level 5"},{"turn":163,"level":5,"position":{"x":15,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":""},{"turn":164,"level":5,"position":{"x":14,"y":13},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":5},"commentary":""},{"turn":165,"level":5,"position":{"x":13,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":5},"commentary":""},{"turn":166,"level":5,"position":{"x":12,"y":12},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":""},{"turn":167,"level":5,"position":{"x":11,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":""},{"turn":168,"level":5,"position":{"x":10,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":169,"level":5,"position":{"x":9,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":170,"level":5,"position":{"x":8,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":""},{"turn":171,"level":5,"position":{"x":7,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":""},{"turn":172,"level":5,"position":{"x":7,"y":17},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":173,"level":5,"position":{"x":8,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":174,"level":5,"position":{"x":8,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":175,"level":5,"position":{"x":8,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":176,"level":5,"position":{"x":8,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":177,"level":5,"position":{"x":8,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":178,"level":5,"position":{"x":8,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":10},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":179,"level":5,"position":{"x":9,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Near-death rewind!"},{"turn":180,"level":5,"position":{"x":8,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":181,"level":5,"position":{"x":8,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":182,"level":5,"position":{"x":8,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":183,"level":5,"position":{"x":8,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":10},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":184,"level":5,"position":{"x":9,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Near-death rewind!"},{"turn":185,"level":5,"position":{"x":8,"y":20},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Only 1 viable path(s)"},{"turn":186,"level":5,"position":{"x":8,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":187,"level":5,"position":{"x":8,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":188,"level":5,"position":{"x":8,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":189,"level":5,"position":{"x":8,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Standing on crumbling tile (decay=2); Near-death rewind!"},{"turn":190,"level":5,"position":{"x":8,"y":20},"action":{"action":"stabilize"},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":2,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Stabilizer deployed"},{"turn":191,"level":5,"position":{"x":8,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":2,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":1,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":192,"level":5,"position":{"x":8,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":1,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":193,"level":5,"position":{"x":8,"y":22},"action":{"action":"stabilize"},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Stabilizer deployed"},{"turn":194,"level":5,"position":{"x":8,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":1,"playerDecay":13,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":""},{"turn":195,"level":5,"position":{"x":8,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":1,"playerDecay":13,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":""},{"turn":196,"level":5,"position":{"x":9,"y":24},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":2,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Stabilizer deployed"},{"turn":197,"level":5,"position":{"x":9,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":2,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":1,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":198,"level":5,"position":{"x":10,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":1,"playerDecay":12,"playerAwakened":true,"distToStairs":6,"level":5,"nearbyDecayMin":11},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":""},{"turn":199,"level":5,"position":{"x":9,"y":24},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":200,"level":5,"position":{"x":9,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":1,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":201,"level":5,"position":{"x":10,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":1,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":""},{"turn":202,"level":5,"position":{"x":9,"y":24},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Stabilizer deployed"},{"turn":203,"level":5,"position":{"x":9,"y":24},"action":{"action":"wait"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":204,"level":5,"position":{"x":9,"y":24},"action":{"action":"wait"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":205,"level":5,"position":{"x":9,"y":24},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":2,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=1); Stabilizer deployed"},{"turn":206,"level":5,"position":{"x":9,"y":24},"action":{"action":"wait"},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":2,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":207,"level":5,"position":{"x":9,"y":24},"action":{"action":"wait"},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":208,"level":5,"position":{"x":9,"y":24},"action":{"action":"stabilize"},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":"Standing on crumbling tile (decay=1); Near-death rewind!; Stabilizer deployed"},{"turn":209,"level":5,"position":{"x":9,"y":24},"action":{"action":"grapple","targetX":17,"targetY":23},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":0},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":5},"commentary":"Standing on crumbling tile (decay=1); Grappled to (17,23)"},{"turn":210,"level":5,"position":{"x":17,"y":23},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":0,"level":5},"commentary":""},{"turn":211,"level":5,"position":{"x":16,"y":23},"action":{"action":"descend"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":0,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":18,"level":6},"commentary":"Pushed a pillar; Reached level 6"},{"turn":212,"level":6,"position":{"x":5,"y":22},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":18,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":6},"commentary":""},{"turn":213,"level":6,"position":{"x":6,"y":21},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":16,"level":6},"commentary":""},{"turn":214,"level":6,"position":{"x":7,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":16,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":6},"commentary":""},{"turn":215,"level":6,"position":{"x":8,"y":19},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":216,"level":6,"position":{"x":9,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":13,"level":6},"commentary":""},{"turn":217,"level":6,"position":{"x":9,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":13,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":12,"level":6},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":218,"level":6,"position":{"x":9,"y":16},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":12,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":219,"level":6,"position":{"x":10,"y":15},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":""},{"turn":220,"level":6,"position":{"x":11,"y":14},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":""},{"turn":221,"level":6,"position":{"x":12,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":""},{"turn":222,"level":6,"position":{"x":13,"y":13},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":223,"level":6,"position":{"x":14,"y":12},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":224,"level":6,"position":{"x":14,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":225,"level":6,"position":{"x":14,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":6},"commentary":""},{"turn":226,"level":6,"position":{"x":14,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":""},{"turn":227,"level":6,"position":{"x":14,"y":8},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":228,"level":6,"position":{"x":14,"y":8},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":10,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":229,"level":6,"position":{"x":14,"y":7},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":6},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":230,"level":6,"position":{"x":15,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":231,"level":6,"position":{"x":16,"y":5},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":0,"level":6},"commentary":""},{"turn":232,"level":6,"position":{"x":17,"y":4},"action":{"action":"descend"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":0,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":"Pushed a pillar; Reached level 7"},{"turn":233,"level":7,"position":{"x":32,"y":15},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":234,"level":7,"position":{"x":33,"y":14},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":235,"level":7,"position":{"x":34,"y":13},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":236,"level":7,"position":{"x":35,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":237,"level":7,"position":{"x":36,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":238,"level":7,"position":{"x":37,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":239,"level":7,"position":{"x":38,"y":12},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":240,"level":7,"position":{"x":38,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":241,"level":7,"position":{"x":39,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":242,"level":7,"position":{"x":40,"y":11},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":3,"level":7},"commentary":""},{"turn":243,"level":7,"position":{"x":41,"y":10},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":3,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":7},"commentary":""},{"turn":244,"level":7,"position":{"x":42,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":7,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":7},"commentary":""},{"turn":245,"level":7,"position":{"x":43,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":0,"level":7},"commentary":""},{"turn":246,"level":7,"position":{"x":44,"y":12},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":0,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":18,"level":8},"commentary":"Pushed a pillar; Reached level 8; Nearby danger (min neighbor decay=2)"},{"turn":247,"level":8,"position":{"x":21,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":18,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":17,"level":8},"commentary":""},{"turn":248,"level":8,"position":{"x":20,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":17,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":249,"level":8,"position":{"x":19,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":""},{"turn":250,"level":8,"position":{"x":18,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":8},"commentary":""},{"turn":251,"level":8,"position":{"x":17,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":14,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":13,"level":8},"commentary":""},{"turn":252,"level":8,"position":{"x":16,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":13,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":12,"level":8},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":253,"level":8,"position":{"x":15,"y":20},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":12,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":8},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":254,"level":8,"position":{"x":14,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":255,"level":8,"position":{"x":13,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":256,"level":8,"position":{"x":12,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":257,"level":8,"position":{"x":12,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":258,"level":8,"position":{"x":12,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":259,"level":8,"position":{"x":12,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":260,"level":8,"position":{"x":12,"y":13},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":261,"level":8,"position":{"x":11,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":262,"level":8,"position":{"x":10,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":6,"level":8},"commentary":""},{"turn":263,"level":8,"position":{"x":9,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":6,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":8},"commentary":""},{"turn":264,"level":8,"position":{"x":8,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":8,"nearbyDecayMin":10},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":4,"level":8},"commentary":""},{"turn":265,"level":8,"position":{"x":7,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":4,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":3,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":266,"level":8,"position":{"x":6,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":3,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":267,"level":8,"position":{"x":5,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":8,"nearbyDecayMin":10},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":1,"level":8},"commentary":""},{"turn":268,"level":8,"position":{"x":4,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":1,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":8},"commentary":""},{"turn":269,"level":8,"position":{"x":3,"y":12},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":0,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":30,"level":9},"commentary":"Pushed a pillar; Reached level 9"},{"turn":270,"level":9,"position":{"x":40,"y":24},"action":{"action":"grapple","targetX":32,"targetY":24},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":30,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":22,"level":9},"commentary":"Grappled to (32,24)"},{"turn":271,"level":9,"position":{"x":32,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":22,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":21,"level":9},"commentary":""},{"turn":272,"level":9,"position":{"x":31,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":21,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":20,"level":9},"commentary":""},{"turn":273,"level":9,"position":{"x":30,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":20,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":9},"commentary":""},{"turn":274,"level":9,"position":{"x":29,"y":24},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":275,"level":9,"position":{"x":28,"y":24},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":17,"level":9},"commentary":""},{"turn":276,"level":9,"position":{"x":27,"y":23},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":17,"level":9,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":9},"commentary":""},{"turn":277,"level":9,"position":{"x":26,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":9,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":15,"level":9},"commentary":""},{"turn":278,"level":9,"position":{"x":25,"y":21},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":15,"level":9,"nearbyDecayMin":11},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":9},"commentary":""},{"turn":279,"level":9,"position":{"x":24,"y":21},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":280,"level":9,"position":{"x":23,"y":20},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":281,"level":9,"position":{"x":23,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":282,"level":9,"position":{"x":23,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":283,"level":9,"position":{"x":23,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":284,"level":9,"position":{"x":23,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":14},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":285,"level":9,"position":{"x":23,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":15},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":286,"level":9,"position":{"x":23,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":12,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":287,"level":9,"position":{"x":22,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":12,"level":9,"nearbyDecayMin":14},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":11,"level":9},"commentary":""},{"turn":288,"level":9,"position":{"x":21,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":11,"level":9,"nearbyDecayMin":15},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":10,"level":9},"commentary":""},{"turn":289,"level":9,"position":{"x":20,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":10,"level":9,"nearbyDecayMin":19},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":9,"level":9},"commentary":""},{"turn":290,"level":9,"position":{"x":19,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":9,"level":9,"nearbyDecayMin":20},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":291,"level":9,"position":{"x":18,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":21},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":7,"level":9},"commentary":""},{"turn":292,"level":9,"position":{"x":17,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":7,"level":9,"nearbyDecayMin":22},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":""},{"turn":293,"level":9,"position":{"x":16,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":23},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":294,"level":9,"position":{"x":15,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":24},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":295,"level":9,"position":{"x":14,"y":13},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":25},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":""},{"turn":296,"level":9,"position":{"x":13,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":""},{"turn":297,"level":9,"position":{"x":12,"y":12},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":9},"commentary":""},{"turn":298,"level":9,"position":{"x":11,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":9},"commentary":""},{"turn":299,"level":9,"position":{"x":10,"y":14},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":20,"level":10},"commentary":"Pushed a pillar; Reached level 10"}],"result":{"won":true,"level":10,"moves":299,"reason":"success","gameStats":{"grappleUsed":2,"pillarPushes":9,"stabilizersUsed":8,"rewinds":4,"crystalsCollected":0,"stabilizerTypes":["radial"]}},"description":"Seed 2245 ‚Äî 8 stabilizers, 2 grapples, 9 pillar pushes, 25 tense moments"},{"version":3,"seed":2144,"targetLevel":10,"botType":"oracle","timestamp":1770525825603,"moves":[{"turn":1,"level":1,"position":{"x":12,"y":27},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":2,"level":1,"position":{"x":11,"y":26},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":3,"level":1,"position":{"x":11,"y":25},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":4,"level":1,"position":{"x":12,"y":24},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":5,"level":1,"position":{"x":12,"y":23},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":6,"level":1,"position":{"x":12,"y":22},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":7,"level":1,"position":{"x":12,"y":21},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":8,"level":1,"position":{"x":12,"y":20},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":9,"level":1,"position":{"x":12,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":10,"level":1,"position":{"x":12,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":9,"level":1},"commentary":""},{"turn":11,"level":1,"position":{"x":13,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":9,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":12,"level":1,"position":{"x":14,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":13,"level":1,"position":{"x":15,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":14,"level":1,"position":{"x":16,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":15,"level":1,"position":{"x":17,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":16,"level":1,"position":{"x":18,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":17,"level":1,"position":{"x":19,"y":18},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":2,"level":1},"commentary":""},{"turn":18,"level":1,"position":{"x":20,"y":17},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":42,"playerAwakened":true,"distToStairs":2,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":43,"playerAwakened":true,"distToStairs":1,"level":1},"commentary":""},{"turn":19,"level":1,"position":{"x":21,"y":16},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":43,"playerAwakened":true,"distToStairs":1,"level":1,"nearbyDecayMin":40},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":45,"playerAwakened":true,"distToStairs":0,"level":1},"commentary":""},{"turn":20,"level":1,"position":{"x":22,"y":16},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":45,"playerAwakened":true,"distToStairs":0,"level":1,"nearbyDecayMin":41},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":"Pushed a pillar; Reached level 2"},{"turn":21,"level":2,"position":{"x":16,"y":20},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":22,"level":2,"position":{"x":15,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":23,"level":2,"position":{"x":14,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":24,"level":2,"position":{"x":13,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":19},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":25,"level":2,"position":{"x":12,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":18},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":26,"level":2,"position":{"x":11,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":27,"level":2,"position":{"x":10,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":28,"level":2,"position":{"x":9,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":29,"level":2,"position":{"x":8,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":30,"level":2,"position":{"x":7,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":31,"level":2,"position":{"x":6,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":32,"level":2,"position":{"x":5,"y":17},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":33,"level":2,"position":{"x":4,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":34,"level":2,"position":{"x":3,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":35,"level":2,"position":{"x":3,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":36,"level":2,"position":{"x":3,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":37,"level":2,"position":{"x":3,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":38,"level":2,"position":{"x":3,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":39,"level":2,"position":{"x":4,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":40,"level":2,"position":{"x":5,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":41,"level":2,"position":{"x":6,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":42,"level":2,"position":{"x":7,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":43,"level":2,"position":{"x":8,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":44,"level":2,"position":{"x":9,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":45,"level":2,"position":{"x":10,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":""},{"turn":46,"level":2,"position":{"x":11,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":47,"level":2,"position":{"x":12,"y":11},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":48,"level":2,"position":{"x":13,"y":10},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":2,"level":2},"commentary":""},{"turn":49,"level":2,"position":{"x":14,"y":10},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":48,"playerAwakened":true,"distToStairs":2,"level":2,"nearbyDecayMin":26},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":1,"level":2},"commentary":""},{"turn":50,"level":2,"position":{"x":15,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":1,"level":2,"nearbyDecayMin":42},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":0,"level":2},"commentary":""},{"turn":51,"level":2,"position":{"x":16,"y":11},"action":{"action":"descend"},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":47,"playerAwakened":true,"distToStairs":0,"level":2,"nearbyDecayMin":42},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":3},"commentary":"Pushed a pillar; Reached level 3"},{"turn":52,"level":3,"position":{"x":22,"y":10},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":3},"commentary":""},{"turn":53,"level":3,"position":{"x":21,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":15,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":3},"commentary":""},{"turn":54,"level":3,"position":{"x":20,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":3,"nearbyDecayMin":10},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":13,"level":3},"commentary":""},{"turn":55,"level":3,"position":{"x":20,"y":13},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":13,"level":3,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":3},"commentary":""},{"turn":56,"level":3,"position":{"x":21,"y":14},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":11,"level":3},"commentary":""},{"turn":57,"level":3,"position":{"x":22,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":11,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":""},{"turn":58,"level":3,"position":{"x":22,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":59,"level":3,"position":{"x":21,"y":17},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":60,"level":3,"position":{"x":20,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":61,"level":3,"position":{"x":19,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":62,"level":3,"position":{"x":19,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":63,"level":3,"position":{"x":20,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":64,"level":3,"position":{"x":21,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":65,"level":3,"position":{"x":22,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":66,"level":3,"position":{"x":23,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":67,"level":3,"position":{"x":24,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":""},{"turn":68,"level":3,"position":{"x":25,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":3},"commentary":""},{"turn":69,"level":3,"position":{"x":26,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":""},{"turn":70,"level":3,"position":{"x":26,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":11},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":""},{"turn":71,"level":3,"position":{"x":27,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":""},{"turn":72,"level":3,"position":{"x":28,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":""},{"turn":73,"level":3,"position":{"x":29,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":4,"level":3},"commentary":""},{"turn":74,"level":3,"position":{"x":30,"y":26},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":4,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":""},{"turn":75,"level":3,"position":{"x":29,"y":25},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":76,"level":3,"position":{"x":28,"y":24},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":3},"commentary":""},{"turn":77,"level":3,"position":{"x":27,"y":25},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":0,"level":3},"commentary":""},{"turn":78,"level":3,"position":{"x":26,"y":26},"action":{"action":"descend"},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":0,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":"Pushed a pillar; Reached level 4"},{"turn":79,"level":4,"position":{"x":19,"y":9},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":4},"commentary":""},{"turn":80,"level":4,"position":{"x":18,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":""},{"turn":81,"level":4,"position":{"x":17,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":4},"commentary":""},{"turn":82,"level":4,"position":{"x":16,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":11,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":4},"commentary":""},{"turn":83,"level":4,"position":{"x":15,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":10,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":4},"commentary":""},{"turn":84,"level":4,"position":{"x":14,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":9,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":4},"commentary":""},{"turn":85,"level":4,"position":{"x":13,"y":6},"action":{"action":"stabilize"},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":4},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":86,"level":4,"position":{"x":13,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":4},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":87,"level":4,"position":{"x":12,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":88,"level":4,"position":{"x":11,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":4},"commentary":""},{"turn":89,"level":4,"position":{"x":10,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":90,"level":4,"position":{"x":9,"y":6},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":91,"level":4,"position":{"x":8,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":92,"level":4,"position":{"x":7,"y":7},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":93,"level":4,"position":{"x":7,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":4},"commentary":""},{"turn":94,"level":4,"position":{"x":6,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":4},"commentary":""},{"turn":95,"level":4,"position":{"x":5,"y":6},"action":{"action":"descend"},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":26,"level":5},"commentary":"Pushed a pillar; Reached level 5"},{"turn":96,"level":5,"position":{"x":31,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":26,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":25,"level":5},"commentary":""},{"turn":97,"level":5,"position":{"x":30,"y":12},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":25,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":24,"level":5},"commentary":""},{"turn":98,"level":5,"position":{"x":29,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":24,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":24,"level":5},"commentary":""},{"turn":99,"level":5,"position":{"x":29,"y":14},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":24,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":25,"level":5},"commentary":""},{"turn":100,"level":5,"position":{"x":30,"y":15},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":25,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5},"commentary":""},{"turn":101,"level":5,"position":{"x":31,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5,"nearbyDecayMin":3},"postState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":102,"level":5,"position":{"x":31,"y":17},"action":{"action":"stabilize"},"preState":{"stabCharges":5,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":103,"level":5,"position":{"x":31,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":26,"level":5},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":104,"level":5,"position":{"x":31,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":26,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5},"commentary":"Standing on crumbling tile (decay=1); Nearby danger (min neighbor decay=2)"},{"turn":105,"level":5,"position":{"x":31,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":26,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":25,"level":5},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":106,"level":5,"position":{"x":30,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":25,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":24,"level":5},"commentary":""},{"turn":107,"level":5,"position":{"x":29,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":24,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":23,"level":5},"commentary":""},{"turn":108,"level":5,"position":{"x":28,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":23,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":22,"level":5},"commentary":""},{"turn":109,"level":5,"position":{"x":27,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":22,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":21,"level":5},"commentary":""},{"turn":110,"level":5,"position":{"x":26,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":21,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":20,"level":5},"commentary":""},{"turn":111,"level":5,"position":{"x":25,"y":20},"action":{"action":"grapple","targetX":22,"targetY":23},"preState":{"stabCharges":4,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":20,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":19,"level":5},"commentary":"Grappled to (22,23)"},{"turn":112,"level":5,"position":{"x":22,"y":23},"action":{"action":"stabilize"},"preState":{"stabCharges":4,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":19,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":2,"playerDecay":3,"playerAwakened":true,"distToStairs":19,"level":5},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":113,"level":5,"position":{"x":22,"y":23},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":2,"playerDecay":3,"playerAwakened":true,"distToStairs":19,"level":5,"nearbyDecayMin":1},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":1,"playerDecay":4,"playerAwakened":true,"distToStairs":18,"level":5},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":114,"level":5,"position":{"x":21,"y":22},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":1,"playerDecay":4,"playerAwakened":true,"distToStairs":18,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":18,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":115,"level":5,"position":{"x":20,"y":22},"action":{"action":"grapple","targetX":12,"targetY":22},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":18,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":18,"level":5},"commentary":"Grappled to (12,22); Nearby danger (min neighbor decay=2)"},{"turn":116,"level":5,"position":{"x":12,"y":22},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":18,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":17,"level":5},"commentary":""},{"turn":117,"level":5,"position":{"x":11,"y":21},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":17,"level":5,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":5},"commentary":""},{"turn":118,"level":5,"position":{"x":10,"y":20},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":16,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":5},"commentary":""},{"turn":119,"level":5,"position":{"x":10,"y":19},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":15,"level":5,"nearbyDecayMin":4},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":5},"commentary":""},{"turn":120,"level":5,"position":{"x":11,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":13,"level":5},"commentary":""},{"turn":121,"level":5,"position":{"x":11,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":13,"level":5,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":122,"level":5,"position":{"x":10,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":12,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":5},"commentary":""},{"turn":123,"level":5,"position":{"x":9,"y":15},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":""},{"turn":124,"level":5,"position":{"x":8,"y":14},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":5},"commentary":""},{"turn":125,"level":5,"position":{"x":7,"y":13},"action":{"action":"grapple","targetX":4,"targetY":5},"preState":{"stabCharges":3,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":1,"level":5},"commentary":"Grappled to (4,5)"},{"turn":126,"level":5,"position":{"x":4,"y":5},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":1,"level":5,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":0,"level":5},"commentary":""},{"turn":127,"level":5,"position":{"x":5,"y":4},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":0,"level":5,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":"Pushed a pillar; Reached level 6"},{"turn":128,"level":6,"position":{"x":18,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":15,"level":6},"commentary":""},{"turn":129,"level":6,"position":{"x":17,"y":15},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":15,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":130,"level":6,"position":{"x":18,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":131,"level":6,"position":{"x":18,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":132,"level":6,"position":{"x":18,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":133,"level":6,"position":{"x":18,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":134,"level":6,"position":{"x":18,"y":20},"action":{"action":"stabilize"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":135,"level":6,"position":{"x":18,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":136,"level":6,"position":{"x":18,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":137,"level":6,"position":{"x":18,"y":22},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":6},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":138,"level":6,"position":{"x":19,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":6},"commentary":""},{"turn":139,"level":6,"position":{"x":20,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":140,"level":6,"position":{"x":21,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":""},{"turn":141,"level":6,"position":{"x":22,"y":26},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":""},{"turn":142,"level":6,"position":{"x":23,"y":27},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":""},{"turn":143,"level":6,"position":{"x":24,"y":26},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":""},{"turn":144,"level":6,"position":{"x":25,"y":25},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":"Near-death rewind!"},{"turn":145,"level":6,"position":{"x":21,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":""},{"turn":146,"level":6,"position":{"x":22,"y":26},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":""},{"turn":147,"level":6,"position":{"x":23,"y":27},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":""},{"turn":148,"level":6,"position":{"x":24,"y":26},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":""},{"turn":149,"level":6,"position":{"x":25,"y":25},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":2,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":"Near-death rewind!"},{"turn":150,"level":6,"position":{"x":21,"y":25},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":151,"level":6,"position":{"x":21,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":""},{"turn":152,"level":6,"position":{"x":22,"y":23},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":153,"level":6,"position":{"x":23,"y":23},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":""},{"turn":154,"level":6,"position":{"x":24,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":""},{"turn":155,"level":6,"position":{"x":25,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":6},"commentary":""},{"turn":156,"level":6,"position":{"x":26,"y":25},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":6,"nearbyDecayMin":17},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":6},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":157,"level":6,"position":{"x":27,"y":25},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":6,"nearbyDecayMin":17},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":""},{"turn":158,"level":6,"position":{"x":28,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":""},{"turn":159,"level":6,"position":{"x":29,"y":23},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":160,"level":6,"position":{"x":30,"y":22},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":6},"commentary":""},{"turn":161,"level":6,"position":{"x":31,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":6},"commentary":""},{"turn":162,"level":6,"position":{"x":32,"y":22},"action":{"action":"descend"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":7},"commentary":"Pushed a pillar; Reached level 7"},{"turn":163,"level":7,"position":{"x":42,"y":3},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7},"commentary":""},{"turn":164,"level":7,"position":{"x":41,"y":2},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":165,"level":7,"position":{"x":40,"y":3},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":166,"level":7,"position":{"x":39,"y":4},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":167,"level":7,"position":{"x":38,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":168,"level":7,"position":{"x":37,"y":6},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":169,"level":7,"position":{"x":37,"y":7},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":170,"level":7,"position":{"x":37,"y":8},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":171,"level":7,"position":{"x":37,"y":8},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":1,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":172,"level":7,"position":{"x":37,"y":9},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":1,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":173,"level":7,"position":{"x":37,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":174,"level":7,"position":{"x":37,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":175,"level":7,"position":{"x":37,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":176,"level":7,"position":{"x":37,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":177,"level":7,"position":{"x":37,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":178,"level":7,"position":{"x":36,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":179,"level":7,"position":{"x":35,"y":16},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":180,"level":7,"position":{"x":34,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":181,"level":7,"position":{"x":34,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":182,"level":7,"position":{"x":35,"y":19},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":2,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":183,"level":7,"position":{"x":35,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":1,"stabCooldown":2,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":184,"level":7,"position":{"x":34,"y":20},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":1,"playerDecay":4,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":185,"level":7,"position":{"x":33,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":186,"level":7,"position":{"x":32,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":187,"level":7,"position":{"x":31,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":8},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":188,"level":7,"position":{"x":30,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":10},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":189,"level":7,"position":{"x":29,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":12},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":190,"level":7,"position":{"x":28,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":13},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":191,"level":7,"position":{"x":27,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":192,"level":7,"position":{"x":26,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":18},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":193,"level":7,"position":{"x":25,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":19},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":194,"level":7,"position":{"x":24,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":20},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":195,"level":7,"position":{"x":23,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":21},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":196,"level":7,"position":{"x":22,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":22},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":""},{"turn":197,"level":7,"position":{"x":21,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":198,"level":7,"position":{"x":20,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":199,"level":7,"position":{"x":19,"y":18},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":10},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":200,"level":7,"position":{"x":19,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":26},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":201,"level":7,"position":{"x":19,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":27},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":202,"level":7,"position":{"x":19,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":28},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":203,"level":7,"position":{"x":19,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":29},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":204,"level":7,"position":{"x":19,"y":13},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":33,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":205,"level":7,"position":{"x":20,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":33,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":34,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":206,"level":7,"position":{"x":21,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":34,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":29},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":""},{"turn":207,"level":7,"position":{"x":22,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":33},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":36,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":""},{"turn":208,"level":7,"position":{"x":23,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":36,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":34},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":37,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":209,"level":7,"position":{"x":24,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":37,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":35},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":38,"playerAwakened":true,"distToStairs":4,"level":7},"commentary":""},{"turn":210,"level":7,"position":{"x":25,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":38,"playerAwakened":true,"distToStairs":4,"level":7,"nearbyDecayMin":36},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":3,"level":7},"commentary":""},{"turn":211,"level":7,"position":{"x":26,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":3,"level":7,"nearbyDecayMin":37},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":7},"commentary":""},{"turn":212,"level":7,"position":{"x":27,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":2,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":7},"commentary":""},{"turn":213,"level":7,"position":{"x":28,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":7},"commentary":""},{"turn":214,"level":7,"position":{"x":29,"y":12},"action":{"action":"descend"},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":"Pushed a pillar; Reached level 8"},{"turn":215,"level":8,"position":{"x":39,"y":16},"action":{"action":"grapple","targetX":35,"targetY":20},"preState":{"stabCharges":2,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":8},"commentary":"Grappled to (35,20)"},{"turn":216,"level":8,"position":{"x":35,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":11,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":217,"level":8,"position":{"x":36,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":218,"level":8,"position":{"x":37,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":""},{"turn":219,"level":8,"position":{"x":38,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":7,"level":8},"commentary":""},{"turn":220,"level":8,"position":{"x":39,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":7,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":8},"commentary":""},{"turn":221,"level":8,"position":{"x":40,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":5,"level":8},"commentary":""},{"turn":222,"level":8,"position":{"x":41,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":5,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":4,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":223,"level":8,"position":{"x":42,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":4,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":3,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":224,"level":8,"position":{"x":43,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":3,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":225,"level":8,"position":{"x":44,"y":22},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":226,"level":8,"position":{"x":45,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":8},"commentary":""},{"turn":227,"level":8,"position":{"x":46,"y":24},"action":{"action":"descend"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":0,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":36,"level":9},"commentary":"Pushed a pillar; Reached level 9"},{"turn":228,"level":9,"position":{"x":7,"y":9},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":36,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":35,"level":9},"commentary":"Only 1 viable path(s)"},{"turn":229,"level":9,"position":{"x":8,"y":8},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":35,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":34,"level":9},"commentary":""},{"turn":230,"level":9,"position":{"x":9,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":34,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":33,"level":9},"commentary":""},{"turn":231,"level":9,"position":{"x":10,"y":8},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":33,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":32,"level":9},"commentary":""},{"turn":232,"level":9,"position":{"x":11,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":32,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":31,"level":9},"commentary":""},{"turn":233,"level":9,"position":{"x":12,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":31,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":30,"level":9},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":234,"level":9,"position":{"x":13,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":30,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":30,"level":9},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":235,"level":9,"position":{"x":13,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":30,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":29,"level":9},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":236,"level":9,"position":{"x":14,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":29,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":28,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":237,"level":9,"position":{"x":15,"y":9},"action":{"action":"stabilize"},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":28,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":2,"playerDecay":1,"playerAwakened":true,"distToStairs":28,"level":9},"commentary":"Stabilizer deployed; Only 1 viable path(s); Nearby danger (min neighbor decay=1)"},{"turn":238,"level":9,"position":{"x":15,"y":9},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":2,"playerDecay":1,"playerAwakened":true,"distToStairs":28,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":27,"level":9},"commentary":"Standing on crumbling tile (decay=1); Only 1 viable path(s); Nearby danger (min neighbor decay=1)"},{"turn":239,"level":9,"position":{"x":16,"y":8},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":1,"playerDecay":1,"playerAwakened":true,"distToStairs":27,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":26,"level":9},"commentary":"Standing on crumbling tile (decay=1); Nearby danger (min neighbor decay=1)"},{"turn":240,"level":9,"position":{"x":17,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":26,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":25,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":241,"level":9,"position":{"x":18,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":25,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":24,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":242,"level":9,"position":{"x":19,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":24,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":23,"level":9},"commentary":""},{"turn":243,"level":9,"position":{"x":20,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":23,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":22,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":244,"level":9,"position":{"x":21,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":22,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":21,"level":9},"commentary":""},{"turn":245,"level":9,"position":{"x":22,"y":7},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":21,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":20,"level":9},"commentary":""},{"turn":246,"level":9,"position":{"x":23,"y":7},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":20,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":9},"commentary":""},{"turn":247,"level":9,"position":{"x":24,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":19,"level":9,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":248,"level":9,"position":{"x":25,"y":5},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":17,"level":9},"commentary":"Only 1 viable path(s)"},{"turn":249,"level":9,"position":{"x":26,"y":5},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":17,"level":9,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":16,"level":9},"commentary":""},{"turn":250,"level":9,"position":{"x":27,"y":6},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":16,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":15,"level":9},"commentary":""},{"turn":251,"level":9,"position":{"x":28,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":15,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":9},"commentary":""},{"turn":252,"level":9,"position":{"x":29,"y":8},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":14,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":253,"level":9,"position":{"x":30,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":9},"commentary":""},{"turn":254,"level":9,"position":{"x":31,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":12,"level":9,"nearbyDecayMin":17},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":11,"level":9},"commentary":""},{"turn":255,"level":9,"position":{"x":32,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":11,"level":9,"nearbyDecayMin":18},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":10,"level":9},"commentary":""},{"turn":256,"level":9,"position":{"x":33,"y":9},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":10,"level":9,"nearbyDecayMin":19},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":9,"level":9},"commentary":""},{"turn":257,"level":9,"position":{"x":34,"y":9},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":9,"level":9,"nearbyDecayMin":14},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":9},"commentary":""},{"turn":258,"level":9,"position":{"x":35,"y":8},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":9,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":10,"level":9},"commentary":""},{"turn":259,"level":9,"position":{"x":36,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":10,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":260,"level":9,"position":{"x":37,"y":8},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":9,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":261,"level":9,"position":{"x":38,"y":9},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":7,"level":9},"commentary":""},{"turn":262,"level":9,"position":{"x":39,"y":10},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":7,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":""},{"turn":263,"level":9,"position":{"x":39,"y":11},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":26},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":264,"level":9,"position":{"x":39,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":27},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":265,"level":9,"position":{"x":39,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":28},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":266,"level":9,"position":{"x":39,"y":14},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":31,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":267,"level":9,"position":{"x":40,"y":15},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":268,"level":9,"position":{"x":41,"y":15},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":1,"level":9},"commentary":""},{"turn":269,"level":9,"position":{"x":42,"y":16},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":1,"level":9,"nearbyDecayMin":10},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":0,"level":9},"commentary":""},{"turn":270,"level":9,"position":{"x":43,"y":17},"action":{"action":"descend"},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":0,"level":9,"nearbyDecayMin":10},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":24,"level":10},"commentary":"Pushed a pillar; Reached level 10"}],"result":{"won":true,"level":10,"moves":270,"reason":"success","gameStats":{"grappleUsed":5,"pillarPushes":9,"stabilizersUsed":8,"rewinds":2,"crystalsCollected":0,"stabilizerTypes":["radial"]}},"description":"Seed 2144 ‚Äî 8 stabilizers, 5 grapples, 9 pillar pushes, 31 tense moments"},{"version":3,"seed":1772,"targetLevel":10,"botType":"oracle","timestamp":1770525826197,"moves":[{"turn":1,"level":1,"position":{"x":17,"y":13},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":12,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":11,"level":1},"commentary":""},{"turn":2,"level":1,"position":{"x":18,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":11,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":10,"level":1},"commentary":""},{"turn":3,"level":1,"position":{"x":19,"y":12},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":10,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":9,"level":1},"commentary":""},{"turn":4,"level":1,"position":{"x":20,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":9,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":5,"level":1,"position":{"x":21,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":6,"level":1,"position":{"x":22,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":10},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":7,"level":1,"position":{"x":23,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":8,"level":1,"position":{"x":24,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":11},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":9,"level":1,"position":{"x":25,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":10,"level":1,"position":{"x":26,"y":13},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":0,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":12},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":2,"level":1},"commentary":""},{"turn":11,"level":1,"position":{"x":27,"y":14},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":2,"level":1,"nearbyDecayMin":13},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":12,"level":1,"position":{"x":28,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":13,"level":1,"position":{"x":29,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":19},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":14,"level":1,"position":{"x":30,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":15,"level":1,"position":{"x":31,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":1,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":16,"level":1,"position":{"x":32,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":17,"level":1,"position":{"x":33,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":18,"level":1,"position":{"x":34,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":19,"level":1,"position":{"x":35,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":20,"level":1,"position":{"x":36,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":2,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":21,"level":1,"position":{"x":37,"y":13},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":9,"level":1},"commentary":""},{"turn":22,"level":1,"position":{"x":38,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":9,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":8,"level":1},"commentary":""},{"turn":23,"level":1,"position":{"x":37,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":8,"level":1,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":1},"commentary":""},{"turn":24,"level":1,"position":{"x":36,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":1,"nearbyDecayMin":16},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":1},"commentary":""},{"turn":25,"level":1,"position":{"x":35,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":6,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":1},"commentary":""},{"turn":26,"level":1,"position":{"x":34,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":5,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":4,"level":1},"commentary":""},{"turn":27,"level":1,"position":{"x":33,"y":13},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":4,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":3,"level":1},"commentary":""},{"turn":28,"level":1,"position":{"x":32,"y":13},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":3,"level":1,"nearbyDecayMin":14},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":2,"level":1},"commentary":""},{"turn":29,"level":1,"position":{"x":31,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":2,"level":1,"nearbyDecayMin":15},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":1,"level":1},"commentary":""},{"turn":30,"level":1,"position":{"x":30,"y":15},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":1,"level":1,"nearbyDecayMin":18},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":0,"level":1},"commentary":""},{"turn":31,"level":1,"position":{"x":29,"y":16},"action":{"action":"descend"},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":0,"level":1,"nearbyDecayMin":37},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":25,"level":2},"commentary":"Pushed a pillar; Reached level 2"},{"turn":32,"level":2,"position":{"x":7,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":25,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":24,"level":2},"commentary":""},{"turn":33,"level":2,"position":{"x":8,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":24,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":23,"level":2},"commentary":""},{"turn":34,"level":2,"position":{"x":9,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":23,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":22,"level":2},"commentary":""},{"turn":35,"level":2,"position":{"x":10,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":22,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":21,"level":2},"commentary":""},{"turn":36,"level":2,"position":{"x":11,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":21,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":20,"level":2},"commentary":""},{"turn":37,"level":2,"position":{"x":12,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":20,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":2},"commentary":""},{"turn":38,"level":2,"position":{"x":13,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":19,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":2},"commentary":""},{"turn":39,"level":2,"position":{"x":14,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":17,"level":2},"commentary":""},{"turn":40,"level":2,"position":{"x":15,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":17,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":2},"commentary":""},{"turn":41,"level":2,"position":{"x":16,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":15,"level":2},"commentary":""},{"turn":42,"level":2,"position":{"x":17,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":3,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":15,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":2},"commentary":""},{"turn":43,"level":2,"position":{"x":18,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":13,"level":2},"commentary":""},{"turn":44,"level":2,"position":{"x":19,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":13,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":2},"commentary":""},{"turn":45,"level":2,"position":{"x":20,"y":11},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":46,"level":2,"position":{"x":21,"y":10},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":47,"level":2,"position":{"x":22,"y":9},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":17},"postState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":48,"level":2,"position":{"x":23,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":4,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":49,"level":2,"position":{"x":24,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":16},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":50,"level":2,"position":{"x":25,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":51,"level":2,"position":{"x":26,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":""},{"turn":52,"level":2,"position":{"x":27,"y":12},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":12},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":53,"level":2,"position":{"x":28,"y":12},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":54,"level":2,"position":{"x":29,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":55,"level":2,"position":{"x":30,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":56,"level":2,"position":{"x":31,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":15},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":57,"level":2,"position":{"x":30,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":58,"level":2,"position":{"x":29,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":13},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":""},{"turn":59,"level":2,"position":{"x":28,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":10},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":""},{"turn":60,"level":2,"position":{"x":27,"y":12},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":61,"level":2,"position":{"x":26,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":62,"level":2,"position":{"x":25,"y":11},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":63,"level":2,"position":{"x":24,"y":10},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":64,"level":2,"position":{"x":23,"y":9},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":65,"level":2,"position":{"x":22,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":66,"level":2,"position":{"x":21,"y":7},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":2},"commentary":""},{"turn":67,"level":2,"position":{"x":21,"y":6},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":2},"commentary":""},{"turn":68,"level":2,"position":{"x":22,"y":5},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":10,"level":2,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":2},"commentary":""},{"turn":69,"level":2,"position":{"x":23,"y":5},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":2,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":2},"commentary":""},{"turn":70,"level":2,"position":{"x":24,"y":6},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":2,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":2},"commentary":""},{"turn":71,"level":2,"position":{"x":25,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":7,"level":2,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":2},"commentary":""},{"turn":72,"level":2,"position":{"x":26,"y":8},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":2,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":5,"level":2},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":73,"level":2,"position":{"x":27,"y":8},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":5,"level":2,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":4,"level":2},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":74,"level":2,"position":{"x":28,"y":8},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":4,"level":2,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":2},"commentary":""},{"turn":75,"level":2,"position":{"x":29,"y":7},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":3,"level":2,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":2},"commentary":""},{"turn":76,"level":2,"position":{"x":30,"y":6},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":2,"level":2,"nearbyDecayMin":11},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":34,"playerAwakened":true,"distToStairs":1,"level":2},"commentary":""},{"turn":77,"level":2,"position":{"x":31,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":34,"playerAwakened":true,"distToStairs":1,"level":2,"nearbyDecayMin":14},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":0,"level":2},"commentary":""},{"turn":78,"level":2,"position":{"x":32,"y":8},"action":{"action":"descend"},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":32,"playerAwakened":true,"distToStairs":0,"level":2,"nearbyDecayMin":31},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":13,"level":3},"commentary":"Pushed a pillar; Reached level 3"},{"turn":79,"level":3,"position":{"x":9,"y":11},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":13,"level":3,"nearbyDecayMin":13},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":3},"commentary":""},{"turn":80,"level":3,"position":{"x":8,"y":12},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":12,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":3},"commentary":""},{"turn":81,"level":3,"position":{"x":9,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":11,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":3},"commentary":""},{"turn":82,"level":3,"position":{"x":9,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":""},{"turn":83,"level":3,"position":{"x":9,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":84,"level":3,"position":{"x":9,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":""},{"turn":85,"level":3,"position":{"x":9,"y":17},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":86,"level":3,"position":{"x":10,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":87,"level":3,"position":{"x":11,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":88,"level":3,"position":{"x":12,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":89,"level":3,"position":{"x":13,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":90,"level":3,"position":{"x":14,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":91,"level":3,"position":{"x":15,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":5},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":92,"level":3,"position":{"x":16,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":""},{"turn":93,"level":3,"position":{"x":17,"y":18},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":94,"level":3,"position":{"x":18,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":3},"commentary":""},{"turn":95,"level":3,"position":{"x":19,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":9,"level":3,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":3},"commentary":""},{"turn":96,"level":3,"position":{"x":18,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":8,"level":3,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":3},"commentary":""},{"turn":97,"level":3,"position":{"x":17,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":3},"commentary":""},{"turn":98,"level":3,"position":{"x":16,"y":20},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":3,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":3},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":99,"level":3,"position":{"x":15,"y":20},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":4,"level":3},"commentary":""},{"turn":100,"level":3,"position":{"x":14,"y":21},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":4,"level":3,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":3},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":101,"level":3,"position":{"x":13,"y":21},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":3,"level":3,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":2,"level":3},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":102,"level":3,"position":{"x":12,"y":22},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":2,"level":3,"nearbyDecayMin":14},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":1,"level":3},"commentary":""},{"turn":103,"level":3,"position":{"x":11,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":1,"level":3,"nearbyDecayMin":15},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":0,"level":3},"commentary":""},{"turn":104,"level":3,"position":{"x":10,"y":24},"action":{"action":"descend"},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":0,"level":3,"nearbyDecayMin":14},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Pushed a pillar; Reached level 4"},{"turn":105,"level":4,"position":{"x":39,"y":20},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":19,"level":4},"commentary":""},{"turn":106,"level":4,"position":{"x":38,"y":19},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":19,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":4},"commentary":""},{"turn":107,"level":4,"position":{"x":38,"y":18},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":19,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":""},{"turn":108,"level":4,"position":{"x":39,"y":17},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":""},{"turn":109,"level":4,"position":{"x":39,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":""},{"turn":110,"level":4,"position":{"x":39,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":""},{"turn":111,"level":4,"position":{"x":39,"y":14},"action":{"action":"stabilize"},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":112,"level":4,"position":{"x":39,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":113,"level":4,"position":{"x":39,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":114,"level":4,"position":{"x":39,"y":12},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":""},{"turn":115,"level":4,"position":{"x":39,"y":11},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":""},{"turn":116,"level":4,"position":{"x":39,"y":10},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":117,"level":4,"position":{"x":39,"y":9},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":20,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":118,"level":4,"position":{"x":39,"y":8},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":20,"level":4,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":19,"level":4},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":119,"level":4,"position":{"x":38,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":19,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":18,"level":4},"commentary":""},{"turn":120,"level":4,"position":{"x":37,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":18,"level":4,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":4},"commentary":""},{"turn":121,"level":4,"position":{"x":36,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":16,"level":4},"commentary":""},{"turn":122,"level":4,"position":{"x":35,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":16,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":15,"level":4},"commentary":""},{"turn":123,"level":4,"position":{"x":34,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":15,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":4},"commentary":""},{"turn":124,"level":4,"position":{"x":33,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":13,"level":4},"commentary":""},{"turn":125,"level":4,"position":{"x":32,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":13,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":12,"level":4},"commentary":""},{"turn":126,"level":4,"position":{"x":31,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":12,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":4},"commentary":""},{"turn":127,"level":4,"position":{"x":30,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":4},"commentary":""},{"turn":128,"level":4,"position":{"x":29,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":10,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":4},"commentary":""},{"turn":129,"level":4,"position":{"x":28,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":4,"nearbyDecayMin":7},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":4},"commentary":""},{"turn":130,"level":4,"position":{"x":27,"y":5},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":8,"level":4,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":7,"level":4},"commentary":""},{"turn":131,"level":4,"position":{"x":26,"y":5},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":7,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":4},"commentary":""},{"turn":132,"level":4,"position":{"x":25,"y":6},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":6,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":4},"commentary":""},{"turn":133,"level":4,"position":{"x":24,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":5,"level":4,"nearbyDecayMin":3},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":134,"level":4,"position":{"x":23,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":135,"level":4,"position":{"x":22,"y":7},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":20},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":""},{"turn":136,"level":4,"position":{"x":21,"y":7},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":23},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":""},{"turn":137,"level":4,"position":{"x":20,"y":6},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":13},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":""},{"turn":138,"level":4,"position":{"x":19,"y":5},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":12},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":139,"level":4,"position":{"x":18,"y":4},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":11},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":4},"commentary":""},{"turn":140,"level":4,"position":{"x":17,"y":3},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":5,"level":4,"nearbyDecayMin":10},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":4},"commentary":""},{"turn":141,"level":4,"position":{"x":17,"y":4},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":4,"level":4,"nearbyDecayMin":9},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":3,"level":4},"commentary":""},{"turn":142,"level":4,"position":{"x":17,"y":5},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":3,"level":4,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":2,"level":4},"commentary":""},{"turn":143,"level":4,"position":{"x":17,"y":6},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":2,"level":4,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":4},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":144,"level":4,"position":{"x":18,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":1,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":0,"level":4},"commentary":""},{"turn":145,"level":4,"position":{"x":19,"y":8},"action":{"action":"descend"},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":0,"level":4,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":5},"commentary":"Pushed a pillar; Reached level 5"},{"turn":146,"level":5,"position":{"x":38,"y":11},"action":{"action":"grapple","targetX":38,"targetY":19},"preState":{"stabCharges":8,"grappleCharges":3,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":10,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5},"commentary":"Grappled to (38,19)"},{"turn":147,"level":5,"position":{"x":38,"y":19},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":8,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":5},"commentary":""},{"turn":148,"level":5,"position":{"x":39,"y":20},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":5,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":6,"level":5},"commentary":""},{"turn":149,"level":5,"position":{"x":40,"y":19},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":6,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":5},"commentary":""},{"turn":150,"level":5,"position":{"x":41,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":5,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":4,"level":5},"commentary":""},{"turn":151,"level":5,"position":{"x":42,"y":21},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":4,"level":5,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":3,"level":5},"commentary":""},{"turn":152,"level":5,"position":{"x":43,"y":21},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":3,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":5},"commentary":""},{"turn":153,"level":5,"position":{"x":44,"y":20},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":5},"commentary":""},{"turn":154,"level":5,"position":{"x":45,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":1,"level":5,"nearbyDecayMin":7},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":5},"commentary":""},{"turn":155,"level":5,"position":{"x":46,"y":21},"action":{"action":"descend"},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":5,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":"Pushed a pillar; Reached level 6"},{"turn":156,"level":6,"position":{"x":23,"y":10},"action":{"action":"grapple","targetX":23,"targetY":18},"preState":{"stabCharges":8,"grappleCharges":2,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":"Grappled to (23,18)"},{"turn":157,"level":6,"position":{"x":23,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":""},{"turn":158,"level":6,"position":{"x":22,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":""},{"turn":159,"level":6,"position":{"x":21,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":""},{"turn":160,"level":6,"position":{"x":20,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":161,"level":6,"position":{"x":19,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":6},"commentary":""},{"turn":162,"level":6,"position":{"x":18,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":12,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":6},"commentary":""},{"turn":163,"level":6,"position":{"x":17,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":13,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":164,"level":6,"position":{"x":16,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":8},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":6},"commentary":""},{"turn":165,"level":6,"position":{"x":15,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":6,"nearbyDecayMin":9},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":6},"commentary":""},{"turn":166,"level":6,"position":{"x":14,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":6,"nearbyDecayMin":10},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":6},"commentary":""},{"turn":167,"level":6,"position":{"x":13,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":17,"level":6,"nearbyDecayMin":11},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":6},"commentary":""},{"turn":168,"level":6,"position":{"x":12,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":18,"level":6,"nearbyDecayMin":12},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":6},"commentary":""},{"turn":169,"level":6,"position":{"x":11,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":19,"level":6,"nearbyDecayMin":13},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":6},"commentary":""},{"turn":170,"level":6,"position":{"x":10,"y":18},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":20,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":21,"level":6},"commentary":""},{"turn":171,"level":6,"position":{"x":9,"y":19},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":21,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":22,"level":6},"commentary":""},{"turn":172,"level":6,"position":{"x":8,"y":20},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":22,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":23,"level":6},"commentary":""},{"turn":173,"level":6,"position":{"x":7,"y":21},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":23,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":24,"level":6},"commentary":""},{"turn":174,"level":6,"position":{"x":6,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":24,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":24,"level":6},"commentary":""},{"turn":175,"level":6,"position":{"x":6,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":24,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":23,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":176,"level":6,"position":{"x":7,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":23,"level":6,"nearbyDecayMin":17},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":22,"level":6},"commentary":""},{"turn":177,"level":6,"position":{"x":8,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":22,"level":6,"nearbyDecayMin":18},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":21,"level":6},"commentary":""},{"turn":178,"level":6,"position":{"x":9,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":21,"level":6,"nearbyDecayMin":22},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":20,"level":6},"commentary":""},{"turn":179,"level":6,"position":{"x":10,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":20,"level":6,"nearbyDecayMin":23},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":19,"level":6},"commentary":""},{"turn":180,"level":6,"position":{"x":11,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":19,"level":6,"nearbyDecayMin":24},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":18,"level":6},"commentary":""},{"turn":181,"level":6,"position":{"x":12,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":18,"level":6,"nearbyDecayMin":25},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":17,"level":6},"commentary":""},{"turn":182,"level":6,"position":{"x":13,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":28,"playerAwakened":true,"distToStairs":17,"level":6,"nearbyDecayMin":26},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":16,"level":6},"commentary":""},{"turn":183,"level":6,"position":{"x":14,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":16,"level":6,"nearbyDecayMin":27},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":15,"level":6},"commentary":""},{"turn":184,"level":6,"position":{"x":15,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":30,"playerAwakened":true,"distToStairs":15,"level":6,"nearbyDecayMin":28},"postState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":14,"level":6},"commentary":""},{"turn":185,"level":6,"position":{"x":16,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":1,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":14,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":13,"level":6},"commentary":""},{"turn":186,"level":6,"position":{"x":17,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":13,"level":6,"nearbyDecayMin":5},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":12,"level":6},"commentary":""},{"turn":187,"level":6,"position":{"x":18,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":12,"level":6,"nearbyDecayMin":4},"postState":{"stabCharges":10,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":11,"level":6},"commentary":""},{"turn":188,"level":6,"position":{"x":19,"y":25},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":10,"grappleCharges":1,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":11,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":10,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":6},"commentary":""},{"turn":189,"level":6,"position":{"x":20,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":10,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":6,"nearbyDecayMin":2},"postState":{"stabCharges":10,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":190,"level":6,"position":{"x":21,"y":23},"action":{"action":"stabilize"},"preState":{"stabCharges":10,"grappleCharges":1,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":9,"level":6},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":191,"level":6,"position":{"x":21,"y":23},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":9,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":6},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":192,"level":6,"position":{"x":22,"y":22},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":8,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":193,"level":6,"position":{"x":23,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":6,"nearbyDecayMin":1},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":6,"level":6},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":194,"level":6,"position":{"x":24,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":35,"playerAwakened":true,"distToStairs":6,"level":6,"nearbyDecayMin":40},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":5,"level":6},"commentary":""},{"turn":195,"level":6,"position":{"x":25,"y":24},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":39,"playerAwakened":true,"distToStairs":5,"level":6,"nearbyDecayMin":34},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":""},{"turn":196,"level":6,"position":{"x":26,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":38},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":""},{"turn":197,"level":6,"position":{"x":27,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":""},{"turn":198,"level":6,"position":{"x":28,"y":24},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":2,"level":6},"commentary":""},{"turn":199,"level":6,"position":{"x":28,"y":23},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":2,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":6},"commentary":""},{"turn":200,"level":6,"position":{"x":29,"y":22},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":"Near-death rewind!"},{"turn":201,"level":6,"position":{"x":26,"y":24},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":38},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":""},{"turn":202,"level":6,"position":{"x":27,"y":23},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6},"commentary":""},{"turn":203,"level":6,"position":{"x":28,"y":24},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":2,"level":6},"commentary":""},{"turn":204,"level":6,"position":{"x":28,"y":23},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":2,"level":6,"nearbyDecayMin":6},"postState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":6},"commentary":""},{"turn":205,"level":6,"position":{"x":29,"y":22},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":2,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":6,"nearbyDecayMin":3},"postState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":4,"level":6},"commentary":"Near-death rewind!"},{"turn":206,"level":6,"position":{"x":26,"y":24},"action":{"action":"grapple","targetX":30,"targetY":21},"preState":{"stabCharges":9,"grappleCharges":1,"stabCooldown":0,"playerDecay":40,"playerAwakened":true,"distToStairs":4,"level":6,"nearbyDecayMin":38},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":6},"commentary":"Grappled to (30,21); Only 1 viable path(s)"},{"turn":207,"level":6,"position":{"x":30,"y":21},"action":{"action":"descend"},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":6,"nearbyDecayMin":7},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Pushed a pillar; Reached level 7"},{"turn":208,"level":7,"position":{"x":13,"y":17},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":209,"level":7,"position":{"x":12,"y":16},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":9},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":210,"level":7,"position":{"x":11,"y":15},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":5},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":11,"level":7},"commentary":""},{"turn":211,"level":7,"position":{"x":10,"y":14},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":11,"level":7,"nearbyDecayMin":4},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7},"commentary":""},{"turn":212,"level":7,"position":{"x":9,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":10,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":9,"level":7},"commentary":""},{"turn":213,"level":7,"position":{"x":9,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":9,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":214,"level":7,"position":{"x":9,"y":17},"action":{"action":"stabilize"},"preState":{"stabCharges":9,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":215,"level":7,"position":{"x":9,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":8,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=1)"},{"turn":216,"level":7,"position":{"x":9,"y":18},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":7,"level":7,"nearbyDecayMin":2},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":217,"level":7,"position":{"x":9,"y":19},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":6,"level":7,"nearbyDecayMin":3},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7},"commentary":""},{"turn":218,"level":7,"position":{"x":9,"y":20},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":5,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":4,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":219,"level":7,"position":{"x":9,"y":21},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":4,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":3,"level":7},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":220,"level":7,"position":{"x":9,"y":22},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":3,"level":7,"nearbyDecayMin":0},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":7},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":221,"level":7,"position":{"x":8,"y":23},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":2,"level":7,"nearbyDecayMin":1},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":1,"level":7},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":222,"level":7,"position":{"x":8,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":1,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":7},"commentary":""},{"turn":223,"level":7,"position":{"x":9,"y":25},"action":{"action":"descend"},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":7,"nearbyDecayMin":6},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":29,"level":8},"commentary":"Pushed a pillar; Reached level 8"},{"turn":224,"level":8,"position":{"x":41,"y":21},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":29,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":28,"level":8},"commentary":""},{"turn":225,"level":8,"position":{"x":40,"y":20},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":28,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":27,"level":8},"commentary":""},{"turn":226,"level":8,"position":{"x":39,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":27,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":26,"level":8},"commentary":""},{"turn":227,"level":8,"position":{"x":38,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":26,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":25,"level":8},"commentary":""},{"turn":228,"level":8,"position":{"x":37,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":4,"playerAwakened":true,"distToStairs":25,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":24,"level":8},"commentary":""},{"turn":229,"level":8,"position":{"x":36,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":24,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8},"commentary":""},{"turn":230,"level":8,"position":{"x":35,"y":19},"action":{"action":"stabilize"},"preState":{"stabCharges":8,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":231,"level":8,"position":{"x":35,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":8},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":232,"level":8,"position":{"x":34,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":21,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":233,"level":8,"position":{"x":33,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":21,"level":8,"nearbyDecayMin":3},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":8},"commentary":""},{"turn":234,"level":8,"position":{"x":32,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":8,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":19,"level":8},"commentary":"Only 2 viable path(s)"},{"turn":235,"level":8,"position":{"x":31,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":19,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":18,"level":8},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":236,"level":8,"position":{"x":30,"y":19},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":18,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":8},"commentary":"Standing on crumbling tile (decay=2)"},{"turn":237,"level":8,"position":{"x":29,"y":19},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":17,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":238,"level":8,"position":{"x":28,"y":18},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":239,"level":8,"position":{"x":27,"y":17},"action":{"action":"move","dx":1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":240,"level":8,"position":{"x":28,"y":16},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":241,"level":8,"position":{"x":28,"y":15},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":9},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":242,"level":8,"position":{"x":28,"y":14},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":10},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":243,"level":8,"position":{"x":28,"y":13},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":13,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":11},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":8},"commentary":""},{"turn":244,"level":8,"position":{"x":28,"y":12},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":8,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":8},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":245,"level":8,"position":{"x":27,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":8,"nearbyDecayMin":1},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":8},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":246,"level":8,"position":{"x":26,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":8,"nearbyDecayMin":11},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":8},"commentary":""},{"turn":247,"level":8,"position":{"x":25,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":8,"nearbyDecayMin":15},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":8},"commentary":""},{"turn":248,"level":8,"position":{"x":24,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":8,"nearbyDecayMin":16},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":11,"level":8},"commentary":""},{"turn":249,"level":8,"position":{"x":23,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":11,"level":8,"nearbyDecayMin":17},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":10,"level":8},"commentary":""},{"turn":250,"level":8,"position":{"x":22,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":10,"level":8,"nearbyDecayMin":18},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":9,"level":8},"commentary":""},{"turn":251,"level":8,"position":{"x":21,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":9,"level":8,"nearbyDecayMin":19},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":8,"level":8},"commentary":""},{"turn":252,"level":8,"position":{"x":20,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":8,"level":8,"nearbyDecayMin":20},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":7,"level":8},"commentary":""},{"turn":253,"level":8,"position":{"x":19,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":7,"level":8,"nearbyDecayMin":21},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":6,"level":8},"commentary":""},{"turn":254,"level":8,"position":{"x":18,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":6,"level":8,"nearbyDecayMin":22},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":5,"level":8},"commentary":""},{"turn":255,"level":8,"position":{"x":17,"y":11},"action":{"action":"move","dx":-1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":5,"level":8,"nearbyDecayMin":23},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":4,"level":8},"commentary":""},{"turn":256,"level":8,"position":{"x":16,"y":11},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":26,"playerAwakened":true,"distToStairs":4,"level":8,"nearbyDecayMin":24},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":8},"commentary":""},{"turn":257,"level":8,"position":{"x":15,"y":10},"action":{"action":"move","dx":-1,"dy":-1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":3,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":8},"commentary":""},{"turn":258,"level":8,"position":{"x":14,"y":9},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":2,"level":8,"nearbyDecayMin":7},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":8},"commentary":""},{"turn":259,"level":8,"position":{"x":13,"y":10},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":1,"level":8,"nearbyDecayMin":6},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":8},"commentary":""},{"turn":260,"level":8,"position":{"x":12,"y":11},"action":{"action":"descend"},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":0,"level":8,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":29,"level":9},"commentary":"Pushed a pillar; Reached level 9"},{"turn":261,"level":9,"position":{"x":15,"y":7},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":29,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":28,"level":9},"commentary":""},{"turn":262,"level":9,"position":{"x":16,"y":8},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":28,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":27,"level":9},"commentary":""},{"turn":263,"level":9,"position":{"x":17,"y":9},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":27,"level":9,"nearbyDecayMin":5},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":26,"level":9},"commentary":""},{"turn":264,"level":9,"position":{"x":18,"y":10},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":26,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":25,"level":9},"commentary":""},{"turn":265,"level":9,"position":{"x":19,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":25,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":24,"level":9},"commentary":""},{"turn":266,"level":9,"position":{"x":20,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":24,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":267,"level":9,"position":{"x":21,"y":11},"action":{"action":"stabilize"},"preState":{"stabCharges":7,"grappleCharges":0,"stabCooldown":0,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":9},"commentary":"Standing on crumbling tile (decay=2); Stabilizer deployed; Nearby danger (min neighbor decay=2)"},{"turn":268,"level":9,"position":{"x":21,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":2,"playerDecay":2,"playerAwakened":true,"distToStairs":23,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":9},"commentary":"Standing on crumbling tile (decay=2); Nearby danger (min neighbor decay=2)"},{"turn":269,"level":9,"position":{"x":22,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":1,"playerDecay":3,"playerAwakened":true,"distToStairs":22,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":21,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":270,"level":9,"position":{"x":23,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":21,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":9},"commentary":""},{"turn":271,"level":9,"position":{"x":24,"y":11},"action":{"action":"stabilize"},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":2,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":9},"commentary":"Stabilizer deployed; Nearby danger (min neighbor decay=1)"},{"turn":272,"level":9,"position":{"x":24,"y":11},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":2,"playerDecay":3,"playerAwakened":true,"distToStairs":20,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":19,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":273,"level":9,"position":{"x":25,"y":11},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":5,"grappleCharges":0,"stabCooldown":1,"playerDecay":5,"playerAwakened":true,"distToStairs":19,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":274,"level":9,"position":{"x":26,"y":12},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":275,"level":9,"position":{"x":26,"y":13},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":276,"level":9,"position":{"x":26,"y":14},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":277,"level":9,"position":{"x":26,"y":15},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":8,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":278,"level":9,"position":{"x":26,"y":16},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":279,"level":9,"position":{"x":26,"y":17},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":9},"commentary":""},{"turn":280,"level":9,"position":{"x":26,"y":18},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":12,"playerAwakened":true,"distToStairs":18,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":281,"level":9,"position":{"x":27,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":17,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":9},"commentary":""},{"turn":282,"level":9,"position":{"x":28,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":16,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":9},"commentary":""},{"turn":283,"level":9,"position":{"x":29,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":15,"playerAwakened":true,"distToStairs":15,"level":9,"nearbyDecayMin":13},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":9},"commentary":""},{"turn":284,"level":9,"position":{"x":30,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":16,"playerAwakened":true,"distToStairs":14,"level":9,"nearbyDecayMin":14},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":9},"commentary":""},{"turn":285,"level":9,"position":{"x":31,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":17,"playerAwakened":true,"distToStairs":13,"level":9,"nearbyDecayMin":15},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":9},"commentary":""},{"turn":286,"level":9,"position":{"x":32,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":18,"playerAwakened":true,"distToStairs":12,"level":9,"nearbyDecayMin":16},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":11,"level":9},"commentary":""},{"turn":287,"level":9,"position":{"x":33,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":19,"playerAwakened":true,"distToStairs":11,"level":9,"nearbyDecayMin":17},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":10,"level":9},"commentary":""},{"turn":288,"level":9,"position":{"x":34,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":20,"playerAwakened":true,"distToStairs":10,"level":9,"nearbyDecayMin":18},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":9,"level":9},"commentary":""},{"turn":289,"level":9,"position":{"x":35,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":21,"playerAwakened":true,"distToStairs":9,"level":9,"nearbyDecayMin":19},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":290,"level":9,"position":{"x":36,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":20},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":291,"level":9,"position":{"x":37,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":23,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":21},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":292,"level":9,"position":{"x":38,"y":19},"action":{"action":"move","dx":1,"dy":0},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":22},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":8,"level":9},"commentary":""},{"turn":293,"level":9,"position":{"x":39,"y":19},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":25,"playerAwakened":true,"distToStairs":8,"level":9,"nearbyDecayMin":23},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":9},"commentary":""},{"turn":294,"level":9,"position":{"x":40,"y":20},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":7,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":""},{"turn":295,"level":9,"position":{"x":41,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":296,"level":9,"position":{"x":42,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":297,"level":9,"position":{"x":42,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":298,"level":9,"position":{"x":41,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":299,"level":9,"position":{"x":42,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":"Near-death rewind!; Nearby danger (min neighbor decay=1)"},{"turn":300,"level":9,"position":{"x":41,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":301,"level":9,"position":{"x":42,"y":22},"action":{"action":"move","dx":0,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":302,"level":9,"position":{"x":42,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":29,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":"Nearby danger (min neighbor decay=1)"},{"turn":303,"level":9,"position":{"x":41,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":27,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":2},"postState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":"Nearby danger (min neighbor decay=2)"},{"turn":304,"level":9,"position":{"x":42,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":1,"stabCooldown":0,"playerDecay":5,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":1},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":"Near-death rewind!; Nearby danger (min neighbor decay=1)"},{"turn":305,"level":9,"position":{"x":41,"y":21},"action":{"action":"move","dx":0,"dy":-1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":10,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":9},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":9},"commentary":""},{"turn":306,"level":9,"position":{"x":41,"y":20},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":7,"level":9,"nearbyDecayMin":8},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":6,"level":9},"commentary":""},{"turn":307,"level":9,"position":{"x":40,"y":21},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":9,"playerAwakened":true,"distToStairs":6,"level":9,"nearbyDecayMin":7},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":5,"level":9},"commentary":""},{"turn":308,"level":9,"position":{"x":41,"y":22},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":7,"playerAwakened":true,"distToStairs":5,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":4,"level":9},"commentary":""},{"turn":309,"level":9,"position":{"x":42,"y":23},"action":{"action":"move","dx":-1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":24,"playerAwakened":true,"distToStairs":4,"level":9,"nearbyDecayMin":6},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":3,"level":9},"commentary":""},{"turn":310,"level":9,"position":{"x":41,"y":24},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":22,"playerAwakened":true,"distToStairs":3,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":2,"level":9},"commentary":""},{"turn":311,"level":9,"position":{"x":42,"y":25},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":1,"playerAwakened":true,"distToStairs":2,"level":9,"nearbyDecayMin":4},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":9},"commentary":"Standing on crumbling tile (decay=1)"},{"turn":312,"level":9,"position":{"x":43,"y":26},"action":{"action":"move","dx":1,"dy":1},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":6,"playerAwakened":true,"distToStairs":1,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":9},"commentary":""},{"turn":313,"level":9,"position":{"x":44,"y":27},"action":{"action":"descend"},"preState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":14,"playerAwakened":true,"distToStairs":0,"level":9,"nearbyDecayMin":3},"postState":{"stabCharges":6,"grappleCharges":0,"stabCooldown":0,"playerDecay":11,"playerAwakened":true,"distToStairs":14,"level":10},"commentary":"Pushed a pillar; Reached level 10"}],"result":{"won":true,"level":10,"moves":313,"reason":"success","gameStats":{"grappleUsed":7,"pillarPushes":9,"stabilizersUsed":6,"rewinds":4,"crystalsCollected":0,"stabilizerTypes":["radial"]}},"description":"Seed 1772 ‚Äî 6 stabilizers, 7 grapples, 9 pillar pushes, 26 tense moments"}];


        // Replay UI panel management
        function updateReplayUI() {
            const panel = document.getElementById('replay-panel');
            const hint = document.getElementById('controls-hint');
            if (!panel || !hint) return;
            if (replayState.active) {
                panel.style.display = 'flex';
                hint.style.display = 'none';
                const pauseBtn = document.getElementById('replay-btn-pause');
                if (pauseBtn) {
                    pauseBtn.textContent = replayState.paused ? '\u25b6 Play' : '\u23f8 Pause';
                }
            } else {
                panel.style.display = 'none';
                hint.style.display = '';
            }
        }

        function showReplayLibrary() {
            const list = document.getElementById('replay-list');
            const lib = document.getElementById('replay-library');
            const backdrop = document.getElementById('replay-library-backdrop');
            if (!list || !lib) return;

            list.innerHTML = '';
            if (BUILT_IN_REPLAYS.length === 0) {
                list.innerHTML = '<div style="color:#6a6a8a;text-align:center;padding:12px;">No built-in replays available.</div>';
            } else {
                BUILT_IN_REPLAYS.forEach((replay, i) => {
                    const btn = document.createElement('button');
                    btn.className = 'replay-entry';
                    const won = replay.result && replay.result.won;
                    const outcomeClass = won ? 'replay-won' : 'replay-lost';
                    const outcomeText = won ? 'WON' : 'LOST';
                    const level = replay.result ? replay.result.level : '?';
                    const moves = replay.moves ? replay.moves.length : '?';
                    btn.innerHTML = `<div class="replay-desc">${replay.description || ('Replay #' + (i + 1))}</div>` +
                        `<div class="replay-meta">Seed ${replay.seed} | <span class="${outcomeClass}">${outcomeText}</span> L${level} | ${moves} moves | ${replay.botType || 'oracle'}</div>`;
                    btn.onclick = () => {
                        hideReplayLibrary();
                        replayGame(replay, 150);
                    };
                    list.appendChild(btn);
                });
            }

            lib.style.display = 'block';
            if (backdrop) backdrop.style.display = 'block';
        }

        function hideReplayLibrary() {
            const lib = document.getElementById('replay-library');
            const backdrop = document.getElementById('replay-library-backdrop');
            if (lib) lib.style.display = 'none';
            if (backdrop) backdrop.style.display = 'none';
        }

        // Load replay from a file input dialog
        function loadReplayFromFile() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (evt) => {
                    try {
                        const data = JSON.parse(evt.target.result);
                        if (!data.moves || !data.seed) {
                            addMessage('Invalid replay file: missing moves or seed.', 'warn');
                            return;
                        }
                        replayGame(data, replayState.speed || 200);
                    } catch (err) {
                        addMessage(`Failed to parse replay: ${err.message}`, 'warn');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // Build a replay object from current recording state (deep copies the log)
        function buildHumanReplay(reason) {
            const log = (gameState.replayLog || []).map(m => ({ ...m }));
            return {
                version: REPLAY_VERSION,
                seed: gameState.replayStartSeed || gameState.seed,
                targetLevel: 5,
                botType: 'human',
                timestamp: Date.now(),
                moves: log,
                result: {
                    won: reason === 'won',
                    level: gameState.level,
                    moves: gameState.moves,
                    reason: reason,
                    gameStats: {}
                }
            };
        }

        // Concede: end game and show options (save replay, watch oracle, etc.)
        function concedeGame() {
            gameState.replayRecording = false;
            if (gameState.moves === 0) {
                addMessage('Nothing to review ‚Äî no moves made.', 'info');
                return;
            }

            // Capture replay immediately (deep copy) so it survives any gameState resets
            savedHumanReplay = buildHumanReplay('conceded');
            gameState.concedeActive = true;
            gameState.gameOverReason = 'conceded';
            const seed = gameState.replayStartSeed || gameState.seed;
            addMessage(`Game conceded on level ${gameState.level} after ${gameState.moves} moves (seed: ${seed}).`, 'warn');
            if (!replayState.active) {
                submitToLeaderboard(gameState.level, gameState.moves, seed, savedHumanReplay);
            }
            render();
        }

        function showConcedeMenu() {
            addMessage('1: Save replay | 2: Watch oracle | 3: Watch your replay | Shift+B: Leaderboard | Esc: Done', 'info');
        }

        // Handle end-of-game options (called from key handler)
        // savedHumanReplay is captured once at concede time to survive gameState resets
        let savedHumanReplay = null;

        function handleConcedeOption(option) {
            const seed = savedHumanReplay ? savedHumanReplay.seed : (gameState.replayStartSeed || gameState.seed);

            // Build and cache human replay on first option selection
            if (!savedHumanReplay) {
                savedHumanReplay = buildHumanReplay('conceded');
            }

            if (option === '1') {
                // Save human replay ‚Äî menu stays open
                downloadReplay(savedHumanReplay);
                addMessage('Replay saved!', 'info');
                render();
            } else if (option === '2') {
                // Record + play oracle replay for same seed
                // Menu stays active ‚Äî will re-show after replay finishes
                addMessage(`Running oracle on seed ${seed}...`, 'info');
                render();
                setTimeout(() => {
                    const oracleReplay = recordBotReplay('oracle', seed, 10);
                    addMessage(`Oracle ${oracleReplay.result.won ? 'WON' : 'LOST'} (L${oracleReplay.result.level}, ${oracleReplay.result.moves} moves). Playing back...`, 'info');
                    replayGame(oracleReplay, 150);
                }, 50);
            } else if (option === '3') {
                // Watch human replay ‚Äî menu stays active
                replayGame(savedHumanReplay, 150);
            }
        }

        // Called when player wins (reaches target level via descendStairs)
        function onPlayerWin() {
            gameState.replayRecording = false;
            savedHumanReplay = buildHumanReplay('won');
            const seed = gameState.replayStartSeed || gameState.seed;
            startVictoryOverlay({ level: gameState.level, moves: gameState.moves, seed });
            addMessage(`Congratulations! You reached level ${gameState.level} in ${gameState.moves} moves!`, 'info');
            if (!replayState.active) {
                submitToLeaderboard(gameState.level, gameState.moves, seed, savedHumanReplay);
            }
            gameState.concedeActive = true;
            gameState.gameOverReason = 'won';
            render();
        }

        // ============ LEADERBOARD SYSTEM ============
        const LEADERBOARD_KEY = 'decay_leaderboard';
        const LEADERBOARD_MAX = 5;

        function loadLeaderboard() {
            try {
                const data = localStorage.getItem(LEADERBOARD_KEY);
                return data ? JSON.parse(data) : [];
            } catch { return []; }
        }

        function saveLeaderboard(entries) {
            try {
                localStorage.setItem(LEADERBOARD_KEY, JSON.stringify(entries));
            } catch (e) {
                addMessage('Could not save leaderboard: ' + e.message, 'warn');
            }
        }

        function submitToLeaderboard(level, moves, seed, replay) {
            const entries = loadLeaderboard();
            // Compact the replay: strip preState/postState to save storage
            const compactReplay = replay ? {
                version: replay.version,
                seed: replay.seed,
                targetLevel: replay.targetLevel,
                botType: replay.botType,
                moves: (replay.moves || []).map(m => {
                    const entry = { turn: m.turn, action: m.action };
                    if (m.commentary) entry.commentary = m.commentary;
                    return entry;
                }),
                result: replay.result
            } : null;

            const newEntry = {
                level,
                moves,
                seed,
                date: new Date().toISOString().slice(0, 10),
                replay: compactReplay
            };

            entries.push(newEntry);
            // Sort: highest level first, then fewest moves
            entries.sort((a, b) => b.level - a.level || a.moves - b.moves);
            // Keep top 5
            const trimmed = entries.slice(0, LEADERBOARD_MAX);
            saveLeaderboard(trimmed);

            // Check if this run made the board
            const rank = trimmed.findIndex(e => e === newEntry);
            if (rank >= 0) {
                addMessage(`New leaderboard entry! Rank #${rank + 1}: Level ${level} in ${moves} moves.`, 'info');
            }

            // Show leaderboard after a brief delay
            setTimeout(() => showLeaderboard(newEntry), 300);
        }

        function showLeaderboard(highlightEntry) {
            const entries = loadLeaderboard();
            const list = document.getElementById('leaderboard-list');
            const panel = document.getElementById('leaderboard-panel');
            const backdrop = document.getElementById('leaderboard-backdrop');
            if (!list || !panel) return;

            list.innerHTML = '';
            if (entries.length === 0) {
                list.innerHTML = '<div style="color:#6a6a8a;text-align:center;padding:12px;">No games recorded yet.</div>';
            } else {
                entries.forEach((entry, i) => {
                    const div = document.createElement('div');
                    div.className = 'lb-entry';
                    if (highlightEntry && entry.seed === highlightEntry.seed &&
                        entry.moves === highlightEntry.moves && entry.level === highlightEntry.level) {
                        div.className += ' lb-highlight';
                    }
                    const won = entry.level >= 10;
                    const outcomeText = won ? 'WIN' : `DIED L${entry.level}`;
                    const outcomeColor = won ? '#44ff88' : '#ff8844';
                    div.innerHTML = `<span class="lb-rank">#${i + 1}</span>` +
                        `<span class="lb-info"><span class="lb-level">L${entry.level}</span> ` +
                        `<span style="color:${outcomeColor}">${outcomeText}</span> ‚Äî ` +
                        `${entry.moves} moves, seed ${entry.seed} <span style="color:#6a6a8a">${entry.date || ''}</span></span>` +
                        `<span class="lb-actions">${entry.replay ? '<button onclick="playLeaderboardReplay(' + i + ')">Watch</button>' : ''}</span>`;
                    list.appendChild(div);
                });
            }

            panel.style.display = 'block';
            if (backdrop) backdrop.style.display = 'block';
        }

        function hideLeaderboard() {
            const panel = document.getElementById('leaderboard-panel');
            const backdrop = document.getElementById('leaderboard-backdrop');
            if (panel) panel.style.display = 'none';
            if (backdrop) backdrop.style.display = 'none';
        }

        function playLeaderboardReplay(index) {
            const entries = loadLeaderboard();
            if (index >= 0 && index < entries.length && entries[index].replay) {
                hideLeaderboard();
                replayGame(entries[index].replay, 150);
            }
        }

        function clearLeaderboard() {
            localStorage.removeItem(LEADERBOARD_KEY);
            addMessage('Leaderboard cleared.', 'info');
            showLeaderboard();
        }

        // Record a human action to the replay log
        function recordHumanAction(action) {
            if (!gameState.replayRecording) return;
            gameState.replayLog.push({
                turn: gameState.replayLog.length,
                level: gameState.level,
                position: { x: gameState.player.x, y: gameState.player.y },
                action: action,
                preState: {
                    stabCharges: gameState.stabilizerCharges,
                    grappleCharges: gameState.grappleCharges,
                    level: gameState.level
                },
                postState: {},
                commentary: ''
            });
        }

        // Generate a detailed visual playthrough with screenshots at key moments
        // Returns an HTML string that can be downloaded
        function generateDetailedPlaythrough(seed, botType = 'oracle', targetLevel = 5) {
            const maxMoves = 3000;

            // Helper: reveal all tiles for god-view screenshot
            function revealAll() {
                for (let y = 0; y < CONFIG.mapHeight; y++) {
                    for (let x = 0; x < CONFIG.mapWidth; x++) {
                        gameState.visible[y][x] = true;
                        gameState.explored[y][x] = true;
                    }
                }
            }

            // Helper: capture screenshot as data URL
            function captureScreenshot() {
                revealAll();
                screenShake.x = 0; screenShake.y = 0; screenShake.duration = 0;
                ctx.setTransform(1, 0, 0, 1, 0, 0);
                render();
                return canvas.toDataURL('image/png');
            }

            // Initialize game
            effectsEnabled = false;
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.chargesAtLevelStart = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = seed;
            generateMap(seed);
            initVisibilityArrays();

            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true);
            cachedStairsField = null;
            oracleDecisionInfo = null;

            // Data for the playthrough
            const screenshots = []; // {turn, level, dataUrl, caption, interest, stats}
            const moveLog = [];
            let moveCount = 0;
            let rewindCount = 0;
            let maxRewinds = 50;
            let levelStartMoves = 0;
            let prevLevel = 1;

            const gameStats = {
                grappleUsed: 0, pillarPushes: 0, stabilizersUsed: 0,
                rewinds: 0, crystalsCollected: 0
            };

            // Capture initial state
            screenshots.push({
                turn: 0, level: 1,
                dataUrl: captureScreenshot(),
                caption: `Seed ${seed} - Level 1 start`,
                interest: 0,
                stats: { charges: 0, grapple: 0, decay: 'off' }
            });

            while (moveCount < maxMoves && gameState.level < targetLevel) {
                const px = gameState.player.x, py = gameState.player.y;
                const prevGrapple = gameState.grappleCharges;
                const prevStab = gameState.stabilizerCharges;
                const prevPillarPos = gameState.pillars.map(p => `${p.x},${p.y}`);
                gameState.didRewindThisTurn = false;
                oracleDecisionInfo = null;

                const botFunc = botType === 'oracle' ? oracleBotMove : greedyBotMove;
                const move = botFunc();
                if (!move) break;

                executeBotMove(move);
                moveCount++;

                // Track mechanics
                let pillarPushed = false;
                if (gameState.grappleCharges < prevGrapple) gameStats.grappleUsed++;
                if (gameState.stabilizerCharges < prevStab) gameStats.stabilizersUsed++;
                const newPillarPos = gameState.pillars.map(p => `${p.x},${p.y}`);
                for (let pi = 0; pi < newPillarPos.length; pi++) {
                    if (newPillarPos[pi] !== prevPillarPos[pi]) { gameStats.pillarPushes++; pillarPushed = true; break; }
                }
                if (gameState.didRewindThisTurn) {
                    gameStats.rewinds++;
                    rewindCount++;
                    if (rewindCount > maxRewinds) break;
                    if (botType === 'oracle') {
                        const rk = coordIdx(gameState.player.x, gameState.player.y);
                        if (oracleLastRewindPos === rk) { oracleRewindStreak++; } else { oracleLastRewindPos = rk; oracleRewindStreak = 1; }
                        clearOraclePlan();
                    }
                }

                // Compute interest
                let interest = 0;
                const commentary = [];
                const playerDecay = gameState.decay[py]?.[px] ?? 0;
                const playerAw = !!gameState.awakened[py]?.[px];

                if (playerDecay <= 2 && playerAw && playerDecay > 0) { interest += 3; commentary.push(`Danger tile (decay=${playerDecay})`); }
                if (gameState.didRewindThisTurn) { interest += 5; commentary.push('Rewind!'); }
                if (move.action === 'stabilize') { interest += 2; commentary.push('Stabilized'); }
                if (move.action === 'grapple') { interest += 3; commentary.push(`Grappled to (${move.targetX},${move.targetY})`); }
                if (pillarPushed) { interest += 2; commentary.push('Pillar push'); }
                if (gameState.level !== prevLevel) { interest += 4; commentary.push(`Level ${gameState.level}`); }
                const viableCount = oracleDecisionInfo?.viableCandidates ?? 0;
                if (viableCount > 0 && viableCount <= 2) { interest += 2; commentary.push(`Only ${viableCount} viable paths`); }

                // Record move
                moveLog.push({ turn: moveCount, level: prevLevel, action: move.action, interest, commentary: commentary.join('; ') });

                // Capture screenshot conditions
                const shouldCapture =
                    interest >= 4 ||                                   // highlight
                    gameState.level !== prevLevel ||                   // level transition
                    moveCount % 20 === 0 ||                           // every 20th move for context
                    gameState.didRewindThisTurn;                      // rewind

                if (shouldCapture) {
                    screenshots.push({
                        turn: moveCount, level: gameState.level,
                        dataUrl: captureScreenshot(),
                        caption: commentary.length > 0 ? commentary.join('; ') : `Turn ${moveCount}`,
                        interest,
                        stats: {
                            charges: gameState.stabilizerCharges,
                            grapple: gameState.grappleCharges,
                            decay: gameState.decay[gameState.player.y]?.[gameState.player.x] ?? 0,
                            distToStairs: Math.max(Math.abs(gameState.player.x - gameState.stairsX), Math.abs(gameState.player.y - gameState.stairsY))
                        }
                    });
                }

                // Level change tracking
                if (gameState.level !== prevLevel) {
                    rewindCount = 0;
                    levelStartMoves = moveCount;
                    prevLevel = gameState.level;
                }

                // Path check
                const pathExists = canReachStairs(gameState.player.x, gameState.player.y);
                if (!pathExists && gameState.map[gameState.player.y][gameState.player.x] !== TILE.STAIRS_DOWN && gameState.grappleCharges <= 0) break;
            }

            const won = gameState.level >= targetLevel;
            effectsEnabled = true;
            gameStats.crystalsCollected = gameState.crystalsCollected;

            // Capture final state
            screenshots.push({
                turn: moveCount, level: gameState.level,
                dataUrl: captureScreenshot(),
                caption: won ? `Victory! Reached level ${targetLevel} in ${moveCount} moves` : `Died on level ${gameState.level} at move ${moveCount}`,
                interest: won ? 5 : 3,
                stats: { charges: gameState.stabilizerCharges, grapple: gameState.grappleCharges }
            });

            // Build summary for the top of the HTML
            const highlights = moveLog.filter(m => m.interest >= 4);
            const totalInterest = moveLog.reduce((s, m) => s + m.interest, 0);
            const dramaScore = moveLog.length > 0 ? (highlights.length / moveLog.length * 100).toFixed(1) : 0;

            // Generate HTML
            const html = `<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Playthrough: Seed ${seed} (${botType})</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0a0a14;color:#c0c0c0;font-family:'Courier New',monospace;padding:20px;max-width:1000px;margin:0 auto}
h1{color:#ffd700;margin-bottom:10px;font-size:20px}
h2{color:#88aaff;margin:20px 0 10px;font-size:16px}
.summary{background:#12121c;border:1px solid #3a3a5a;padding:15px;margin:10px 0;border-radius:4px}
.stat{display:inline-block;margin:0 15px 5px 0;color:#9999bb}
.stat b{color:#88ffff}
.screenshot{margin:15px 0;border:2px solid #3a3a5a;border-radius:4px;overflow:hidden}
.screenshot img{width:100%;display:block;image-rendering:pixelated}
.screenshot .caption{padding:8px 12px;background:#12121c;display:flex;justify-content:space-between;align-items:center}
.screenshot .caption .text{color:#c0c0c0}
.screenshot .caption .meta{color:#6a6a8a;font-size:11px}
.highlight{border-color:#ffaa44}
.victory{border-color:#44ff88}
.death{border-color:#ff4444}
.interest-bar{display:inline-block;height:8px;background:#ffaa44;border-radius:2px;margin-left:8px;vertical-align:middle}
.move-log{background:#12121c;border:1px solid #3a3a5a;padding:10px;margin:10px 0;max-height:300px;overflow-y:auto;font-size:11px}
.move-log .entry{padding:2px 0;border-bottom:1px solid #1a1a2e}
.move-log .entry.highlight{color:#ffaa44;font-weight:bold}
</style></head><body>
<h1>Decay Roguelike Playthrough</h1>
<h2>Seed: ${seed} | Bot: ${botType} | Result: ${won ? 'WIN' : 'LOSS'}</h2>
<div class="summary">
<div class="stat">Moves: <b>${moveCount}</b></div>
<div class="stat">Level: <b>${gameState.level}</b></div>
<div class="stat">Drama: <b>${dramaScore}%</b></div>
<div class="stat">Highlights: <b>${highlights.length}</b></div>
<div class="stat">Rewinds: <b>${gameStats.rewinds}</b></div>
<div class="stat">Stabilizers: <b>${gameStats.stabilizersUsed}</b></div>
<div class="stat">Grapples: <b>${gameStats.grappleUsed}</b></div>
<div class="stat">Pillar Pushes: <b>${gameStats.pillarPushes}</b></div>
<div class="stat">Crystals: <b>${gameStats.crystalsCollected}</b></div>
</div>

<h2>Key Moments (${screenshots.length} screenshots)</h2>
${screenshots.map((s, i) => {
    const isHighlight = s.interest >= 4;
    const isVictory = s.caption.startsWith('Victory');
    const isDeath = s.caption.startsWith('Died');
    const cls = isVictory ? 'victory' : isDeath ? 'death' : isHighlight ? 'highlight' : '';
    return `<div class="screenshot ${cls}">
<img src="${s.dataUrl}" alt="Turn ${s.turn}">
<div class="caption">
<span class="text">${s.caption}</span>
<span class="meta">Turn ${s.turn} | L${s.level}${s.stats.charges !== undefined ? ' | Stab:' + s.stats.charges : ''}${s.stats.grapple !== undefined ? ' | Grap:' + s.stats.grapple : ''}${s.stats.distToStairs !== undefined ? ' | Dist:' + s.stats.distToStairs : ''}${s.interest > 0 ? '<span class="interest-bar" style="width:' + (s.interest * 8) + 'px"></span>' : ''}</span>
</div></div>`;
}).join('\n')}

<h2>Full Move Log</h2>
<div class="move-log">
${moveLog.map(m => `<div class="entry${m.interest >= 4 ? ' highlight' : ''}">T${m.turn} L${m.level} [${m.action}]${m.commentary ? ' - ' + m.commentary : ''}${m.interest > 0 ? ' (interest:' + m.interest + ')' : ''}</div>`).join('\n')}
</div>
</body></html>`;

            return { html, won, seed, moves: moveCount, screenshots: screenshots.length, highlights: highlights.length, dramaScore: +dramaScore };
        }

        // Download a playthrough HTML as a file
        function downloadPlaythrough(seed, botType = 'oracle', targetLevel = 5) {
            const result = generateDetailedPlaythrough(seed, botType, targetLevel);
            const blob = new Blob([result.html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `playthrough_${botType}_${seed}.html`;
            a.click();
            URL.revokeObjectURL(url);
            return { won: result.won, seed: result.seed, moves: result.moves, screenshots: result.screenshots, highlights: result.highlights, dramaScore: result.dramaScore };
        }

        // ============ MECHANIC NECESSITY ANALYSIS ============
        // Run a bot game with a specific mechanic disabled
        // constraint: 'no_stabilizer' | 'no_grapple' | 'no_pillar' | 'no_rewind' | 'none'
        function runBotGameConstrained(botType, seed, targetLevel, constraint) {
            const origHistorySize = CONFIG.stateHistorySize;

            if (constraint === 'no_rewind') {
                CONFIG.stateHistorySize = 0;
            }

            effectsEnabled = false;
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.grappleCharges = 0;
            gameState.chargesAtLevelStart = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = seed;
            generateMap(seed);

            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan(true);
            cachedStairsField = null;

            // For no_pillar: make all pillars immovable by moving them into walls
            let origPillars = null;
            if (constraint === 'no_pillar') {
                origPillars = gameState.pillars.map(p => ({ ...p }));
                for (const p of gameState.pillars) {
                    gameState.map[p.y][p.x] = TILE.WALL;
                }
                gameState.pillars = [];
            }

            // For no_crawler / no_mender: remove those enemy types
            if (constraint === 'no_crawler') {
                gameState.enemies = gameState.enemies.filter(e => e.type !== 'crawler');
            }
            if (constraint === 'no_mender') {
                gameState.enemies = gameState.enemies.filter(e => e.type !== 'mender');
            }
            if (constraint === 'no_enemies') {
                gameState.enemies = [];
            }

            let moveCount = 0;
            let rewindCount = 0;
            const maxMoves = 500;
            const maxRewinds = 50;

            while (moveCount < maxMoves && gameState.level < targetLevel) {
                const botFunc = botType === 'oracle' ? oracleBotMove : greedyBotMove;
                const move = botFunc();
                if (!move) break;

                gameState.didRewindThisTurn = false;
                executeBotMove(move);
                moveCount++;

                // Enforce constraints after each move (including after level transitions)
                if (constraint === 'no_stabilizer') {
                    gameState.stabilizerCharges = 0;
                }
                if (constraint === 'no_grapple') {
                    gameState.grappleCharges = 0;
                }
                if (constraint === 'no_crawler') {
                    gameState.enemies = gameState.enemies.filter(e => e.type !== 'crawler');
                }
                if (constraint === 'no_mender') {
                    gameState.enemies = gameState.enemies.filter(e => e.type !== 'mender');
                }
                if (constraint === 'no_enemies') {
                    gameState.enemies = [];
                }

                if (gameState.didRewindThisTurn) {
                    rewindCount++;
                    if (rewindCount > maxRewinds) break;
                    if (botType === 'oracle') clearOraclePlan();
                }

                const pathExists = canReachStairs(gameState.player.x, gameState.player.y);
                if (!pathExists && gameState.map[gameState.player.y][gameState.player.x] !== TILE.STAIRS_DOWN && gameState.grappleCharges <= 0) break;
            }

            const won = gameState.level >= targetLevel;
            effectsEnabled = true;
            CONFIG.stateHistorySize = origHistorySize;

            return { won, level: gameState.level, moves: moveCount, seed, constraint };
        }

        // Run mechanic necessity analysis across seeds
        function runMechanicNecessity(numSeeds = 100, seedStart = 1000, targetLevel = 5) {
            const constraints = ['none', 'no_stabilizer', 'no_grapple', 'no_pillar', 'no_rewind', 'no_crawler', 'no_mender', 'no_enemies'];
            const results = {};

            for (const constraint of constraints) {
                let wins = 0;
                const failures = [];
                for (let i = 0; i < numSeeds; i++) {
                    const seed = seedStart + i;
                    const r = runBotGameConstrained('oracle', seed, targetLevel, constraint);
                    if (r.won) {
                        wins++;
                    } else {
                        failures.push(seed);
                    }
                }
                results[constraint] = {
                    wins,
                    winRate: +(wins / numSeeds * 100).toFixed(1),
                    losses: numSeeds - wins,
                    failureSeeds: failures.slice(0, 10) // first 10 for inspection
                };
            }

            // Compute necessity index: % of baseline wins lost when mechanic disabled
            const baselineWins = results.none.wins;
            for (const constraint of constraints) {
                if (constraint === 'none') continue;
                const lostWins = baselineWins - results[constraint].wins;
                results[constraint].necessityIndex = baselineWins > 0 ? +(lostWins / baselineWins * 100).toFixed(1) : 0;
                results[constraint].newlyFailing = results[constraint].failureSeeds.filter(s => {
                    // Check if this seed won with baseline
                    const baseResult = runBotGameConstrained('oracle', s, targetLevel, 'none');
                    return baseResult.won;
                });
            }

            return results;
        }

        // ============ HEURISTIC BOT + HORIZON SWEEP ============

        // Heuristic bot: combines strategic long-range planning with short tactical horizon
        // Models a skilled human player ‚Äî not just a dumb oracle
        function heuristicBotMove() {
            const px = gameState.player.x, py = gameState.player.y;

            // Descend if on stairs
            if (gameState.map[py][px] === TILE.STAIRS_DOWN) return { action: 'descend' };

            // L1 fast path (no decay)
            if (!gameState.decayEnabled) return greedyBotMove();

            // STRATEGIC LAYER: Decide overall direction

            // 1. Simple stabilization heuristic: stabilize when standing on decay ‚â§ 2 with charges
            const hereDecay = gameState.decay[py]?.[px] ?? 0;
            const hereAwakened = gameState.awakened[py]?.[px] || false;
            if (hereAwakened && hereDecay > 0 && hereDecay <= 2 &&
                gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown === 0) {
                return { action: 'stabilize' };
            }

            // 2. Grapple escape when no path exists
            const pathExists = canReachStairs(px, py);
            if (!pathExists) {
                const grapple = oracleGrappleEscape(px, py);
                if (grapple) return grapple;
                return oracleEmergencyAction();
            }

            // 3. Compute decay-weighted path to stairs (avoids low-decay corridors)
            const decayPath = findPathDecayWeighted(px, py, gameState.stairsX, gameState.stairsY);
            if (!decayPath || decayPath.length === 0) {
                return greedyBotMove();
            }

            // 4. Crystal detour heuristic: if charges < 2 and crystal is within 5 steps of path
            if (gameState.stabilizerCharges < 2) {
                const nearCrystals = gameState.crystals
                    .filter(c => !c.collected && !c.destroyed)
                    .map(c => ({ ...c, dist: chebyshevDist(px, py, c.x, c.y) }))
                    .filter(c => c.dist <= 8)
                    .sort((a, b) => a.dist - b.dist);

                for (const crystal of nearCrystals) {
                    // Only detour if crystal is roughly on the way to stairs
                    const crystalToStairs = chebyshevDist(crystal.x, crystal.y, gameState.stairsX, gameState.stairsY);
                    const playerToStairs = chebyshevDist(px, py, gameState.stairsX, gameState.stairsY);
                    const detourCost = crystal.dist + crystalToStairs - playerToStairs;
                    if (detourCost <= 5) {
                        // Go toward crystal
                        const crystalPath = findPathDecayWeighted(px, py, crystal.x, crystal.y);
                        if (crystalPath && crystalPath.length > 0) {
                            const next = crystalPath[0];
                            return { action: 'move', dx: next.x - px, dy: next.y - py };
                        }
                    }
                }
            }

            // TACTICAL LAYER: Follow decay-weighted path with short-horizon lookahead
            // Simulate 5 steps of the path to check survival
            const HEURISTIC_HORIZON = 5;
            const simResult = simulatePath(decayPath, true, HEURISTIC_HORIZON);

            if (simResult.survived && simResult.actionScript && simResult.actionScript.length > 0) {
                const firstAction = simResult.actionScript[0];
                if (firstAction.type === 'move') {
                    return { action: 'move', dx: firstAction.dx, dy: firstAction.dy };
                } else if (firstAction.type === 'stabilize') {
                    return { action: 'stabilize' };
                }
            }

            // If 5-step sim says we die, try the direct path
            const stairsField = getStairsField();
            const directPath = extractPathFromField(px, py, stairsField);
            if (directPath && directPath.length > 0) {
                const simDirect = simulatePath(directPath, true, HEURISTIC_HORIZON);
                if (simDirect.survived && simDirect.actionScript && simDirect.actionScript.length > 0) {
                    const firstAction = simDirect.actionScript[0];
                    if (firstAction.type === 'move') {
                        return { action: 'move', dx: firstAction.dx, dy: firstAction.dy };
                    } else if (firstAction.type === 'stabilize') {
                        return { action: 'stabilize' };
                    }
                }
            }

            // Fallback: greedy
            return greedyBotMove();
        }

        // Horizon sweep: run oracle at different horizons on same seeds
        function runHorizonSweep(numSeeds = 100, seedStart = 1000, targetLevel = 5) {
            const horizons = [3, 5, 8, 12, 20, 40];
            const origHorizon = ORACLE_SIM_HORIZON;
            const results = {};

            for (const h of horizons) {
                // Temporarily override the oracle's simulation horizon
                // This is a bit hacky but avoids modifying the oracle function signature
                ORACLE_SIM_HORIZON = h;

                let wins = 0;
                let totalMoves = 0;
                const start = performance.now();

                for (let i = 0; i < numSeeds; i++) {
                    const seed = seedStart + i;
                    const r = runBotGame('oracle', 500, targetLevel, seed);
                    if (r.won) { wins++; totalMoves += r.moves; }
                }

                const elapsed = performance.now() - start;
                results[h] = {
                    horizon: h,
                    wins,
                    winRate: +(wins / numSeeds * 100).toFixed(1),
                    avgMoves: wins > 0 ? Math.round(totalMoves / wins) : 0,
                    msPerSeed: Math.round(elapsed / numSeeds)
                };
            }

            // Also run heuristic bot and greedy for comparison
            ORACLE_SIM_HORIZON = origHorizon; // Restore

            let heuristicWins = 0, greedyWins = 0;
            for (let i = 0; i < numSeeds; i++) {
                const seed = seedStart + i;

                // Register heuristic bot temporarily
                const greedyR = runBotGame('greedy', 500, targetLevel, seed);
                if (greedyR.won) greedyWins++;
            }

            // Run heuristic bot
            for (let i = 0; i < numSeeds; i++) {
                const seed = seedStart + i;
                effectsEnabled = false;
                gameState.level = 1; gameState.moves = 0; gameState.levelMoves = 0; gameState.crystalsCollected = 0;
                gameState.stabilizerCharges = 0; gameState.grappleCharges = 0;
                gameState.chargesAtLevelStart = 0; gameState.stateHistory = [];
                gameState.baseSeed = seed;
                generateMap(seed);
                greedyLastPos = null; oracleLastPos = null; clearOraclePlan(true); cachedStairsField = null;

                let moveCount = 0;
                let rewindCount = 0;
                while (moveCount < 500 && gameState.level < targetLevel) {
                    const move = heuristicBotMove();
                    if (!move) break;
                    gameState.didRewindThisTurn = false;
                    executeBotMove(move);
                    moveCount++;
                    if (gameState.didRewindThisTurn) { rewindCount++; if (rewindCount > 50) break; }
                    const pe = canReachStairs(gameState.player.x, gameState.player.y);
                    if (!pe && gameState.map[gameState.player.y][gameState.player.x] !== TILE.STAIRS_DOWN && gameState.grappleCharges <= 0) break;
                }
                if (gameState.level >= targetLevel) heuristicWins++;
                effectsEnabled = true;
            }

            results.heuristic = { wins: heuristicWins, winRate: +(heuristicWins / numSeeds * 100).toFixed(1) };
            results.greedy = { wins: greedyWins, winRate: +(greedyWins / numSeeds * 100).toFixed(1) };

            ORACLE_SIM_HORIZON = origHorizon; // Ensure restored
            return results;
        }

        // ============ FUN ANALYSIS DASHBOARD ============
        // Run comprehensive fun analysis across seeds
        function runFunAnalysis(numSeeds = 100, seedStart = 1000, targetLevel = 5) {
            const games = [];
            const start = performance.now();

            // Run detailed games
            for (let i = 0; i < numSeeds; i++) {
                const seed = seedStart + i;
                const result = runBotGameDetailed('oracle', seed, targetLevel);
                games.push(result);
            }

            const elapsed = performance.now() - start;
            const wins = games.filter(g => g.won);
            const losses = games.filter(g => !g.won);

            // 1. TENSION METRICS
            const allDramaScores = games.map(g => g.summary.dramaScore);
            const allHighlightCounts = games.map(g => g.summary.highlightCount);
            const allRewinds = games.map(g => g.gameStats.rewinds);
            const allSlacks = [];
            for (const g of games) {
                for (const m of g.moveLog) {
                    if (m.tension.minSlack > 0 && !m.tension.usedCachedPlan) {
                        allSlacks.push(m.tension.minSlack);
                    }
                }
            }

            const tension = {
                avgDramaScore: +(allDramaScores.reduce((a, b) => a + b, 0) / allDramaScores.length).toFixed(2),
                medianDramaScore: +sorted(allDramaScores)[Math.floor(allDramaScores.length / 2)].toFixed(2),
                avgHighlights: +(allHighlightCounts.reduce((a, b) => a + b, 0) / allHighlightCounts.length).toFixed(1),
                rewindRate: +(allRewinds.filter(r => r > 0).length / games.length * 100).toFixed(1),
                avgRewinds: +(allRewinds.reduce((a, b) => a + b, 0) / games.length).toFixed(2),
                slackDistribution: {
                    critical: allSlacks.filter(s => s <= 1).length,
                    danger: allSlacks.filter(s => s === 2).length,
                    stable: allSlacks.filter(s => s >= 3 && s <= 4).length,
                    safe: allSlacks.filter(s => s >= 5).length
                }
            };

            // 2. CHOICE METRICS
            const allViable = [];
            const allTotal = [];
            for (const g of games) {
                for (const m of g.moveLog) {
                    if (!m.tension.usedCachedPlan && m.tension.totalCandidates > 0) {
                        allViable.push(m.tension.viableCandidates);
                        allTotal.push(m.tension.totalCandidates);
                    }
                }
            }

            const choices = {
                avgViablePaths: allViable.length > 0 ? +(allViable.reduce((a, b) => a + b, 0) / allViable.length).toFixed(1) : 0,
                avgTotalCandidates: allTotal.length > 0 ? +(allTotal.reduce((a, b) => a + b, 0) / allTotal.length).toFixed(1) : 0,
                forcedChoiceRate: allViable.length > 0 ? +(allViable.filter(v => v <= 2).length / allViable.length * 100).toFixed(1) : 0,
                avgActionEntropy: +(games.reduce((a, g) => a + g.summary.actionEntropy, 0) / games.length).toFixed(3)
            };

            // Action type distribution
            const actionTypeTotals = {};
            let totalActions = 0;
            for (const g of games) {
                for (const [type, count] of Object.entries(g.summary.actionTypes)) {
                    actionTypeTotals[type] = (actionTypeTotals[type] || 0) + count;
                    totalActions += count;
                }
            }
            const actionDistribution = {};
            for (const [type, count] of Object.entries(actionTypeTotals)) {
                actionDistribution[type] = +(count / totalActions * 100).toFixed(1);
            }

            // 3. MECHANIC ENGAGEMENT
            const mechanicUsage = {
                stabilizer: { used: games.filter(g => g.gameStats.stabilizersUsed > 0).length, avgPerGame: +(games.reduce((a, g) => a + g.gameStats.stabilizersUsed, 0) / games.length).toFixed(1) },
                grapple: { used: games.filter(g => g.gameStats.grappleUsed > 0).length, avgPerGame: +(games.reduce((a, g) => a + g.gameStats.grappleUsed, 0) / games.length).toFixed(1) },
                pillar: { used: games.filter(g => g.gameStats.pillarPushes > 0).length, avgPerGame: +(games.reduce((a, g) => a + g.gameStats.pillarPushes, 0) / games.length).toFixed(1) },
                rewind: { used: games.filter(g => g.gameStats.rewinds > 0).length, avgPerGame: +(games.reduce((a, g) => a + g.gameStats.rewinds, 0) / games.length).toFixed(1) }
            };

            // 4. PACING
            const allMovesPerLevel = {};
            for (const g of wins) {
                for (let lv = 0; lv < g.movesPerLevel.length; lv++) {
                    const lvNum = lv + 1;
                    if (!allMovesPerLevel[lvNum]) allMovesPerLevel[lvNum] = [];
                    allMovesPerLevel[lvNum].push(g.movesPerLevel[lv]);
                }
            }
            const pacing = {};
            for (const [lv, moves] of Object.entries(allMovesPerLevel)) {
                const s = sorted(moves);
                pacing[lv] = {
                    median: s[Math.floor(s.length / 2)],
                    avg: Math.round(s.reduce((a, b) => a + b, 0) / s.length),
                    min: s[0],
                    max: s[s.length - 1]
                };
            }

            // Average tension curve
            const tensionCurveAvg = {};
            const tensionCurveCounts = {};
            for (const g of games) {
                for (const [lv, val] of Object.entries(g.summary.tensionCurve)) {
                    tensionCurveAvg[lv] = (tensionCurveAvg[lv] || 0) + val;
                    tensionCurveCounts[lv] = (tensionCurveCounts[lv] || 0) + 1;
                }
            }
            for (const lv of Object.keys(tensionCurveAvg)) {
                tensionCurveAvg[lv] = +(tensionCurveAvg[lv] / tensionCurveCounts[lv]).toFixed(2);
            }

            // 5. DEGENERATE CHECK
            const moveOnlyWins = wins.filter(g => {
                const moveCount = g.summary.actionTypes['move'] || 0;
                const descendCount = g.summary.actionTypes['descend'] || 0;
                return moveCount + descendCount >= g.moves * 0.95; // 95% just move+descend
            });

            const degenerate = {
                moveOnlyWinRate: +(moveOnlyWins.length / wins.length * 100).toFixed(1),
                avgActionEntropy: choices.avgActionEntropy
            };

            // 6. PER-SEED FUN RATING (1-5 stars)
            const funRatings = games.map(g => {
                let stars = 1; // Base
                if (g.summary.dramaScore >= 2) stars++;
                if (g.summary.dramaScore >= 5) stars++;
                if (g.summary.highlightCount >= 3) stars++;
                // Mechanic diversity bonus
                const mechsUsed = [g.gameStats.stabilizersUsed > 0, g.gameStats.grappleUsed > 0,
                                   g.gameStats.pillarPushes > 0, g.gameStats.rewinds > 0].filter(Boolean).length;
                if (mechsUsed >= 2) stars++;
                return Math.min(stars, 5);
            });

            const starDistribution = [0, 0, 0, 0, 0];
            for (const r of funRatings) starDistribution[r - 1]++;
            const medianStars = sorted(funRatings)[Math.floor(funRatings.length / 2)];

            return {
                overview: {
                    seeds: numSeeds, wins: wins.length, losses: losses.length,
                    winRate: +(wins.length / numSeeds * 100).toFixed(1),
                    elapsedMs: Math.round(elapsed),
                    msPerSeed: Math.round(elapsed / numSeeds)
                },
                tension,
                choices,
                actionDistribution,
                mechanicUsage,
                pacing,
                tensionCurve: tensionCurveAvg,
                degenerate,
                funRating: {
                    median: medianStars,
                    distribution: {
                        '1star': starDistribution[0], '2star': starDistribution[1],
                        '3star': starDistribution[2], '4star': starDistribution[3],
                        '5star': starDistribution[4]
                    },
                    avg: +(funRatings.reduce((a, b) => a + b, 0) / funRatings.length).toFixed(1)
                }
            };
        }

        // Helper: sort numbers
        function sorted(arr) { return arr.slice().sort((a, b) => a - b); }

        // Run multiple bot games and report stats
        function runBotTests(botType, numGames = 10, targetLevel = 4) {
            const results = [];
            for (let i = 0; i < numGames; i++) {
                const result = runBotGame(botType, 500, targetLevel);
                results.push(result);
            }

            const wins = results.filter(r => r.won).length;
            const avgLevel = results.reduce((sum, r) => sum + r.level, 0) / numGames;
            const avgMoves = results.reduce((sum, r) => sum + r.moves, 0) / numGames;

            // Count failure reasons
            const reasons = {};
            results.filter(r => !r.won).forEach(r => {
                reasons[r.reason] = (reasons[r.reason] || 0) + 1;
            });

            // Calculate turns-to-win stats for successful games
            const winningGames = results.filter(r => r.won);
            let turnsToWinStats = null;
            if (winningGames.length > 0) {
                const allMoves = winningGames.map(r => r.moves).sort((a, b) => a - b);
                const p50 = allMoves[Math.floor(allMoves.length * 0.5)];
                const p95 = allMoves[Math.floor(allMoves.length * 0.95)];
                const avgTurns = allMoves.reduce((a, b) => a + b, 0) / allMoves.length;
                turnsToWinStats = { min: allMoves[0], max: allMoves[allMoves.length - 1], avg: avgTurns, p50, p95 };
            }

            console.log(`=== ${botType.toUpperCase()} BOT RESULTS ===`);
            console.log(`Games: ${numGames}, Wins: ${wins} (${(wins/numGames*100).toFixed(1)}%)`);
            console.log(`Avg Level Reached: ${avgLevel.toFixed(2)}`);
            console.log(`Avg Moves: ${avgMoves.toFixed(1)}`);
            console.log(`Failure reasons:`, reasons);
            if (turnsToWinStats) {
                console.log(`Turns to win: min=${turnsToWinStats.min}, p50=${turnsToWinStats.p50}, p95=${turnsToWinStats.p95}, max=${turnsToWinStats.max}`);
            }

            return { botType, numGames, wins, winRate: wins/numGames, avgLevel, avgMoves, reasons, turnsToWinStats, results };
        }

        // Run comparative tests: BOTH bots on the SAME seeds
        // This is the only valid way to measure skill gap!
        function runComparativeTests(numGames = 20, targetLevel = 5, seedOfSeeds = null) {
            // Generate seeds upfront using optional seedOfSeeds for reproducibility
            const seeds = [];

            if (seedOfSeeds !== null) {
                // Use a local seeded RNG (Mulberry32) for reproducible seed lists
                let rng = seedOfSeeds >>> 0;
                const nextRng = () => {
                    let t = rng += 0x6D2B79F5;
                    t = Math.imul(t ^ t >>> 15, t | 1);
                    t ^= t + Math.imul(t ^ t >>> 7, t | 61);
                    return ((t ^ t >>> 14) >>> 0) / 4294967296;
                };
                for (let i = 0; i < numGames; i++) {
                    seeds.push(Math.floor(nextRng() * 1000000));
                }
                console.log(`Using seedOfSeeds=${seedOfSeeds} for reproducible test`);
            } else {
                for (let i = 0; i < numGames; i++) {
                    seeds.push(Math.floor(Math.random() * 1000000));
                }
            }

            const perSeedResults = [];
            let greedyWins = 0, tacticalWins = 0;
            let greedyOnlyWins = 0, tacticalOnlyWins = 0, bothWin = 0, bothLose = 0;

            for (let i = 0; i < numGames; i++) {
                const seed = seeds[i];

                // Run greedy on this seed
                const greedyResult = runBotGame('greedy', 500, targetLevel, seed);

                // Run tactical on the SAME seed
                const tacticalResult = runBotGame('tactical', 500, targetLevel, seed);

                perSeedResults.push({
                    seed,
                    greedy: greedyResult,
                    tactical: tacticalResult
                });

                if (greedyResult.won) greedyWins++;
                if (tacticalResult.won) tacticalWins++;

                // Categorize outcomes
                if (greedyResult.won && tacticalResult.won) bothWin++;
                else if (!greedyResult.won && !tacticalResult.won) bothLose++;
                else if (greedyResult.won && !tacticalResult.won) greedyOnlyWins++;
                else if (!greedyResult.won && tacticalResult.won) tacticalOnlyWins++;
            }

            const greedyRate = (greedyWins / numGames * 100).toFixed(1);
            const tacticalRate = (tacticalWins / numGames * 100).toFixed(1);
            const gap = ((tacticalWins - greedyWins) / numGames * 100).toFixed(1);

            console.log(`=== COMPARATIVE TEST (${numGames} games, SAME SEEDS) ===`);
            console.log(`Greedy:   ${greedyWins}/${numGames} (${greedyRate}%)`);
            console.log(`Tactical: ${tacticalWins}/${numGames} (${tacticalRate}%)`);
            console.log(`Gap:      ${gap >= 0 ? '+' : ''}${gap}%`);
            console.log(`---`);
            console.log(`Both win:         ${bothWin} maps`);
            console.log(`Both lose:        ${bothLose} maps`);
            console.log(`Only greedy wins: ${greedyOnlyWins} maps`);
            console.log(`Only tactical wins: ${tacticalOnlyWins} maps`);

            return {
                numGames,
                seedOfSeeds,  // For reproducibility - pass this back to get same results
                greedyWins,
                tacticalWins,
                greedyRate: parseFloat(greedyRate),
                tacticalRate: parseFloat(tacticalRate),
                gap: parseFloat(gap),
                bothWin,
                bothLose,
                greedyOnlyWins,
                tacticalOnlyWins,
                perSeedResults
            };
        }

        // Run Oracle vs Greedy tests on same seeds
        // This tests the upper bound of skill gap achievable
        function runOracleTests(numGames = 50, targetLevel = 5, seedOfSeeds = 12345) {
            const seeds = [];

            // Use deterministic seed generation
            let rng = seedOfSeeds >>> 0;
            const nextRng = () => {
                let t = rng += 0x6D2B79F5;
                t = Math.imul(t ^ t >>> 15, t | 1);
                t ^= t + Math.imul(t ^ t >>> 7, t | 61);
                return ((t ^ t >>> 14) >>> 0) / 4294967296;
            };
            for (let i = 0; i < numGames; i++) {
                seeds.push(Math.floor(nextRng() * 1000000));
            }

            console.log(`=== ORACLE VS GREEDY TEST (${numGames} games, seedOfSeeds=${seedOfSeeds}) ===`);

            const perSeedResults = [];
            let greedyWins = 0, oracleWins = 0;
            let greedyOnlyWins = 0, oracleOnlyWins = 0, bothWin = 0, bothLose = 0;

            for (let i = 0; i < numGames; i++) {
                const seed = seeds[i];

                // Run greedy on this seed
                const greedyResult = runBotGame('greedy', 500, targetLevel, seed);

                // Run oracle on the SAME seed
                const oracleResult = runBotGame('oracle', 500, targetLevel, seed);

                perSeedResults.push({
                    seed,
                    greedy: greedyResult,
                    oracle: oracleResult
                });

                if (greedyResult.won) greedyWins++;
                if (oracleResult.won) oracleWins++;

                // Categorize outcomes
                if (greedyResult.won && oracleResult.won) bothWin++;
                else if (!greedyResult.won && !oracleResult.won) bothLose++;
                else if (greedyResult.won && !oracleResult.won) greedyOnlyWins++;
                else if (!greedyResult.won && oracleResult.won) oracleOnlyWins++;

                // Progress indicator
                if ((i + 1) % 10 === 0) {
                    console.log(`  Progress: ${i + 1}/${numGames} games...`);
                }
            }

            const greedyRate = (greedyWins / numGames * 100).toFixed(1);
            const oracleRate = (oracleWins / numGames * 100).toFixed(1);
            const gap = ((oracleWins - greedyWins) / numGames * 100).toFixed(1);

            console.log(`---`);
            console.log(`Greedy: ${greedyWins}/${numGames} (${greedyRate}%)`);
            console.log(`Oracle: ${oracleWins}/${numGames} (${oracleRate}%)`);
            console.log(`Gap:    ${gap >= 0 ? '+' : ''}${gap}%`);
            console.log(`---`);
            console.log(`Both win:        ${bothWin} maps`);
            console.log(`Both lose:       ${bothLose} maps`);
            console.log(`Only greedy wins: ${greedyOnlyWins} maps`);
            console.log(`Only oracle wins: ${oracleOnlyWins} maps (avoidable losses converted)`);

            // Summary
            if (parseFloat(oracleRate) >= 80) {
                console.log(`\n‚úì ORACLE UPPER BOUND MET: ${oracleRate}% >= 80%`);
                console.log(`  Game mechanics CAN support 80%+ tactical win rate.`);
            } else if (parseFloat(oracleRate) >= 60) {
                console.log(`\n‚ö† ORACLE BELOW TARGET: ${oracleRate}% < 80%`);
                console.log(`  Need mechanics that punish greedy more (0 charges, extreme rooms, etc.)`);
            } else {
                console.log(`\n‚úó ORACLE TOO LOW: ${oracleRate}% < 60%`);
                console.log(`  Game fundamentally may not support large skill gap.`);
            }

            return {
                numGames,
                seedOfSeeds,
                greedyWins,
                oracleWins,
                greedyRate: parseFloat(greedyRate),
                oracleRate: parseFloat(oracleRate),
                gap: parseFloat(gap),
                bothWin,
                bothLose,
                greedyOnlyWins,
                oracleOnlyWins,
                perSeedResults
            };
        }

        // ============ SAVE/LOAD SYSTEM (Phase 4) ============
        const SAVE_KEY = 'decay_savegame';
        let saveIndicatorTimeout = null;

        function serializeGameState() {
            return {
                saveVersion: SAVE_VERSION,
                timestamp: Date.now(),
                state: {
                    seed: gameState.seed,
                    baseSeed: gameState.baseSeed,
                    map: gameState.map.map(row => [...row]),
                    decay: gameState.decay.map(row => [...row]),
                    awakened: gameState.awakened.map(row => row.map(v => !!v)),
                    player: { ...gameState.player },
                    moves: gameState.moves,
                    levelMoves: gameState.levelMoves,
                    level: gameState.level,
                    pillars: gameState.pillars.map(p => ({ ...p })),
                    crystals: gameState.crystals.map(c => ({ ...c })),
                    crystalsCollected: gameState.crystalsCollected,
                    stabilizerCharges: gameState.stabilizerCharges,
                    chargesAtLevelStart: gameState.chargesAtLevelStart,
                    stabilizerCooldown: gameState.stabilizerCooldown,
                    frozenTiles: gameState.frozenTiles.map(f => ({ ...f })),
                    graceTiles: gameState.graceTiles.map(g => ({ ...g })),
                    grappleCharges: gameState.grappleCharges,
                    grappleItems: gameState.grappleItems.map(g => ({ ...g })),
                    enemies: gameState.enemies.map(e => ({ ...e })),
                    seekerTrail: [...gameState.seekerTrail],
                    stairsX: gameState.stairsX,
                    stairsY: gameState.stairsY,
                    rngState: rngState,
                    initialRngState: gameState.initialRngState,
                    enteredRooms: [...gameState.enteredRooms],
                    restedTiles: [...gameState.restedTiles],
                    consecutiveWaits: gameState.consecutiveWaits,
                    mapVersion: gameState.mapVersion,
                    decayEnabled: gameState.decayEnabled,
                    rooms: gameState.rooms.map(r => ({ ...r })),
                    distanceFromStart: gameState.distanceFromStart.map(row => [...row]),
                    explored: gameState.explored.map(row => [...row]),
                    stabilizerType: gameState.stabilizerType,
                    replayRecording: gameState.replayRecording,
                    replayStartSeed: gameState.replayStartSeed,
                    replayStartLevel: gameState.replayStartLevel,
                    replayLog: gameState.replayLog ? JSON.parse(JSON.stringify(gameState.replayLog)) : []
                }
            };
        }

        function deserializeGameState(saveData) {
            if (!saveData || saveData.saveVersion !== SAVE_VERSION) {
                addMessage('Save version mismatch! Starting fresh.', 'warn');
                return false;
            }
            const s = saveData.state;

            gameState.seed = s.seed;
            gameState.baseSeed = s.baseSeed;
            gameState.map = s.map;
            gameState.decay = s.decay;
            gameState.awakened = s.awakened;
            gameState.player = s.player;
            gameState.moves = s.moves;
            gameState.levelMoves = s.levelMoves ?? 0;
            gameState.level = s.level;
            gameState.pillars = s.pillars;
            gameState.crystals = s.crystals;
            gameState.crystalsCollected = s.crystalsCollected;
            gameState.stabilizerCharges = s.stabilizerCharges;
            gameState.chargesAtLevelStart = s.chargesAtLevelStart ?? 0;
            gameState.stabilizerCooldown = s.stabilizerCooldown;
            gameState.frozenTiles = s.frozenTiles;
            gameState.graceTiles = s.graceTiles ?? [];
            gameState.grappleCharges = s.grappleCharges;
            gameState.grappleItems = s.grappleItems ?? [];
            gameState.enemies = s.enemies;
            gameState.seekerTrail = new Set(s.seekerTrail);
            gameState.stairsX = s.stairsX;
            gameState.stairsY = s.stairsY;
            rngState = s.rngState;
            gameState.initialRngState = s.initialRngState;
            gameState.enteredRooms = new Set(s.enteredRooms);
            gameState.restedTiles = new Set(s.restedTiles);
            gameState.consecutiveWaits = s.consecutiveWaits;
            gameState.mapVersion = s.mapVersion;
            gameState.decayEnabled = s.decayEnabled;
            gameState.rooms = s.rooms;
            gameState.distanceFromStart = s.distanceFromStart;
            gameState.explored = s.explored;
            gameState.stabilizerType = s.stabilizerType ?? 'radial';
            gameState.stateHistory = [];
            gameState.messages = [];

            // Restore replay state
            gameState.replayRecording = s.replayRecording ?? false;
            gameState.replayStartSeed = s.replayStartSeed ?? gameState.seed;
            gameState.replayStartLevel = s.replayStartLevel ?? gameState.level;
            gameState.replayLog = s.replayLog ?? [];

            // Reconstruct derived state
            initVisibilityArrays();
            // Copy back explored from save
            for (let y = 0; y < CONFIG.mapHeight; y++) {
                for (let x = 0; x < CONFIG.mapWidth; x++) {
                    gameState.explored[y][x] = s.explored[y]?.[x] ?? false;
                }
            }
            calculateFOV();

            return true;
        }

        function saveGame() {
            try {
                const data = serializeGameState();
                localStorage.setItem(SAVE_KEY, JSON.stringify(data));
                showSaveIndicator();
                return true;
            } catch (e) {
                addMessage('Save failed: ' + e.message, 'warn');
                return false;
            }
        }

        function loadGame() {
            try {
                const raw = localStorage.getItem(SAVE_KEY);
                if (!raw) {
                    addMessage('No saved game found.', 'warn');
                    return false;
                }
                const data = JSON.parse(raw);
                if (deserializeGameState(data)) {
                    gameState.mainMenuActive = false;
                    addMessage(`Loaded save: Level ${gameState.level}, ${gameState.moves} moves.`, 'info');
                    render();
                    return true;
                }
                return false;
            } catch (e) {
                addMessage('Load failed: ' + e.message, 'warn');
                return false;
            }
        }

        function hasSavedGame() {
            return !!localStorage.getItem(SAVE_KEY);
        }

        function showSaveIndicator() {
            const el = document.getElementById('save-indicator');
            if (!el) return;
            el.style.opacity = '1';
            if (saveIndicatorTimeout) clearTimeout(saveIndicatorTimeout);
            saveIndicatorTimeout = setTimeout(() => {
                el.style.opacity = '0';
            }, 1500);
        }

        // Auto-save on page unload
        window.addEventListener('beforeunload', () => {
            if (gameState.moves > 0 && !replayState.active && !gameState.concedeActive) {
                saveGame();
            }
        });

        // ============ INITIALIZATION ============
        function init() {
            // Auto-clear stale saves on version mismatch
            try {
                const raw = localStorage.getItem(SAVE_KEY);
                if (raw) {
                    const data = JSON.parse(raw);
                    if (!data || data.saveVersion !== SAVE_VERSION) {
                        localStorage.removeItem(SAVE_KEY);
                        console.log(`Cleared stale save (v${data?.saveVersion} != v${SAVE_VERSION})`);
                    }
                }
            } catch (e) {
                localStorage.removeItem(SAVE_KEY);
            }

            gameState.mainMenuActive = true;
            startContinuousLoop();
            render();
        }

        function startNewGameFromMenu() {
            gameState.mainMenuActive = false;
            generateMap();
            startAutoRecording();
            addMessage("Level 1: Explore safely! No decay - learn the controls.", 'info');
            addMessage("Collect crystals for stabilizer charges. Find the stairs (>) to descend.", 'info');
            render();
        }

        // Start auto-recording replays (always on)
        function startAutoRecording() {
            gameState.replayRecording = true;
            gameState.replayLog = [];
            gameState.replayStartSeed = gameState.seed;
            gameState.replayStartLevel = gameState.level;
        }

        // Expose for debugging and bot testing
        window.gameState = gameState;
        window.generateMap = generateMap;
        window.render = render;
        window.findPath = findPath;
        window.calculateFOV = calculateFOV;
        window.restartLevel = restartLevel;
        window.processTurnDecay = processTurnDecay;

        // Screenshot capture helper for documentation
        window.captureL2Screenshots = async function(seed = 1007) {
            const sleep = ms => new Promise(r => setTimeout(r, ms));
            const canvas = document.getElementById('game-canvas');
            const screenshots = [];

            // Reset game state completely (same as runBotGame)
            gameState.level = 1;
            gameState.moves = 0;
            gameState.levelMoves = 0;
            gameState.crystalsCollected = 0;
            gameState.stabilizerCharges = 0;
            gameState.stateHistory = [];
            gameState.baseSeed = seed;

            // Reset anti-oscillation state
            greedyLastPos = null;
            oracleLastPos = null;
            clearOraclePlan();

            // Start game with seed
            generateMap(seed);
            await sleep(100);
            render();

            // Get through Level 1 with oracle bot (more reliable than greedy)
            let l1Moves = 0;
            const maxL1Moves = 300;
            while (gameState.level === 1 && l1Moves < maxL1Moves) {
                const move = oracleBotMove();
                if (!move) break;
                executeBotMove(move);
                l1Moves++;
            }

            const finalLevel = gameState.level;

            // Only capture if we reached L2
            if (finalLevel < 2) {
                return {
                    seed: seed,
                    l1Moves: l1Moves,
                    finalLevel: finalLevel,
                    error: 'Did not reach L2',
                    screenshots: [],
                    screenshotSizes: []
                };
            }

            // Capture L2 initial state
            await sleep(100);
            render();
            await sleep(100);
            screenshots.push({
                label: 'L2 Initial - Player at (' + gameState.player.x + ',' + gameState.player.y + ')',
                data: canvas.toDataURL('image/png'),
                move: 0
            });

            // Run oracle and capture at intervals
            const capturePoints = [10, 20, 30, 40, 50];
            let moveCount = 0;

            for (let i = 0; i < 100 && gameState.level === 2; i++) {
                const move = oracleBotMove();
                if (!move) break;
                executeBotMove(move);
                moveCount++;

                if (capturePoints.includes(moveCount)) {
                    await sleep(50);
                    render();
                    await sleep(50);
                    screenshots.push({
                        label: 'L2 Move ' + moveCount + ' - Player at (' + gameState.player.x + ',' + gameState.player.y + ')',
                        data: canvas.toDataURL('image/png'),
                        move: moveCount
                    });
                }
            }

            return {
                seed: seed,
                l1Moves: l1Moves,
                finalLevel: gameState.level,
                l2Moves: moveCount,
                screenshots: screenshots,
                screenshotSizes: screenshots.map(s => s.data.length)
            };
        };

        // Generate playthrough HTML from localStorage screenshots
        window.generatePlaythroughHTML = function(seed = 1007) {
            const img0 = localStorage.getItem('img0');
            const img1 = localStorage.getItem('img1');

            if (!img0 || !img1) {
                console.error('No screenshots in localStorage. Run captureL2Screenshots first and store to localStorage.');
                return null;
            }

            const html = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Oracle Playthrough - Seed ${seed}</title>
    <style>
        body { background: #1a1a2e; color: #eee; font-family: sans-serif; max-width: 1100px; margin: auto; padding: 20px; line-height: 1.6; }
        h1, h2 { color: #00d4ff; }
        .screenshot { background: #2d2d44; padding: 20px; margin: 30px 0; border-radius: 8px; }
        .screenshot h3 { margin-top: 0; color: #00d4ff; }
        img { max-width: 100%; border: 2px solid #444; border-radius: 4px; }
        .caption { color: #888; font-size: 0.9em; margin-top: 8px; }
        .key-insight { background: #2d4422; border-left: 4px solid #44ff00; padding: 15px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>Oracle Playthrough - Seed ${seed}</h1>
    <p><em>Level 2 Screenshots - Decay is now active</em></p>

    <div class="key-insight">
        <h3>Why Level 2?</h3>
        <p>Level 1 has no decay - it's a tutorial. The interesting oracle decisions happen in Level 2+ where tiles actively collapse and stabilizer usage matters.</p>
    </div>

    <div class="screenshot">
        <h3>1. L2 Initial Position</h3>
        <img src="${img0}" alt="L2 Initial">
        <p class="caption">Starting position on Level 2. Green tiles are safe, yellow/orange are decaying, red is critical.</p>
    </div>

    <div class="screenshot">
        <h3>2. L2 Move 10 - Strategic Navigation</h3>
        <img src="${img1}" alt="L2 Move 10">
        <p class="caption">Oracle navigating through awakened tiles, using simulation to find the safest forward path.</p>
    </div>

    <h2>Oracle Strategy</h2>
    <div class="key-insight">
        <p><strong>Investment vs Rush:</strong> Oracle spends extra moves positioning safely and collecting crystals, while greedy rushes toward stairs. This upfront investment pays off in later levels.</p>
    </div>

    <p style="color: #888; text-align: center; margin-top: 40px;">
        Generated by Decay Roguelike - Oracle Analysis<br>
        Seed: ${seed}
    </p>
</body>
</html>`;

            return html;
        };

        // Download playthrough HTML file
        window.downloadPlaythroughHTML = function(seed = 1007) {
            const html = window.generatePlaythroughHTML(seed);
            if (!html) return;

            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'oracle_playthrough_' + seed + '.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            console.log('Downloaded oracle_playthrough_' + seed + '.html');
        };

        // ============ ORACLE TEST SUITE ============
        // Comprehensive test suite for validating oracle correctness
        const OracleTestSuite = {
            config: {
                quickSeeds: 20,
                thoroughSeeds: 200,
                maxTimePerSeed: 30000,
                regressionSeeds: [3002, 3008, 1000, 1005, 2000, 3000]
            },

            // Baseline win set: seeds where oracle currently wins (established by running establishBaseline)
            baselineWinSet: null,

            // State hash function for sim‚Üîreal comparison
            // FNV-1a hash for grids (collision-resistant)
            hashGrid: function(grid) {
                let h = 2166136261 >>> 0; // FNV-1a seed
                for (let y = 0; y < grid.length; y++) {
                    const row = grid[y];
                    for (let x = 0; x < row.length; x++) {
                        const v = typeof row[x] === 'boolean' ? (row[x] ? 1 : 0) : (row[x] & 0xff);
                        h ^= v;
                        h = Math.imul(h, 16777619);
                    }
                }
                return h >>> 0;
            },

            hashState: function(state) {
                // FNV-1a based state hash with crystal.destroyed included
                let h = 2166136261 >>> 0;
                const mix = (n) => { h ^= (n >>> 0); h = Math.imul(h, 16777619); };
                const mixStr = (s) => { for (let i = 0; i < s.length; i++) mix(s.charCodeAt(i)); };

                // Core state
                mix(state.player.x); mix(state.player.y);
                mix(state.moves || 0);
                mix(state.level || 1);
                mix(state.stabilizerCharges);
                mix(state.stabilizerCooldown);
                mix(state.crystalsCollected);

                // Crystals with destroyed state
                const crystalsStr = state.crystals
                    .map(c => `${c.x},${c.y},${c.collected?1:0},${c.destroyed?1:0}`)
                    .sort().join(';');
                mixStr(crystalsStr);

                // Frozen/grace tiles
                const frozenStr = state.frozenTiles
                    .map(f => `${f.x},${f.y},${f.turnsRemaining}`).sort().join(';');
                mixStr(frozenStr);

                const graceStr = (state.graceTiles || [])
                    .map(g => `${g.x},${g.y},${g.turnsRemaining}`).sort().join(';');
                mixStr(graceStr);

                // Sets (stable order)
                mixStr(Array.from(state.enteredRooms || []).sort((a,b)=>a-b).join(','));
                mixStr(Array.from(state.restedTiles || []).sort().join(','));

                // Grids with FNV-1a (collision-resistant)
                mix(this.hashGrid(state.map));
                mix(this.hashGrid(state.decay));
                mix(this.hashGrid(state.awakened));

                return h >>> 0;
            },

            // Test 1: Dominance - oracle must win on all seeds greedy wins
            testDominance: function(seedStart, seedCount) {
                let oWins = 0, gWins = 0, oExclusive = 0, gExclusive = 0;
                const failures = [];
                const details = [];

                for (let seed = seedStart; seed < seedStart + seedCount; seed++) {
                    const oResult = runBotGame('oracle', 500, 5, seed);
                    const gResult = runBotGame('greedy', 500, 5, seed);

                    if (oResult.won) oWins++;
                    if (gResult.won) gWins++;
                    if (oResult.won && !gResult.won) oExclusive++;
                    if (gResult.won && !oResult.won) {
                        gExclusive++;
                        failures.push({ seed, oracle: oResult, greedy: gResult });
                    }
                    details.push({ seed, oracleWon: oResult.won, greedyWon: gResult.won });
                }

                return {
                    passed: gExclusive === 0,
                    oWins, gWins, oExclusive, gExclusive,
                    failures, details
                };
            },

            // Test 1b: Dominance at scale - greedy-win pool strategy for efficient 100+ seed testing
            // Runs greedy on large range, then oracle only on greedy-win seeds
            testDominanceAtScale: function(seedStart = 1000, totalSeeds = 200) {
                console.log(`Phase 1: Running greedy on ${totalSeeds} seeds...`);
                const greedyWinPool = [];
                const greedyResults = [];

                // Phase 1: Run greedy on all seeds (fast: ~70ms/seed)
                for (let seed = seedStart; seed < seedStart + totalSeeds; seed++) {
                    const gResult = runBotGame('greedy', 500, 5, seed);
                    greedyResults.push({ seed, won: gResult.won, moves: gResult.moves });
                    if (gResult.won) {
                        greedyWinPool.push(seed);
                    }
                }

                console.log(`Phase 1 complete: ${greedyWinPool.length} greedy wins out of ${totalSeeds}`);
                console.log(`Phase 2: Running oracle on ${greedyWinPool.length} greedy-win seeds...`);

                // Phase 2: Run oracle only on greedy-win pool
                let oWins = 0, gExclusive = 0;
                const failures = [];

                for (const seed of greedyWinPool) {
                    const oResult = runBotGame('oracle', 500, 5, seed);
                    if (oResult.won) {
                        oWins++;
                    } else {
                        gExclusive++;
                        failures.push({ seed, oracle: oResult });
                    }
                }

                console.log(`Phase 2 complete: oracle won ${oWins}/${greedyWinPool.length}, gExclusive=${gExclusive}`);

                return {
                    passed: gExclusive === 0,
                    totalSeeds,
                    greedyWins: greedyWinPool.length,
                    oracleWins: oWins,
                    gExclusive,
                    failures,
                    greedyWinPool
                };
            },

            // Seeded shuffle helper (Fisher-Yates with mulberry32 PRNG)
            seededShuffle: function(arr, seed) {
                // Mulberry32 PRNG
                let rng = seed >>> 0;
                const next = () => {
                    let t = rng += 0x6D2B79F5;
                    t = Math.imul(t ^ (t >>> 15), t | 1);
                    t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
                    return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
                };
                // Fisher-Yates shuffle
                const a = arr.slice();
                for (let i = a.length - 1; i > 0; i--) {
                    const j = Math.floor(next() * (i + 1));
                    [a[i], a[j]] = [a[j], a[i]];
                }
                return a;
            },

            // Test 1c: Oracle on greedy losses - measure "skill expression"
            // How many maps does oracle save that greedy loses?
            testOracleOnGreedyLoss: function(seedStart = 1000, totalSeeds = 200, sampleSize = 50) {
                console.log(`Phase 1: Running greedy on ${totalSeeds} seeds to find losses...`);
                const greedyLossPool = [];

                // Phase 1: Find greedy losses
                for (let seed = seedStart; seed < seedStart + totalSeeds; seed++) {
                    const gResult = runBotGame('greedy', 500, 5, seed);
                    if (!gResult.won) {
                        greedyLossPool.push(seed);
                    }
                }

                console.log(`Phase 1 complete: ${greedyLossPool.length} greedy losses out of ${totalSeeds}`);

                // Phase 2: Seeded shuffle for unbiased sampling (deterministic based on seedStart)
                const shuffled = OracleTestSuite.seededShuffle(greedyLossPool, seedStart * 99991);
                const sample = shuffled.slice(0, sampleSize);
                console.log(`Phase 2: Running oracle on ${sample.length} greedy-loss seeds...`);

                let oracleOnlyWins = 0;
                let bothLose = 0;
                const oracleWinSeeds = [];

                for (const seed of sample) {
                    const oResult = runBotGame('oracle', 500, 5, seed);
                    if (oResult.won) {
                        oracleOnlyWins++;
                        oracleWinSeeds.push(seed);
                    } else {
                        bothLose++;
                    }
                }

                const skillExpression = sample.length > 0 ? oracleOnlyWins / sample.length : 0;
                console.log(`Phase 2 complete: oracle won ${oracleOnlyWins}/${sample.length} (${(skillExpression * 100).toFixed(1)}% skill expression)`);

                return {
                    totalSeeds,
                    greedyLosses: greedyLossPool.length,
                    greedyWinRate: (totalSeeds - greedyLossPool.length) / totalSeeds,
                    sampleSize: sample.length,
                    oracleOnlyWins,
                    bothLose,
                    skillExpression,
                    oracleWinSeeds
                };
            },

            // Test: Thresholds - verify win rates, gap, and mechanic utilization on N seeds
            testThresholds: function(seedStart = 1000, seedCount = 200) {
                let oWins = 0, gWins = 0, gExclusive = 0;
                let totalGrappleUsed = 0, totalStabUsed = 0, totalPillarPush = 0;
                let seedsReachingL3 = 0;

                for (let seed = seedStart; seed < seedStart + seedCount; seed++) {
                    const oResult = runBotGame('oracle', 500, 5, seed);
                    const gResult = runBotGame('greedy', 500, 5, seed);
                    if (oResult.won) oWins++;
                    if (gResult.won) gWins++;
                    if (gResult.won && !oResult.won) gExclusive++;

                    // Aggregate mechanic stats from oracle
                    if (oResult.gameStats) {
                        totalGrappleUsed += oResult.gameStats.grappleUsed || 0;
                        totalStabUsed += oResult.gameStats.stabilizersUsed || 0;
                        totalPillarPush += oResult.gameStats.pillarPushes || 0;
                    }
                    if (oResult.level >= 3) seedsReachingL3++;
                }

                const oracleRate = oWins / seedCount * 100;
                const greedyRate = gWins / seedCount * 100;
                const gap = oracleRate - greedyRate;

                const issues = [];
                if (oracleRate < 50) issues.push(`Oracle win rate ${oracleRate.toFixed(1)}% < 50%`);
                if (greedyRate > 40) issues.push(`Greedy win rate ${greedyRate.toFixed(1)}% > 40%`);
                if (gap < 15) issues.push(`Gap ${gap.toFixed(1)}% < 15%`);
                if (gExclusive > 0) issues.push(`gExclusive=${gExclusive} > 0`);
                if (totalStabUsed === 0) issues.push('No stabilizers used across all seeds');

                return {
                    passed: issues.length === 0,
                    issues,
                    oracleRate: oracleRate.toFixed(1),
                    greedyRate: greedyRate.toFixed(1),
                    gap: gap.toFixed(1),
                    gExclusive,
                    seedCount,
                    mechanics: { grappleUsed: totalGrappleUsed, stabilizersUsed: totalStabUsed, pillarPushes: totalPillarPush, seedsReachingL3 }
                };
            },

            // Baseline: seeds where oracle currently wins at target L10 (seeds 1000-1199)
            deepRunBaseline: new Set([1001,1008,1010,1011,1013,1015,1016,1019,1021,1025,1026,1028,1030,1031,1032,1033,1034,1039,1048,1049,1050,1051,1052,1055,1057,1058,1061,1063,1064,1065,1067,1074,1075,1078,1079,1080,1083,1087,1088,1089,1091,1096,1097,1098,1099,1100,1104,1105,1106,1107,1109,1112,1113,1114,1115,1120,1122,1123,1124,1126,1127,1128,1131,1140,1142,1143,1145,1146,1150,1154,1158,1159,1160,1161,1164,1165,1166,1167,1168,1170,1171,1172,1173,1175,1177,1178,1179,1183,1185,1186,1190,1193,1194,1196,1198,1199]),

            // Test: Deep run ‚Äî oracle to L10, check for regressions against baseline
            testDeepRun: function(seedStart = 1000, seedCount = 200) {
                const quick = seedCount <= 20;
                // For quick mode, test a subset of baseline seeds (faster)
                const baselineSeeds = [...this.deepRunBaseline];
                const testSeeds = quick
                    ? baselineSeeds.slice(0, Math.min(10, baselineSeeds.length))
                    : baselineSeeds;

                const regressions = [];  // Seeds that used to win but now lose
                const improvements = []; // Seeds not in baseline that now win
                let baselineWins = 0;
                let currentWins = 0;
                const levelDeaths = {};  // level ‚Üí count

                // Test all baseline seeds (must still win)
                for (const seed of testSeeds) {
                    const r = runBotGame('oracle', 3000, 10, seed);
                    if (r.won) {
                        baselineWins++;
                        currentWins++;
                    } else {
                        regressions.push({ seed, diedAtLevel: r.level, moves: r.moves });
                        const dl = r.level;
                        levelDeaths[dl] = (levelDeaths[dl] || 0) + 1;
                    }
                }

                // On full run, also test non-baseline seeds to find improvements
                if (!quick) {
                    for (let seed = seedStart; seed < seedStart + seedCount; seed++) {
                        if (this.deepRunBaseline.has(seed)) continue; // Already tested
                        const r = runBotGame('oracle', 3000, 10, seed);
                        if (r.won) {
                            currentWins++;
                            improvements.push(seed);
                        } else {
                            const dl = r.level;
                            levelDeaths[dl] = (levelDeaths[dl] || 0) + 1;
                        }
                    }
                }

                const totalTested = quick ? testSeeds.length : seedCount;
                return {
                    passed: regressions.length === 0,
                    totalTested,
                    baselineTested: testSeeds.length,
                    baselineWins,
                    currentWins,
                    winRate: (currentWins / totalTested * 100).toFixed(1),
                    regressions,
                    improvements: improvements.length,
                    levelDeaths,
                    issues: regressions.map(r => `Seed ${r.seed} regressed (died L${r.diedAtLevel})`)
                };
            },

            // Test 2: Determinism - same seed produces same result (symmetric: tests both oracle AND greedy)
            testDeterminism: function(seeds) {
                const failures = [];

                for (const seed of seeds) {
                    // Test oracle determinism
                    const oRun1 = runBotGame('oracle', 500, 5, seed);
                    const oRun2 = runBotGame('oracle', 500, 5, seed);
                    if (oRun1.won !== oRun2.won || oRun1.moves !== oRun2.moves ||
                        oRun1.level !== oRun2.level || oRun1.reason !== oRun2.reason) {
                        failures.push({ seed, bot: 'oracle', run1: oRun1, run2: oRun2 });
                    }

                    // Test greedy determinism
                    const gRun1 = runBotGame('greedy', 500, 5, seed);
                    const gRun2 = runBotGame('greedy', 500, 5, seed);
                    if (gRun1.won !== gRun2.won || gRun1.moves !== gRun2.moves ||
                        gRun1.level !== gRun2.level || gRun1.reason !== gRun2.reason) {
                        failures.push({ seed, bot: 'greedy', run1: gRun1, run2: gRun2 });
                    }
                }

                return { passed: failures.length === 0, failures };
            },

            // Test 3: Regression - known seeds should pass
            testRegression: function() {
                const knownSeeds = [
                    { seed: 3002, expectOracleWin: true },
                    { seed: 3008, expectOracleWin: true },
                    { seed: 1000, expectOracleWin: true },
                    { seed: 1005, expectOracleWin: true }
                ];

                const failures = [];
                const results = [];
                for (const { seed, expectOracleWin } of knownSeeds) {
                    const result = runBotGame('oracle', 500, 5, seed);
                    results.push({ seed, expected: expectOracleWin, actual: result.won, moves: result.moves });
                    if (result.won !== expectOracleWin) {
                        failures.push({ seed, expected: expectOracleWin, actual: result.won, result });
                    }
                }

                return { passed: failures.length === 0, failures, results };
            },

            // Test 4: Performance baseline
            testPerformance: function(seeds) {
                const results = [];

                for (const seed of seeds) {
                    const t1 = Date.now();
                    const oResult = runBotGame('oracle', 500, 5, seed);
                    const oTime = Date.now() - t1;

                    const t2 = Date.now();
                    const gResult = runBotGame('greedy', 500, 5, seed);
                    const gTime = Date.now() - t2;

                    results.push({
                        seed,
                        oracleTime: oTime,
                        greedyTime: gTime,
                        oracleMoves: oResult.moves,
                        greedyMoves: gResult.moves,
                        oraclePerMove: Math.round(oTime / oResult.moves),
                        ratio: Math.round(oTime / gTime)
                    });
                }

                const avgOracleTime = results.reduce((s, r) => s + r.oracleTime, 0) / results.length;
                const avgGreedyTime = results.reduce((s, r) => s + r.greedyTime, 0) / results.length;
                const avgRatio = Math.round(avgOracleTime / avgGreedyTime);

                return { avgOracleTime: Math.round(avgOracleTime), avgGreedyTime: Math.round(avgGreedyTime), avgRatio, results };
            },

            // Test 5: Extended deep clone correctness (Invariant G)
            testDeepClone: function() {
                generateMap(1000);
                // Add some test data to composite structures
                gameState.crystals.push({ x: 5, y: 5, collected: false });
                gameState.frozenTiles.push({ x: 10, y: 10, turnsRemaining: 3 });
                gameState.graceTiles.push({ x: 15, y: 15, turnsRemaining: 2 });
                gameState.enteredRooms.add(99);
                gameState.restedTiles.add('77,77');

                const state = cloneStateForSimulation();
                const clone = deepCloneSimState(state);

                const issues = [];

                // Modify clone - basic fields
                clone.player.x = 999;
                clone.decay[0][0] = 999;
                clone.map[0][0] = 999;

                // Modify clone - crystals array element
                const lastCrystal = clone.crystals[clone.crystals.length - 1];
                if (lastCrystal) lastCrystal.collected = true;

                // Modify clone - frozenTiles array element
                const lastFrozen = clone.frozenTiles[clone.frozenTiles.length - 1];
                if (lastFrozen) lastFrozen.turnsRemaining = 999;

                // Modify clone - graceTiles array element
                const lastGrace = clone.graceTiles[clone.graceTiles.length - 1];
                if (lastGrace) lastGrace.turnsRemaining = 999;

                // Modify clone - Sets
                clone.enteredRooms.add(1000);
                clone.restedTiles.add('1000,1000');

                // Verify original unchanged
                if (state.player.x === 999) issues.push('player aliased');
                if (state.decay[0][0] === 999) issues.push('decay aliased');
                if (state.map[0][0] === 999) issues.push('map aliased');

                const origLastCrystal = state.crystals[state.crystals.length - 1];
                if (origLastCrystal && origLastCrystal.collected === true) issues.push('crystals[] element aliased');

                const origLastFrozen = state.frozenTiles[state.frozenTiles.length - 1];
                if (origLastFrozen && origLastFrozen.turnsRemaining === 999) issues.push('frozenTiles[] element aliased');

                const origLastGrace = state.graceTiles[state.graceTiles.length - 1];
                if (origLastGrace && origLastGrace.turnsRemaining === 999) issues.push('graceTiles[] element aliased');

                if (state.enteredRooms.has(1000)) issues.push('enteredRooms Set aliased');
                if (state.restedTiles.has('1000,1000')) issues.push('restedTiles Set aliased');

                // Clean up test data
                gameState.crystals.pop();
                gameState.frozenTiles.pop();
                gameState.graceTiles.pop();
                gameState.enteredRooms.delete(99);
                gameState.restedTiles.delete('77,77');

                return { passed: issues.length === 0, issues };
            },

            // Test 6: Anti-oscillation
            testAntiOscillation: function() {
                generateMap(1000);
                oracleLastPos = null;
                clearOraclePlan();

                const positions = [];
                for (let i = 0; i < 20; i++) {
                    positions.push({ x: gameState.player.x, y: gameState.player.y });
                    const move = oracleBotMove();
                    if (!move || move.action !== 'move') break;
                    executeBotMove(move);
                }

                // Count backtracks (returning to position 2 steps ago)
                let backtracks = 0;
                for (let i = 2; i < positions.length; i++) {
                    if (positions[i].x === positions[i-2].x && positions[i].y === positions[i-2].y) {
                        backtracks++;
                    }
                }

                return { passed: backtracks <= 2, backtracks, positionCount: positions.length };
            },

            // Test 7: Oracle win set regression (no losing seeds we currently win)
            testOracleRegression: function(seedStart, seedCount) {
                if (!this.baselineWinSet) {
                    return { passed: false, error: 'No baseline established. Run establishBaseline() first.' };
                }

                const regressions = [];
                const improvements = [];
                let currentWins = 0;

                for (let seed = seedStart; seed < seedStart + seedCount; seed++) {
                    const result = runBotGame('oracle', 500, 5, seed);
                    const baselineWon = this.baselineWinSet.has(seed);

                    if (result.won) currentWins++;

                    if (baselineWon && !result.won) {
                        regressions.push({ seed, baseline: 'won', current: 'lost', result });
                    } else if (!baselineWon && result.won) {
                        improvements.push({ seed, baseline: 'lost', current: 'won' });
                    }
                }

                return {
                    passed: regressions.length === 0,
                    regressions,
                    improvements,
                    baselineWins: this.baselineWinSet.size,
                    currentWins,
                    seedRange: { start: seedStart, count: seedCount }
                };
            },

            // Establish baseline win set for regression testing
            establishBaseline: function(seedStart, seedCount) {
                console.log(`Establishing baseline for seeds ${seedStart}-${seedStart + seedCount - 1}...`);
                const winSet = new Set();
                const results = [];

                for (let seed = seedStart; seed < seedStart + seedCount; seed++) {
                    const result = runBotGame('oracle', 500, 5, seed);
                    if (result.won) winSet.add(seed);
                    results.push({ seed, won: result.won, moves: result.moves });
                    if ((seed - seedStart + 1) % 10 === 0) {
                        console.log(`  Progress: ${seed - seedStart + 1}/${seedCount}`);
                    }
                }

                this.baselineWinSet = winSet;
                console.log(`Baseline established: ${winSet.size}/${seedCount} wins (${(100 * winSet.size / seedCount).toFixed(1)}%)`);

                return {
                    winSet: Array.from(winSet),
                    winRate: winSet.size / seedCount,
                    results
                };
            },

            // Export baseline as JSON for persistence
            exportBaseline: function() {
                if (!this.baselineWinSet) return null;
                return JSON.stringify(Array.from(this.baselineWinSet));
            },

            // Import baseline from JSON
            importBaseline: function(json) {
                const arr = JSON.parse(json);
                this.baselineWinSet = new Set(arr);
                return { imported: arr.length };
            },

            // Test 8: Hash Sanity - verify hash is deterministic and sensitive
            // NOTE: This is NOT sim‚Üîreal alignment (that would require shadow-step diff)
            testHashSanity: function(seed, maxTurns = 10) {
                generateMap(seed);
                const issues = [];

                // Test 1: Hash is deterministic
                const state1 = cloneStateForSimulation();
                const hash1a = this.hashState(state1);
                const hash1b = this.hashState(state1);
                if (hash1a !== hash1b) {
                    issues.push('Hash not deterministic: same state gave different hashes');
                }

                // Test 2: Hash changes when state changes
                const state2 = cloneStateForSimulation();
                state2.player.x += 1;
                const hash2 = this.hashState(state2);
                if (hash1a === hash2) {
                    issues.push('Hash not sensitive: different player position gave same hash');
                }

                // Test 3: Hash changes when charges change
                const state3 = cloneStateForSimulation();
                state3.stabilizerCharges += 1;
                const hash3 = this.hashState(state3);
                if (hash1a === hash3) {
                    issues.push('Hash not sensitive: different charges gave same hash');
                }

                // Test 4: Run a few turns and verify game progresses
                let turnsRun = 0;
                for (let i = 0; i < maxTurns; i++) {
                    const move = greedyBotMove();
                    if (!move) break;
                    executeBotMove(move);
                    turnsRun++;
                    if (gameState.map[gameState.player.y][gameState.player.x] === TILE.STAIRS_DOWN) break;
                    if (gameState.map[gameState.player.y][gameState.player.x] === TILE.VOID) break;
                }

                return { passed: issues.length === 0, issues, turnsChecked: turnsRun };
            },

            // Test 9: Invariant F - Action-level dominance (simplified)
            // Verify oracle doesn't make obviously bad moves compared to greedy
            testActionDominance: function(seed, maxTurns = 10) {
                generateMap(seed);
                oracleLastPos = null;
                clearOraclePlan();
                const dominated = [];
                let turnsChecked = 0;

                for (let turn = 0; turn < maxTurns; turn++) {
                    // Get oracle's choice
                    const oracleMove = oracleBotMove();
                    if (!oracleMove) break;

                    // Execute and continue
                    executeBotMove(oracleMove);
                    turnsChecked++;

                    // Check if game ended
                    const tile = gameState.map[gameState.player.y][gameState.player.x];
                    if (tile === TILE.STAIRS_DOWN) break;
                    if (tile === TILE.VOID) { // VOID is -1, not 0 (WALL is 0)
                        dominated.push({ turn, reason: 'oracle died' });
                        break;
                    }
                }

                // Pass if oracle didn't die (basic dominance check)
                return { passed: dominated.length === 0, dominated, turnsChecked };
            },

            // Test 10: Stabilizer BFS blocking - walls/void/pillars should block spread
            testStabilizerBFS: function() {
                generateMap(1000);
                // Find a pillar and test that stabilizer respects blocking
                const pillar = gameState.pillars[0];
                if (!pillar) return { passed: true, skipped: 'no pillars in test map' };

                // Place player near pillar
                gameState.player.x = pillar.x;
                gameState.player.y = pillar.y + 1;
                gameState.stabilizerCharges = 1;
                gameState.stabilizerCooldown = 0;

                // Record decay values around pillar before stabilize
                const decayBefore = {};
                for (let dy = -3; dy <= 3; dy++) {
                    for (let dx = -3; dx <= 3; dx++) {
                        const x = pillar.x + dx, y = pillar.y + dy;
                        if (inBounds(x, y)) {
                            decayBefore[`${x},${y}`] = gameState.decay[y][x];
                        }
                    }
                }

                // Use stabilizer
                useStabilizer();

                // Check that walls and pillars blocked spread appropriately
                const issues = [];
                // The pillar tile itself should not be frozen (pillars are impassable)
                const pillarFrozen = gameState.frozenTiles.some(f => f.x === pillar.x && f.y === pillar.y);
                if (pillarFrozen) {
                    issues.push('pillar tile was frozen (should be blocked)');
                }

                // Check that void tiles weren't frozen
                for (const f of gameState.frozenTiles) {
                    if (gameState.map[f.y][f.x] === TILE.VOID) {
                        issues.push(`void tile at ${f.x},${f.y} was frozen`);
                    }
                    if (gameState.map[f.y][f.x] === TILE.WALL) {
                        issues.push(`wall tile at ${f.x},${f.y} was frozen`);
                    }
                }

                return { passed: issues.length === 0, issues };
            },

            // Test 11: Room entry grace - entering room grants grace period
            testRoomGrace: function() {
                // Need level 3+ for room awakening
                generateMap(1000);
                gameState.level = 3;
                gameState.enteredRooms.clear();

                // Find a room we haven't entered
                const room = gameState.rooms[0];
                if (!room) return { passed: true, skipped: 'no rooms in test map' };

                // Move player to room center
                const cx = Math.floor(room.x + room.w / 2);
                const cy = Math.floor(room.y + room.h / 2);
                gameState.player.x = cx;
                gameState.player.y = cy;

                // Trigger awakening
                awakenNearbyTiles();

                // Check that room was marked as entered
                const roomEntered = gameState.enteredRooms.size > 0;

                // Check that grace tiles were created
                const hasGrace = gameState.graceTiles.length > 0;

                // Grace tiles should be within the room
                const graceInRoom = gameState.graceTiles.every(g =>
                    g.x >= room.x && g.x < room.x + room.w &&
                    g.y >= room.y && g.y < room.y + room.h
                );

                const issues = [];
                if (!roomEntered) issues.push('room not marked as entered');
                if (!hasGrace) issues.push('no grace tiles created');
                if (!graceInRoom) issues.push('grace tiles outside room bounds');

                return { passed: issues.length === 0, issues, graceTileCount: gameState.graceTiles.length };
            },

            // Test 12: Decay and collapse mechanics
            testChainCollapse: function() {
                const issues = [];

                // TEST 1: Basic collapse - tile with decay=1 collapses
                generateMap(1000);
                gameState.level = 3; // Full decay rate

                // Find a floor tile not adjacent to pillars with a walkable neighbor
                let testX = -1, testY = -1, neighborX = -1, neighborY = -1;
                for (let y = 5; y < CONFIG.mapHeight - 5; y++) {
                    for (let x = 5; x < CONFIG.mapWidth - 5; x++) {
                        if (gameState.map[y][x] === TILE.FLOOR) {
                            // Check not adjacent to any pillar
                            const nearPillar = gameState.pillars.some(p =>
                                Math.abs(p.x - x) <= 1 && Math.abs(p.y - y) <= 1
                            );
                            if (!nearPillar) {
                                // Find a walkable neighbor
                                const dirs = [{ dx: 1, dy: 0 }, { dx: -1, dy: 0 }, { dx: 0, dy: 1 }, { dx: 0, dy: -1 }];
                                for (const { dx, dy } of dirs) {
                                    const nx = x + dx, ny = y + dy;
                                    if (inBounds(nx, ny) && gameState.map[ny][nx] === TILE.FLOOR) {
                                        const neighborNearPillar = gameState.pillars.some(p =>
                                            Math.abs(p.x - nx) <= 1 && Math.abs(p.y - ny) <= 1
                                        );
                                        if (!neighborNearPillar) {
                                            testX = x; testY = y;
                                            neighborX = nx; neighborY = ny;
                                            break;
                                        }
                                    }
                                }
                                if (testX >= 0) break;
                            }
                        }
                    }
                    if (testX >= 0) break;
                }

                if (testX < 0) return { passed: true, skipped: 'no suitable tile pair found' };

                // TEST 2: Shock applies correctly - neighbor decay reduced by chainCollapseAmount
                const levelConfig = getLevelConfig(gameState.level);
                const chainDamage = levelConfig.chainCollapseAmount; // Should be 2 at level 3

                // Set up: center tile will collapse, neighbor has high decay
                gameState.awakened[testY][testX] = true;
                gameState.decay[testY][testX] = 1;
                gameState.awakened[neighborY][neighborX] = true;
                gameState.decay[neighborY][neighborX] = 10; // High enough to survive shock
                const neighborDecayBefore = gameState.decay[neighborY][neighborX];

                // Process decay - center collapses, should shock neighbor
                processTurnDecay();

                // Verify center collapsed
                if (gameState.map[testY][testX] !== TILE.VOID) {
                    issues.push(`center tile did not collapse`);
                }

                // Verify neighbor got shock damage (decay reduced by chainCollapseAmount)
                // Note: neighbor also loses 1 from normal decay, so total reduction is chainDamage + 1
                const neighborDecayAfter = gameState.decay[neighborY][neighborX];
                const expectedAfter = neighborDecayBefore - chainDamage - 1; // shock + normal decay
                if (neighborDecayAfter !== expectedAfter) {
                    issues.push(`shock damage incorrect: expected ${expectedAfter}, got ${neighborDecayAfter} (before=${neighborDecayBefore}, chainDamage=${chainDamage})`);
                }

                // TEST 3: Propagation cascades - neighbor at threshold also collapses
                generateMap(1001);
                gameState.level = 3;

                // Find another test pair
                testX = -1; testY = -1; neighborX = -1; neighborY = -1;
                for (let y = 5; y < CONFIG.mapHeight - 5; y++) {
                    for (let x = 5; x < CONFIG.mapWidth - 5; x++) {
                        if (gameState.map[y][x] === TILE.FLOOR) {
                            const nearPillar = gameState.pillars.some(p =>
                                Math.abs(p.x - x) <= 1 && Math.abs(p.y - y) <= 1
                            );
                            if (!nearPillar) {
                                const dirs = [{ dx: 1, dy: 0 }, { dx: -1, dy: 0 }, { dx: 0, dy: 1 }, { dx: 0, dy: -1 }];
                                for (const { dx, dy } of dirs) {
                                    const nx = x + dx, ny = y + dy;
                                    if (inBounds(nx, ny) && gameState.map[ny][nx] === TILE.FLOOR) {
                                        const neighborNearPillar = gameState.pillars.some(p =>
                                            Math.abs(p.x - nx) <= 1 && Math.abs(p.y - ny) <= 1
                                        );
                                        if (!neighborNearPillar) {
                                            testX = x; testY = y;
                                            neighborX = nx; neighborY = ny;
                                            break;
                                        }
                                    }
                                }
                                if (testX >= 0) break;
                            }
                        }
                    }
                    if (testX >= 0) break;
                }

                if (testX >= 0) {
                    const levelConfig2 = getLevelConfig(gameState.level);
                    const chainDamage2 = levelConfig2.chainCollapseAmount;

                    // Set center to collapse, neighbor to exactly collapse threshold after shock
                    // Neighbor needs: decay - chainDamage - 1 (normal decay) <= 0
                    // So if chainDamage=2: decay <= 3 will collapse after shock
                    gameState.awakened[testY][testX] = true;
                    gameState.decay[testY][testX] = 1;
                    gameState.awakened[neighborY][neighborX] = true;
                    gameState.decay[neighborY][neighborX] = chainDamage2; // Will become 0 or negative after shock + decay

                    processTurnDecay();

                    // Both should have collapsed
                    if (gameState.map[testY][testX] !== TILE.VOID) {
                        issues.push(`cascade: center did not collapse`);
                    }
                    if (gameState.map[neighborY][neighborX] !== TILE.VOID) {
                        issues.push(`cascade: neighbor should have collapsed from chain reaction (decay was ${chainDamage2}, shock=${chainDamage2})`);
                    }
                }

                return { passed: issues.length === 0, issues };
            },

            // Test 13: Crystal destroyed vs collected
            testCrystalStates: function() {
                generateMap(1000);

                // Find a crystal
                const crystal = gameState.crystals.find(c => !c.collected);
                if (!crystal) return { passed: true, skipped: 'no uncollected crystals' };

                const originalCharges = gameState.stabilizerCharges;

                // Simulate collection (what movePlayer does)
                crystal.collected = true;
                gameState.crystalsCollected++;
                gameState.stabilizerCharges++;

                // Verify crystal is marked collected
                const crystalCollected = crystal.collected === true;
                const chargesIncreased = gameState.stabilizerCharges > originalCharges;

                // Now test destruction: find another crystal and collapse its tile
                const crystal2 = gameState.crystals.find(c => !c.collected && c !== crystal);
                let destroyedNotCollectable = true;
                if (crystal2) {
                    // Collapse the tile under the crystal
                    gameState.map[crystal2.y][crystal2.x] = TILE.VOID;

                    // Try to collect - should fail because tile is void
                    // In practice, player can't even move to void tiles
                    // The crystal should be implicitly destroyed (on void = not collectible)
                    destroyedNotCollectable = gameState.map[crystal2.y][crystal2.x] === TILE.VOID;
                }

                const issues = [];
                if (!crystalCollected) issues.push('crystal not marked as collected');
                if (!chargesIncreased) issues.push('charges did not increase on collection');
                if (!destroyedNotCollectable) issues.push('crystal on void tile still collectible');

                return { passed: issues.length === 0, issues };
            },

            // Test 14: Rewind boundaries
            testRewindBoundaries: function() {
                generateMap(1000);
                gameState.level = 2;

                // Save state at start
                saveStateToHistory();
                const historyLength = gameState.stateHistory.length;

                // Record original position
                const origX = gameState.player.x;
                const origY = gameState.player.y;

                // Make some moves
                const validMoves = getValidMoves();
                if (validMoves.length > 0) {
                    const move = validMoves[0];
                    gameState.player.x = move.x;
                    gameState.player.y = move.y;
                    gameState.moves++;
                    gameState.levelMoves++;
                }

                // Rewind
                rewindState(1);

                // Check state was restored (player back at original position)
                const positionRestored = gameState.player.x === origX && gameState.player.y === origY;

                // Test max rewinds boundary (the harness caps at 50)
                // We won't actually do 50 rewinds, just verify the structure exists
                const hasRewindTracking = typeof gameState.didRewindThisTurn !== 'undefined';

                const issues = [];
                if (!hasRewindTracking) issues.push('rewind tracking flag missing');
                if (!positionRestored && historyLength > 0) issues.push('position not restored after rewind');

                return { passed: issues.length === 0, issues };
            },

            // Test 15: Safe bubble - frozen tiles don't take shock damage
            testSafeBubbleNoShockDamage: function() {
                generateMap(1000);
                gameState.level = 3; // Full decay rate

                // Find a floor tile with a walkable neighbor, not near pillars
                let centerX = -1, centerY = -1, frozenX = -1, frozenY = -1;
                for (let y = 5; y < CONFIG.mapHeight - 5; y++) {
                    for (let x = 5; x < CONFIG.mapWidth - 5; x++) {
                        if (gameState.map[y][x] === TILE.FLOOR) {
                            const nearPillar = gameState.pillars.some(p =>
                                Math.abs(p.x - x) <= 1 && Math.abs(p.y - y) <= 1
                            );
                            if (!nearPillar) {
                                const dirs = [{ dx: 1, dy: 0 }, { dx: -1, dy: 0 }, { dx: 0, dy: 1 }, { dx: 0, dy: -1 }];
                                for (const { dx, dy } of dirs) {
                                    const nx = x + dx, ny = y + dy;
                                    if (inBounds(nx, ny) && gameState.map[ny][nx] === TILE.FLOOR) {
                                        const neighborNearPillar = gameState.pillars.some(p =>
                                            Math.abs(p.x - nx) <= 1 && Math.abs(p.y - ny) <= 1
                                        );
                                        if (!neighborNearPillar) {
                                            centerX = x; centerY = y;
                                            frozenX = nx; frozenY = ny;
                                            break;
                                        }
                                    }
                                }
                                if (centerX >= 0) break;
                            }
                        }
                    }
                    if (centerX >= 0) break;
                }

                if (centerX < 0) return { passed: true, skipped: 'no suitable tile pair found' };

                const issues = [];

                // Set up: center tile will collapse, frozen neighbor has high decay
                gameState.awakened[centerY][centerX] = true;
                gameState.decay[centerY][centerX] = 1; // Will collapse

                gameState.awakened[frozenY][frozenX] = true;
                gameState.decay[frozenY][frozenX] = 10; // High enough to survive if not frozen
                const frozenDecayBefore = gameState.decay[frozenY][frozenX];

                // FREEZE the neighbor tile
                gameState.frozenTiles.push({ x: frozenX, y: frozenY, turnsRemaining: 5 });

                // Process decay - center collapses, should NOT damage frozen neighbor
                processTurnDecay();

                // Verify center collapsed
                if (gameState.map[centerY][centerX] !== TILE.VOID) {
                    issues.push('center tile did not collapse');
                }

                // Verify frozen neighbor did NOT lose shock damage
                // Frozen tiles skip ALL decay (both normal and shock), so decay should be unchanged
                const frozenDecayAfter = gameState.decay[frozenY][frozenX];
                const expectedAfter = frozenDecayBefore; // Frozen = no decay at all
                if (frozenDecayAfter !== expectedAfter) {
                    issues.push(`frozen tile decay changed: expected ${expectedAfter}, got ${frozenDecayAfter}`);
                }

                return { passed: issues.length === 0, issues };
            },

            // Test 16: Safe bubble - frozen tiles STILL get awakened by shock
            testSafeBubbleStillAwakens: function() {
                generateMap(1001);
                gameState.level = 3;

                // Find a tile pair where the neighbor is NOT awakened
                let centerX = -1, centerY = -1, dormantX = -1, dormantY = -1;
                for (let y = 5; y < CONFIG.mapHeight - 5; y++) {
                    for (let x = 5; x < CONFIG.mapWidth - 5; x++) {
                        if (gameState.map[y][x] === TILE.FLOOR) {
                            const nearPillar = gameState.pillars.some(p =>
                                Math.abs(p.x - x) <= 1 && Math.abs(p.y - y) <= 1
                            );
                            if (!nearPillar) {
                                const dirs = [{ dx: 1, dy: 0 }, { dx: -1, dy: 0 }, { dx: 0, dy: 1 }, { dx: 0, dy: -1 }];
                                for (const { dx, dy } of dirs) {
                                    const nx = x + dx, ny = y + dy;
                                    if (inBounds(nx, ny) && gameState.map[ny][nx] === TILE.FLOOR) {
                                        const neighborNearPillar = gameState.pillars.some(p =>
                                            Math.abs(p.x - nx) <= 1 && Math.abs(p.y - ny) <= 1
                                        );
                                        if (!neighborNearPillar) {
                                            centerX = x; centerY = y;
                                            dormantX = nx; dormantY = ny;
                                            break;
                                        }
                                    }
                                }
                                if (centerX >= 0) break;
                            }
                        }
                    }
                    if (centerX >= 0) break;
                }

                if (centerX < 0) return { passed: true, skipped: 'no suitable tile pair found' };

                const issues = [];

                // Set up: center tile awakened and will collapse
                gameState.awakened[centerY][centerX] = true;
                gameState.decay[centerY][centerX] = 1;

                // Neighbor is DORMANT (not awakened) and FROZEN
                gameState.awakened[dormantY][dormantX] = false; // Explicitly dormant
                gameState.decay[dormantY][dormantX] = 10;

                // FREEZE the dormant neighbor
                gameState.frozenTiles.push({ x: dormantX, y: dormantY, turnsRemaining: 5 });

                // Process decay - center collapses
                processTurnDecay();

                // Verify dormant frozen neighbor GOT AWAKENED by shock
                // (This is the key behavioral change - shock propagates awakening even to frozen tiles)
                if (!gameState.awakened[dormantY][dormantX]) {
                    issues.push('frozen dormant tile was NOT awakened by shock (should be awakened)');
                }

                return { passed: issues.length === 0, issues };
            },

            // Test 17: Pillar push mechanic
            testPillarPush: function() {
                generateMap(1002);
                gameState.level = 3;

                const pillar = gameState.pillars[0];
                if (!pillar) return { passed: true, skipped: 'no pillars in map' };

                const issues = [];
                const origX = pillar.x, origY = pillar.y;

                // Find a cardinal direction where we can push (need floor behind pillar AND floor to stand on)
                const dirs = [{ dx: 1, dy: 0 }, { dx: -1, dy: 0 }, { dx: 0, dy: 1 }, { dx: 0, dy: -1 }];
                let pushDir = null;
                for (const d of dirs) {
                    const behindX = origX + d.dx, behindY = origY + d.dy;
                    const standX = origX - d.dx, standY = origY - d.dy;
                    if (!inBounds(behindX, behindY) || !inBounds(standX, standY)) continue;
                    if (gameState.map[behindY][behindX] !== TILE.FLOOR) continue;
                    if (isPillarAt(behindX, behindY)) continue;
                    if (gameState.map[standY][standX] !== TILE.FLOOR) continue;
                    if (isPillarAt(standX, standY)) continue;
                    pushDir = d;
                    break;
                }

                if (!pushDir) return { passed: true, skipped: 'no pushable direction found' };

                // Position player adjacent to pillar (opposite of push direction)
                gameState.player.x = origX - pushDir.dx;
                gameState.player.y = origY - pushDir.dy;

                // Try to push
                const result = tryMove(pushDir.dx, pushDir.dy);
                if (!result) issues.push('tryMove returned false for valid push');

                // Verify pillar moved
                if (pillar.x !== origX + pushDir.dx || pillar.y !== origY + pushDir.dy) {
                    issues.push(`pillar didn't move: expected (${origX + pushDir.dx},${origY + pushDir.dy}), got (${pillar.x},${pillar.y})`);
                }

                // Verify player is now at pillar's old position
                if (gameState.player.x !== origX || gameState.player.y !== origY) {
                    issues.push(`player not at pillar's old position: expected (${origX},${origY}), got (${gameState.player.x},${gameState.player.y})`);
                }

                return { passed: issues.length === 0, issues };
            },

            // Test 18: Sim pillar push matches real
            testSimPillarPush: function() {
                generateMap(1002);
                gameState.level = 3;

                const pillar = gameState.pillars[0];
                if (!pillar) return { passed: true, skipped: 'no pillars in map' };

                const issues = [];
                const origX = pillar.x, origY = pillar.y;

                // Find pushable direction
                const dirs = [{ dx: 1, dy: 0 }, { dx: -1, dy: 0 }, { dx: 0, dy: 1 }, { dx: 0, dy: -1 }];
                let pushDir = null;
                for (const d of dirs) {
                    const behindX = origX + d.dx, behindY = origY + d.dy;
                    const standX = origX - d.dx, standY = origY - d.dy;
                    if (!inBounds(behindX, behindY) || !inBounds(standX, standY)) continue;
                    if (gameState.map[behindY][behindX] !== TILE.FLOOR) continue;
                    if (isPillarAt(behindX, behindY)) continue;
                    if (gameState.map[standY][standX] !== TILE.FLOOR) continue;
                    if (isPillarAt(standX, standY)) continue;
                    pushDir = d;
                    break;
                }

                if (!pushDir) return { passed: true, skipped: 'no pushable direction found' };

                // Clone for sim
                gameState.player.x = origX - pushDir.dx;
                gameState.player.y = origY - pushDir.dy;
                const sim = cloneStateForSimulation();

                // Push in sim
                const simResult = simMove(sim, pushDir.dx, pushDir.dy);
                if (!simResult) issues.push('simMove returned false for valid push');

                const simPillar = sim.pillars[0];
                if (simPillar.x !== origX + pushDir.dx || simPillar.y !== origY + pushDir.dy) {
                    issues.push(`sim pillar didn't move correctly`);
                }

                // Verify sim player at old pillar position
                if (sim.player.x !== origX || sim.player.y !== origY) {
                    issues.push(`sim player not at pillar's old position`);
                }

                return { passed: issues.length === 0, issues };
            },

            // Mechanic-Exerciser Driver: Phase-based driver that forces all game mechanics
            // Used to test sim‚Üîreal alignment on mechanics greedy might skip
            mechanicExerciserMove: function() {
                const px = gameState.player.x;
                const py = gameState.player.y;

                // If on stairs, descend
                if (gameState.map[py][px] === TILE.STAIRS_DOWN) {
                    return { action: 'descend' };
                }

                // Safety: Use stabilizer when on critically low decay (‚â§2)
                const playerDecay = gameState.decay[py]?.[px] || 0;
                if (playerDecay > 0 && playerDecay <= 2 && gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown === 0) {
                    return { action: 'stabilize' };
                }

                // Helper: Check if next step is safe (decay > 1)
                const isSafeStep = (path) => {
                    if (!path || path.length === 0) return false;
                    const next = path[0];
                    const nextDecay = gameState.decay[next.y]?.[next.x] || 0;
                    return nextDecay === 0 || nextDecay > 1; // 0 means undecayed, >1 means safe
                };

                // Phase 1: Hunt pillars - move adjacent and try to push
                for (let i = 0; i < gameState.pillars.length; i++) {
                    const p = gameState.pillars[i];

                    // Check if already adjacent to this pillar
                    const isAdjacent = Math.abs(p.x - px) <= 1 && Math.abs(p.y - py) <= 1 && !(p.x === px && p.y === py);
                    if (isAdjacent) continue; // Bonus triggers on move, so keep moving

                    // Find a walkable tile adjacent to the pillar
                    for (const dir of [[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]]) {
                        const adjX = p.x + dir[0];
                        const adjY = p.y + dir[1];
                        if (!inBounds(adjX, adjY)) continue;
                        if (gameState.map[adjY][adjX] !== TILE.FLOOR && gameState.map[adjY][adjX] !== TILE.STAIRS_DOWN) continue;
                        if (isPillarAt(adjX, adjY)) continue;

                        // Path to this adjacent tile
                        const path = findPathOmniscient(px, py, adjX, adjY);
                        if (path && path.length > 0 && isSafeStep(path)) {
                            const next = path[0];
                            return { action: 'move', dx: next.x - px, dy: next.y - py };
                        }
                    }
                }

                // Phase 2: Enter rooms - move to center of each unentered room
                for (let i = 0; i < gameState.rooms.length; i++) {
                    if (gameState.enteredRooms.has(i)) continue;
                    const room = gameState.rooms[i];
                    const centerX = Math.floor(room.x + room.w / 2);
                    const centerY = Math.floor(room.y + room.h / 2);

                    // Path to room center
                    const path = findPathOmniscient(px, py, centerX, centerY);
                    if (path && path.length > 0 && isSafeStep(path)) {
                        const next = path[0];
                        return { action: 'move', dx: next.x - px, dy: next.y - py };
                    }
                }

                // Phase 3: Collect crystals
                for (const crystal of gameState.crystals) {
                    if (crystal.collected || crystal.destroyed) continue;
                    const path = findPathOmniscient(px, py, crystal.x, crystal.y);
                    if (path && path.length > 0 && isSafeStep(path)) {
                        const next = path[0];
                        return { action: 'move', dx: next.x - px, dy: next.y - py };
                    }
                }

                // Phase 4: Default - path to stairs (always take if safe)
                const stairsPath = findPathOmniscient(px, py, gameState.stairsX, gameState.stairsY);
                if (stairsPath && stairsPath.length > 0 && isSafeStep(stairsPath)) {
                    const next = stairsPath[0];
                    return { action: 'move', dx: next.x - px, dy: next.y - py };
                }

                // Phase 5: Emergency stabilizer if we have charges but didn't use them
                if (playerDecay > 0 && playerDecay <= 4 && gameState.stabilizerCharges > 0 && gameState.stabilizerCooldown === 0) {
                    return { action: 'stabilize' };
                }

                // Phase 6: Fallback - take any move toward stairs even if risky
                if (stairsPath && stairsPath.length > 0) {
                    const next = stairsPath[0];
                    return { action: 'move', dx: next.x - px, dy: next.y - py };
                }

                // No valid action
                return null;
            },

            // Test: Shadow-step - verify sim matches real game after each action
            testShadowStep: function(seed = 1006, maxSteps = 50, driverType = 'greedy') {
                const issues = [];

                // Generate map with fixed seed
                generateMap(seed);
                gameState.level = 3; // Use level 3 for meaningful decay

                // Clone for simulation
                const simState = cloneStateForSimulation();

                // Helper to extract physics-relevant state for comparison
                const extractPhysicsState = (state) => {
                    return {
                        playerX: state.player.x,
                        playerY: state.player.y,
                        moves: state.moves,
                        charges: state.stabilizerCharges,
                        cooldown: state.stabilizerCooldown,
                        crystalsCollected: state.crystalsCollected,
                        crystals: state.crystals.map(c => ({
                            x: c.x, y: c.y, collected: c.collected, destroyed: c.destroyed
                        })),
                        frozenCount: state.frozenTiles.length,
                        frozenTiles: state.frozenTiles.map(f => `${f.x},${f.y},${f.turnsRemaining}`).sort(),
                        enteredRooms: Array.from(state.enteredRooms || []).sort(),
                        pillarPositions: (state.pillars || []).map(p => `${p.x},${p.y}`).sort()
                    };
                };

                // Compare two physics states
                const compareStates = (realS, simS, step) => {
                    const diffs = [];
                    if (realS.playerX !== simS.playerX || realS.playerY !== simS.playerY) {
                        diffs.push(`player pos: real(${realS.playerX},${realS.playerY}) vs sim(${simS.playerX},${simS.playerY})`);
                    }
                    if (realS.moves !== simS.moves) {
                        diffs.push(`moves: real(${realS.moves}) vs sim(${simS.moves})`);
                    }
                    if (realS.charges !== simS.charges) {
                        diffs.push(`charges: real(${realS.charges}) vs sim(${simS.charges})`);
                    }
                    if (realS.cooldown !== simS.cooldown) {
                        diffs.push(`cooldown: real(${realS.cooldown}) vs sim(${simS.cooldown})`);
                    }
                    if (realS.crystalsCollected !== simS.crystalsCollected) {
                        diffs.push(`crystals: real(${realS.crystalsCollected}) vs sim(${simS.crystalsCollected})`);
                    }
                    // Compare per-crystal states (not just aggregate count)
                    const realCr = realS.crystals.map(c => `${c.x},${c.y},${c.collected?1:0},${c.destroyed?1:0}`).sort().join(';');
                    const simCr = simS.crystals.map(c => `${c.x},${c.y},${c.collected?1:0},${c.destroyed?1:0}`).sort().join(';');
                    if (realCr !== simCr) {
                        diffs.push('per-crystal state mismatch');
                    }
                    if (realS.frozenCount !== simS.frozenCount) {
                        diffs.push(`frozen count: real(${realS.frozenCount}) vs sim(${simS.frozenCount})`);
                    }
                    // Compare frozen tiles content
                    const realFrozen = realS.frozenTiles.join(';');
                    const simFrozen = simS.frozenTiles.join(';');
                    if (realFrozen !== simFrozen) {
                        diffs.push(`frozen tiles differ`);
                    }
                    // Compare entered rooms
                    const realRooms = realS.enteredRooms.join(',');
                    const simRooms = simS.enteredRooms.join(',');
                    if (realRooms !== simRooms) {
                        diffs.push(`entered rooms: real(${realRooms}) vs sim(${simRooms})`);
                    }
                    // Compare pillar positions
                    const realPillars = realS.pillarPositions.join(',');
                    const simPillars = simS.pillarPositions.join(',');
                    if (realPillars !== simPillars) {
                        diffs.push(`pillar positions: real(${realPillars}) vs sim(${simPillars})`);
                    }
                    return diffs;
                };

                // Compare decay grids
                const compareDecay = (step) => {
                    const diffs = [];
                    for (let y = 0; y < CONFIG.mapHeight; y++) {
                        for (let x = 0; x < CONFIG.mapWidth; x++) {
                            if (gameState.decay[y][x] !== simState.decay[y][x]) {
                                diffs.push(`decay@(${x},${y}): real(${gameState.decay[y][x]}) vs sim(${simState.decay[y][x]})`);
                                if (diffs.length >= 5) return diffs; // Limit output
                            }
                        }
                    }
                    return diffs;
                };

                // Compare awakened grids
                const compareAwakened = (step) => {
                    const diffs = [];
                    for (let y = 0; y < CONFIG.mapHeight; y++) {
                        for (let x = 0; x < CONFIG.mapWidth; x++) {
                            if (!!gameState.awakened[y][x] !== !!simState.awakened[y][x]) {
                                diffs.push(`awakened@(${x},${y}): real(${!!gameState.awakened[y][x]}) vs sim(${!!simState.awakened[y][x]})`);
                                if (diffs.length >= 5) return diffs;
                            }
                        }
                    }
                    return diffs;
                };

                // Compare map grids
                const compareMap = (step) => {
                    const diffs = [];
                    for (let y = 0; y < CONFIG.mapHeight; y++) {
                        for (let x = 0; x < CONFIG.mapWidth; x++) {
                            if (gameState.map[y][x] !== simState.map[y][x]) {
                                diffs.push(`map@(${x},${y}): real(${gameState.map[y][x]}) vs sim(${simState.map[y][x]})`);
                                if (diffs.length >= 5) return diffs;
                            }
                        }
                    }
                    return diffs;
                };

                let stepsExecuted = 0;
                let firstMismatchStep = -1;

                // Helper to get next move based on driver type
                const getNextMove = () => {
                    if (driverType === 'mechanic-exerciser') {
                        return this.mechanicExerciserMove();
                    } else if (driverType === 'oracle') {
                        return oracleBotMove();
                    }
                    return greedyBotMove(); // Default to greedy
                };

                let prevMoves = gameState.moves;
                let rewindDetected = false;

                // COVERAGE EVENTS: Track which mechanics have been exercised
                const coverageEvents = {
                    roomEntered: false,
                    tileCollapsed: false,
                    stabilizerUsed: false,
                    pillarPushed: false,
                    chainCollapse: false
                };
                const initialMapVersion = gameState.mapVersion || 0;
                let prevMapVersion = initialMapVersion;
                const initialPillarPositions = gameState.pillars.map(p => ({ x: p.x, y: p.y }));

                for (let step = 0; step < maxSteps; step++) {
                    // Check for stairs reached or death
                    if (gameState.map[gameState.player.y][gameState.player.x] === TILE.STAIRS_DOWN) break;
                    if (gameState.map[gameState.player.y][gameState.player.x] === TILE.VOID) break;

                    // Get bot decision for both
                    const decision = getNextMove();
                    if (!decision || decision.action === 'none') break;

                    // Apply to real game
                    if (decision.action === 'move') {
                        tryMove(decision.dx, decision.dy, true);
                    } else if (decision.action === 'stabilize') {
                        useStabilizer();
                    }

                    // Detect rewind (moves count decreased = death recovery)
                    if (gameState.moves < prevMoves) {
                        rewindDetected = true;
                        break; // Stop test - rewind breaks sim‚Üîreal comparison
                    }
                    prevMoves = gameState.moves;

                    // Apply same action to sim
                    if (decision.action === 'move') {
                        simMove(simState, decision.dx, decision.dy);
                    } else if (decision.action === 'stabilize') {
                        simUseStabilizer(simState);
                    }

                    stepsExecuted++;

                    // UPDATE COVERAGE EVENTS
                    if (!coverageEvents.roomEntered && (gameState.enteredRooms?.size > 0)) {
                        coverageEvents.roomEntered = true;
                    }
                    if (!coverageEvents.stabilizerUsed && gameState.frozenTiles.length > 0) {
                        coverageEvents.stabilizerUsed = true;
                    }
                    if (!coverageEvents.pillarPushed) {
                        for (let pi = 0; pi < gameState.pillars.length; pi++) {
                            if (gameState.pillars[pi].x !== initialPillarPositions[pi]?.x ||
                                gameState.pillars[pi].y !== initialPillarPositions[pi]?.y) {
                                coverageEvents.pillarPushed = true;
                                break;
                            }
                        }
                    }
                    // Detect tile collapse or chain collapse via mapVersion change
                    const currentMapVersion = gameState.mapVersion || 0;
                    if (currentMapVersion > prevMapVersion) {
                        const delta = currentMapVersion - prevMapVersion;
                        coverageEvents.tileCollapsed = true;
                        if (delta > 1) {
                            coverageEvents.chainCollapse = true; // Multiple tiles collapsed = chain
                        }
                        prevMapVersion = currentMapVersion;
                    }

                    // Compare states
                    const realPhysics = extractPhysicsState(gameState);
                    const simPhysics = extractPhysicsState(simState);
                    const stateDiffs = compareStates(realPhysics, simPhysics, step);
                    const decayDiffs = compareDecay(step);
                    const awakenedDiffs = compareAwakened(step);
                    const mapDiffs = compareMap(step);

                    if (stateDiffs.length > 0 || decayDiffs.length > 0 || awakenedDiffs.length > 0 || mapDiffs.length > 0) {
                        if (firstMismatchStep === -1) firstMismatchStep = step;
                        const allDiffs = [...stateDiffs, ...decayDiffs.slice(0,3), ...awakenedDiffs.slice(0,3), ...mapDiffs.slice(0,3)];
                        issues.push(`Step ${step} (${decision.action}): ${allDiffs.slice(0,5).join('; ')}`);
                        if (issues.length >= 10) break; // Cap issues
                    }
                }

                // COVERAGE-BASED STOPPING: Require 3/5 coverage events for meaningful test
                const MIN_COVERAGE = 3;
                const coverageCount = Object.values(coverageEvents).filter(v => v).length;
                const MIN_STEPS = 10; // Minimum steps as fallback

                return {
                    passed: issues.length === 0 && (coverageCount >= MIN_COVERAGE || stepsExecuted >= 30) && !rewindDetected,
                    issues,
                    stepsExecuted,
                    firstMismatchStep,
                    seed,
                    driverType,
                    rewindDetected,
                    coverageEvents,
                    coverageCount,
                    minCoverageRequired: MIN_COVERAGE
                };
            },

            // Run all tests
            runAll: function(quick = true) {
                const seedCount = quick ? this.config.quickSeeds : this.config.thoroughSeeds;
                const seedStart = 1000;
                const results = {};

                console.log('=== ORACLE TEST SUITE ===\n');

                // Test 1: Dominance
                console.log('Running dominance test...');
                const dom = this.testDominance(seedStart, seedCount);
                results.dominance = dom;
                console.log(`Dominance: ${dom.passed ? 'PASS' : 'FAIL'}`);
                console.log(`  Oracle wins: ${dom.oWins}/${seedCount}`);
                console.log(`  Greedy wins: ${dom.gWins}/${seedCount}`);
                console.log(`  Oracle exclusive: ${dom.oExclusive}`);
                console.log(`  Greedy exclusive: ${dom.gExclusive} ${dom.gExclusive === 0 ? '‚úì' : '‚úó'}\n`);

                // Test 1d: Deep run (L10 regression check)
                console.log('Running deep run test (L10)...');
                const deep = this.testDeepRun(seedStart, seedCount);
                results.deepRun = deep;
                console.log(`Deep Run (L10): ${deep.passed ? 'PASS' : 'FAIL'}`);
                console.log(`  Baseline seeds tested: ${deep.baselineTested}, wins: ${deep.baselineWins}`);
                if (!quick) console.log(`  Total L10 wins: ${deep.currentWins}/${deep.totalTested} (${deep.winRate}%)`);
                if (deep.regressions.length > 0) console.log(`  Regressions: ${deep.regressions.map(r => `seed ${r.seed} (died L${r.diedAtLevel})`).join(', ')}`);
                if (deep.improvements > 0) console.log(`  New wins (improvements): ${deep.improvements}`);
                console.log('');

                // Test 2: Determinism (symmetric)
                console.log('Running determinism test (oracle + greedy)...');
                const det = this.testDeterminism([1000, 1001, 1002, 3002, 3008]);
                results.determinism = det;
                console.log(`Determinism: ${det.passed ? 'PASS' : 'FAIL'}\n`);

                // Test 3: Regression
                console.log('Running regression test...');
                const reg = this.testRegression();
                results.regression = reg;
                console.log(`Regression: ${reg.passed ? 'PASS' : 'FAIL'}`);
                for (const r of reg.results) {
                    console.log(`  Seed ${r.seed}: ${r.actual ? 'WON' : 'LOST'} (${r.moves} moves) ${r.actual === r.expected ? '‚úì' : '‚úó'}`);
                }
                console.log('');

                // Test 4: Performance
                console.log('Running performance baseline...');
                const perf = this.testPerformance([1000, 1001, 1002]);
                results.performance = perf;
                console.log(`  Avg oracle time: ${perf.avgOracleTime}ms`);
                console.log(`  Avg greedy time: ${perf.avgGreedyTime}ms`);
                console.log(`  Ratio: ${perf.avgRatio}x\n`);

                // Test 5 & 6: Unit tests
                console.log('Running unit tests...');
                const clone = this.testDeepClone();
                const osc = this.testAntiOscillation();
                results.deepClone = clone;
                results.antiOscillation = osc;
                console.log(`  Deep clone (extended): ${clone.passed ? 'PASS' : 'FAIL'}${clone.issues?.length ? ' - ' + clone.issues.join(', ') : ''}`);
                console.log(`  Anti-oscillation: ${osc.passed ? 'PASS' : 'FAIL'} (${osc.backtracks} backtracks)\n`);

                // Test 7: Oracle regression (if baseline exists)
                if (this.baselineWinSet) {
                    console.log('Running oracle regression test...');
                    const oracleReg = this.testOracleRegression(seedStart, seedCount);
                    results.oracleRegression = oracleReg;
                    console.log(`Oracle Regression: ${oracleReg.passed ? 'PASS' : 'FAIL'}`);
                    console.log(`  Baseline wins: ${oracleReg.baselineWins}, Current wins: ${oracleReg.currentWins}`);
                    console.log(`  Regressions: ${oracleReg.regressions.length}, Improvements: ${oracleReg.improvements.length}\n`);
                } else {
                    console.log('Skipping oracle regression test (no baseline). Run establishBaseline() first.\n');
                    results.oracleRegression = { skipped: true };
                }

                // Test 8: Hash sanity - verify hash determinism and sensitivity
                console.log('Running hash sanity test...');
                const hashSanity = this.testHashSanity(1000, 20);
                results.hashSanity = hashSanity;
                console.log(`  Hash Sanity: ${hashSanity.passed ? 'PASS' : 'FAIL'} (${hashSanity.turnsChecked} turns, ${hashSanity.issues.length} issues)\n`);

                // Test 9: Action-level dominance (Invariant F) - quick test on 1 seed
                console.log('Running action dominance test...');
                const actDom = this.testActionDominance(1000, 20);
                results.actionDominance = actDom;
                console.log(`  Action Dominance: ${actDom.passed ? 'PASS' : 'FAIL'} (${actDom.turnsChecked} turns, ${actDom.dominated.length} dominated)\n`);

                // Test 10-14: Scenario/mechanics tests
                console.log('Running scenario tests...');
                const stabBFS = this.testStabilizerBFS();
                const roomGrace = this.testRoomGrace();
                const chainCollapse = this.testChainCollapse();
                const crystalStates = this.testCrystalStates();
                const rewindBounds = this.testRewindBoundaries();
                const safeBubbleNoDamage = this.testSafeBubbleNoShockDamage();
                const safeBubbleAwakens = this.testSafeBubbleStillAwakens();
                const pillarCentering = this.testPillarPush();
                const simPillarCentering = this.testSimPillarPush();
                const shadowStep = this.testShadowStep();

                results.stabilizerBFS = stabBFS;
                results.roomGrace = roomGrace;
                results.chainCollapse = chainCollapse;
                results.crystalStates = crystalStates;
                results.rewindBoundaries = rewindBounds;
                results.safeBubbleNoDamage = safeBubbleNoDamage;
                results.safeBubbleAwakens = safeBubbleAwakens;
                results.pillarCentering = pillarCentering;
                results.simPillarCentering = simPillarCentering;
                results.shadowStep = shadowStep;

                console.log(`  Stabilizer BFS: ${stabBFS.passed ? 'PASS' : 'FAIL'}${stabBFS.skipped ? ' (skipped: ' + stabBFS.skipped + ')' : ''}${stabBFS.issues?.length ? ' - ' + stabBFS.issues.join(', ') : ''}`);
                console.log(`  Room Grace: ${roomGrace.passed ? 'PASS' : 'FAIL'}${roomGrace.skipped ? ' (skipped: ' + roomGrace.skipped + ')' : ''}${roomGrace.issues?.length ? ' - ' + roomGrace.issues.join(', ') : ''}`);
                console.log(`  Chain Collapse: ${chainCollapse.passed ? 'PASS' : 'FAIL'}${chainCollapse.skipped ? ' (skipped: ' + chainCollapse.skipped + ')' : ''}${chainCollapse.issues?.length ? ' - ' + chainCollapse.issues.join(', ') : ''}`);
                console.log(`  Crystal States: ${crystalStates.passed ? 'PASS' : 'FAIL'}${crystalStates.skipped ? ' (skipped: ' + crystalStates.skipped + ')' : ''}${crystalStates.issues?.length ? ' - ' + crystalStates.issues.join(', ') : ''}`);
                console.log(`  Rewind Boundaries: ${rewindBounds.passed ? 'PASS' : 'FAIL'}${rewindBounds.issues?.length ? ' - ' + rewindBounds.issues.join(', ') : ''}`);
                console.log(`  Safe Bubble (No Damage): ${safeBubbleNoDamage.passed ? 'PASS' : 'FAIL'}${safeBubbleNoDamage.skipped ? ' (skipped: ' + safeBubbleNoDamage.skipped + ')' : ''}${safeBubbleNoDamage.issues?.length ? ' - ' + safeBubbleNoDamage.issues.join(', ') : ''}`);
                console.log(`  Safe Bubble (Awakens): ${safeBubbleAwakens.passed ? 'PASS' : 'FAIL'}${safeBubbleAwakens.skipped ? ' (skipped: ' + safeBubbleAwakens.skipped + ')' : ''}${safeBubbleAwakens.issues?.length ? ' - ' + safeBubbleAwakens.issues.join(', ') : ''}`);
                console.log(`  Pillar Push: ${pillarCentering.passed ? 'PASS' : 'FAIL'}${pillarCentering.skipped ? ' (skipped: ' + pillarCentering.skipped + ')' : ''}${pillarCentering.issues?.length ? ' - ' + pillarCentering.issues.join(', ') : ''}`);
                console.log(`  Sim Pillar Push: ${simPillarCentering.passed ? 'PASS' : 'FAIL'}${simPillarCentering.skipped ? ' (skipped: ' + simPillarCentering.skipped + ')' : ''}${simPillarCentering.issues?.length ? ' - ' + simPillarCentering.issues.join(', ') : ''}`);
                console.log(`  Shadow Step: ${shadowStep.passed ? 'PASS' : 'FAIL'} (${shadowStep.stepsExecuted} steps${shadowStep.firstMismatchStep >= 0 ? ', first mismatch at step ' + shadowStep.firstMismatchStep : ''})${shadowStep.issues?.length ? ' - ' + shadowStep.issues.slice(0,3).join('; ') : ''}\n`);

                const scenariosPassed = stabBFS.passed && roomGrace.passed && chainCollapse.passed && crystalStates.passed && rewindBounds.passed && safeBubbleNoDamage.passed && safeBubbleAwakens.passed && pillarCentering.passed && simPillarCentering.passed && shadowStep.passed;
                const invariantsPassed = hashSanity.passed && actDom.passed;

                // Threshold test: verify win rates meet minimums (uses dominance results)
                const thresholdIssues = [];
                const oracleRate = dom.oWins / seedCount * 100;
                const greedyRate = dom.gWins / seedCount * 100;
                const gap = oracleRate - greedyRate;
                if (oracleRate < 50) thresholdIssues.push(`Oracle rate ${oracleRate.toFixed(1)}% < 50%`);
                if (gap < 15) thresholdIssues.push(`Gap ${gap.toFixed(1)}% < 15%`);
                if (dom.gExclusive > 0) thresholdIssues.push(`gExclusive=${dom.gExclusive}`);
                const thresholdsPassed = thresholdIssues.length === 0;
                results.thresholds = { passed: thresholdsPassed, oracleRate: oracleRate.toFixed(1), greedyRate: greedyRate.toFixed(1), gap: gap.toFixed(1), issues: thresholdIssues };
                console.log(`Thresholds: ${thresholdsPassed ? 'PASS' : 'FAIL'} (oracle=${oracleRate.toFixed(1)}% greedy=${greedyRate.toFixed(1)}% gap=${gap.toFixed(1)}%${thresholdIssues.length ? ' - ' + thresholdIssues.join(', ') : ''})\n`);

                const allPassed = dom.passed && deep.passed && det.passed && reg.passed && clone.passed && osc.passed &&
                                  (!results.oracleRegression || results.oracleRegression.skipped || results.oracleRegression.passed) &&
                                  invariantsPassed && scenariosPassed && thresholdsPassed;
                console.log(`=== ${allPassed ? 'ALL TESTS PASSED' : 'SOME TESTS FAILED'} ===`);

                results.allPassed = allPassed;
                return results;
            }
        };

        // Bot testing API
        window.getFullGameState = getFullGameState;
        window.analyzePosition = analyzePosition;
        window.getValidMoves = getValidMoves;
        window.randomBotMove = randomBotMove;
        window.greedyBotMove = greedyBotMove;
        window.tacticalBotMove = tacticalBotMove;
        window.oracleBotMove = oracleBotMove;
        window.runBotGame = runBotGame;
        window.runBotGameDetailed = runBotGameDetailed;
        window.generateDetailedPlaythrough = generateDetailedPlaythrough;
        window.downloadPlaythrough = downloadPlaythrough;
        window.runBotGameConstrained = runBotGameConstrained;
        window.runMechanicNecessity = runMechanicNecessity;
        window.heuristicBotMove = heuristicBotMove;
        window.runHorizonSweep = runHorizonSweep;
        window.runFunAnalysis = runFunAnalysis;
        window.runBotTests = runBotTests;
        window.findPathDecayWeighted = findPathDecayWeighted;
        window.countWalkableNeighbors = countWalkableNeighbors;
        window.runComparativeTests = runComparativeTests;
        window.runOracleTests = runOracleTests;
        window.OracleTestSuite = OracleTestSuite;
        // Additional exports for test suite
        window.useStabilizer = useStabilizer;
        window.awakenNearbyTiles = awakenNearbyTiles;
        window.saveStateToHistory = saveStateToHistory;
        window.rewindState = rewindState;
        window.inBounds = inBounds;
        // Replay system exports
        window.recordBotReplay = recordBotReplay;
        window.generateShowcaseReplays = generateShowcaseReplays;
        window.replayGame = replayGame;
        window.downloadReplay = downloadReplay;
        window.loadReplayFromFile = loadReplayFromFile;
        window.showReplayLibrary = showReplayLibrary;
        window.hideReplayLibrary = hideReplayLibrary;
        window.updateReplayUI = updateReplayUI;
        window.exitReplayToNewGame = exitReplayToNewGame;
        window.showLeaderboard = showLeaderboard;
        window.hideLeaderboard = hideLeaderboard;
        window.playLeaderboardReplay = playLeaderboardReplay;
        window.clearLeaderboard = clearLeaderboard;
        // Save system exports
        window.saveGame = saveGame;
        window.loadGame = loadGame;
        window.hasSavedGame = hasSavedGame;

        init();
    </script>
</body>
</html>
